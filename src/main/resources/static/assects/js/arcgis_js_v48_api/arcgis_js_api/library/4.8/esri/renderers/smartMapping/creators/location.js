// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/assignHelper ../../../core/promiseUtils ../../SimpleRenderer ./support/utils ../support/utils ../symbology/location".split(" "),function(p,h,l,f,m,e,k,g){function n(b){if(!b||!b.layer)return f.reject(e.createError("location-renderer:missing-parameters","'layer' parameter is required"));var a=l({},b);a.symbolType=a.symbolType||"2d";b=[0,1,2];var c=k.createLayerAdapter(a.layer,b);return(a.layer=c)?c.load().then(function(){var d=c.geometryType,b=-1<a.symbolType.indexOf("3d");
if("mesh"===d)a.symbolType="3d-volumetric",a.colorMixMode=a.colorMixMode||"replace",a.edgesType=a.edgesType||"none";else{if(b&&("polyline"===d||"polygon"===d))return f.reject(e.createError("location-renderer:not-supported","3d symbols are not supported for polyline and polygon layers"));if(-1<a.symbolType.indexOf("3d-volumetric")&&(!a.view||"3d"!==a.view.type))return f.reject(e.createError("location-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'"))}return a}):
f.reject(e.createError("location-renderer:invalid-parameters","'layer' must be one of these types: "+k.getLayerTypeLabels(b).join(", ")))}Object.defineProperty(h,"__esModule",{value:!0});h.createRenderer=function(b){return n(b).then(function(a){var c,d,b=a.layer.geometryType;c=a.locationScheme;d=a.basemap;c?c=g.cloneScheme(c):(c=(d=g.getSchemes({basemap:a.basemap,geometryType:b,worldScale:-1<a.symbolType.indexOf("3d-volumetric"),view:a.view}))&&d.primaryScheme,d=d&&d.basemapId);return c?{renderer:new m({symbol:e.createSymbol(c,
c.color,b,a.symbolType,a.colorMixMode,a.edgesType)}),locationScheme:g.cloneScheme(c),basemapId:d}:f.reject(e.createError("location-renderer:insufficient-info","Unable to find location scheme"))})}});