// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(f,x,r,g,t,d,u,v,w,k){function p(d){return d&&("esri.geometry.SpatialReference"===d.declaredClass||null!=d.wkid)}var l=[0,0],q=t.getLogger("esri.geometry.Point");f=function(f){function c(a,b,c,h,d){a=f.call(this)||this;a.x=0;a.y=0;a.z=void 0;a.m=
void 0;a.type="point";return a}r(c,f);m=c;c.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};c.distance=function(a,b){var c=a.x-b.x,h=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+h*h+a*a)};c.prototype.normalizeCtorArgs=function(a,b,c,h,d){var e;if(Array.isArray(a))e=a,d=b,a=e[0],b=e[1],c=e[2],h=e[3];else if(a&&"object"===typeof a){if(e=a,a=null!=e.x?e.x:e.longitude,b=null!=e.y?e.y:e.latitude,
c=null!=e.z?e.z:e.altitude,h=e.m,(d=e.spatialReference)&&"esri.geometry.SpatialReference"!==d.declaredClass&&(d=new v(d)),null!=e.longitude||null!=e.latitude)null==e.longitude?q.warn(".longitude\x3d","Latitude was defined without longitude"):null==e.latitude?q.warn(".latitude\x3d","Longitude was defined without latitude"):!e.declaredClass&&d&&d.isWebMercator&&(b=k.lngLatToXY(e.longitude,e.latitude,l),a=b[0],b=b[1])}else p(c)?(d=c,c=null):p(h)&&(d=h,h=null);a={x:a,y:b};null!=d&&(a.spatialReference=
d);null!=c&&(a.z=c);null!=h&&(a.m=h);return a};Object.defineProperty(c.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"latitude",
{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return k.xyToLngLat(this.x,this.y,l)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",k.lngLatToXY(this.x,a,l)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return k.xyToLngLat(this._get("x"),
this._get("y"),l)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",k.lngLatToXY(a,this._get("y"),l)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});c.prototype.clone=function(){var a=new m;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};c.prototype.copy=function(a){m.copy(a,this);return this};c.prototype.equals=function(a){var b;
if(!a)return!1;var c=this.x,d=this.y,g=this.z,e=this.m,f=this.spatialReference,l=a.z,m=a.m,n=a.x;b=a.y;a=a.spatialReference;if(!f.equals(a))if(f.isWebMercator&&a.isWGS84)b=k.lngLatToXY(n,b),n=b[0],b=b[1],a=f;else if(f.isWGS84&&a.isWebMercator)b=k.xyToLngLat(n,b),n=b[0],b=b[1],a=f;else return!1;return c===n&&d===b&&g===l&&e===m&&f.wkid===a.wkid};c.prototype.offset=function(a,b,c){this.x+=a;this.y+=b;null!=c&&this.hasZ&&(this.z+=c);return this};c.prototype.normalize=function(){if(!this.spatialReference)return this;
var a=w.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],d=c[1],c=2*d;b>d?(a=Math.ceil(Math.abs(b-d)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};c.prototype.distance=function(a){return m.distance(this,a)};c.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};c.prototype.toJSON=function(a){return this.write(null,a)};
var m;g([d.property({dependsOn:["x","y","z","m","spatialReference"]})],c.prototype,"cache",void 0);g([d.property({type:Boolean,dependsOn:["m"],json:{write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);g([d.property({type:Boolean,dependsOn:["z"],json:{write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);g([d.property({type:Number,dependsOn:["y"]})],c.prototype,"latitude",null);g([d.property({type:Number,dependsOn:["x"]})],c.prototype,"longitude",null);g([d.property({type:Number,
json:{write:{isRequired:!0}}})],c.prototype,"x",void 0);g([d.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);g([d.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);g([d.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],c.prototype,"m",void 0);return c=m=g([d.subclass("esri.geometry.Point")],c)}(d.declared(u));f.prototype.toJSON.isDefaultToJSON=!0;return f});