// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/core/request/iframe.html":'\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n\x3chead\x3e\r\n  \x3cmeta http-equiv\x3d"Content-Security-Policy" content\x3d"default-src \'none\'; script-src * \'unsafe-inline\'"\x3e\r\n\r\n  \x3cscript\x3e\r\n    var dojoConfig \x3d {\r\n      async: true,\r\n      baseUrl: "../../../dojo/",\r\n      has: {\r\n        "csp-restrictions": true,\r\n        "dojo-preload-i18n-Api": false\r\n      }\r\n    };\r\n  \x3c/script\x3e\r\n  \x3c!--\r\n  This src is relative to this page and assumes dojo is a sibling to esri.\r\n  It is updated when this file is set as the iframe\'s `srcdoc` value.\r\n  --\x3e\r\n  \x3cscript src\x3d"../../../dojo/dojo.js"\x3e\x3c/script\x3e\r\n\r\n  \x3cscript\x3e\r\n    function windowMessageHandler(event) {\r\n      window.removeEventListener("message", windowMessageHandler);\r\n\r\n      var port \x3d event.ports[0];\r\n\r\n      require([\r\n        "dojo/request/script"\r\n      ], function(script) {\r\n        port.postMessage("ready");\r\n\r\n        port.addEventListener("message", function(event) {\r\n          var data \x3d event.data;\r\n          script.get(data.url, data.options)\r\n              .then(function(response) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  response: response\r\n                });\r\n              })\r\n              .catch(function(error) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  isError: true,\r\n                  message: error.message\r\n                });\r\n              });\r\n        });\r\n        port.start();\r\n      });\r\n    }\r\n\r\n    window.addEventListener("message", windowMessageHandler);\r\n  \x3c/script\x3e\r\n\x3c/head\x3e\r\n\x3cbody\x3e\r\n\x3c/body\x3e\r\n\x3c/html\x3e\r\n'}});
define("require exports dojo/Deferred dojo/text!./iframe.html dojo/request/script ../sniff".split(" "),function(l,m,p,q,r,h){function t(){var b=document.createElement("iframe");b.name="esri_core_jsonp_iframe";b.style.display="none";b.setAttribute("sandbox","allow-scripts");if(!h("ff")&&"srcdoc"in b){var a=h("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js",c=l.toUrl(a),a=q.replace("../../../dojo/dojo.js",c),c=c.slice(0,c.lastIndexOf("/")),a=a.replace("../../../dojo/",c);b.srcdoc=a}else a=l.toUrl("./iframe.html"),
"http:"===window.location.protocol&&0===a.indexOf("https:")&&(a=a.replace("https:","http:")),b.src=a;document.body.appendChild(b);return b}function u(){var b=new MessageChannel;b.port1.addEventListener("message",v);b.port1.start();return b}function v(b){var a=b.data;if("ready"===a){for(var a=0,c=d;a<c.length;a++)b=c[a],n(b,g);d=null}else if(b=e[a.id])delete e[a.id],a.isError?b.dfd.reject(Error(a.message)):b.dfd.resolve(a.response)}function w(b,a){b.addEventListener("load",function(){b.contentWindow.postMessage("init",
"*",[a.port2])})}function n(b,a){e[b.message.id]=b;a.port1.postMessage(b.message)}Object.defineProperty(m,"__esModule",{value:!0});var k,g,x=0,d=[],e={};m.get=function(b,a){if(!h("esri-script-sandbox"))return r.get(b,a);var c=null;a&&(c={jsonp:a.jsonp,preventCache:a.preventCache,query:a.query,timeout:a.timeout});a=new p(function(){if(d){var a=d.indexOf(f);-1<a&&d.splice(a,1)}else f.message.id in e&&delete e[f.message.id]});var f={dfd:a,message:{id:"id"+(++x+Math.random()),url:b,options:c}};k||(k=
t(),g=u(),w(k,g));d?d.push(f):n(f,g);return a.promise}});