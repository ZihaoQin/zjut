// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define(["require","exports","./depthRange","./RenderSlot"],function(k,l,g,h){var f={near:0,far:0};return function(){function c(){this.renderersChanged=!1;this.renderers=[];this.slots=[];for(var a=0;a<h.MAX_SLOTS;++a)this.slots[a]=[]}c.prototype.addRenderer=function(a,b){this.renderers.push(b);for(var d=0;d<a.length;++d)this.slots[a[d]].push(b);this.renderersChanged=!0};c.prototype.removeRenderer=function(a){this.renderers=this.renderers.filter(function(b){return b!==a});for(var b=0;b<this.slots.length;++b)this.slots[b]=
this.slots[b].filter(function(b){return b!==a});this.renderersChanged=!0};c.prototype.prepareRender=function(a){for(var b=0,d=this.renderers;b<d.length;b++){var e=d[b];e.prepareRender&&e.prepareRender(a)}};c.prototype.render=function(a,b){b.slot=a;var d=!1,e=0;for(a=this.slots[a];e<a.length;e++){var c=a[e];c.render(b)&&(d=c.didRender=!0)}return d};c.prototype.queryDepthRange=function(a){f.near=Infinity;f.far=-Infinity;for(var b=0,d=this.renderers;b<d.length;b++){var c=d[b];c.queryDepthRange&&(c=c.queryDepthRange(a))&&
g.union(f,c,f)}return f};c.prototype.needsRender=function(){if(this.renderersChanged)return!0;for(var a=0,b=this.renderers;a<b.length;a++)if(b[a].needsRender)return!0;return!1};c.prototype.needsHighlight=function(){for(var a=0,b=this.renderers;a<b.length;a++)if(b[a].needsHighlight)return!0;return!1};c.prototype.needsLinearDepth=function(){for(var a=0,b=this.renderers;a<b.length;a++)if(b[a].needsLinearDepth)return!0;return!1};c.prototype.resetNeedsRender=function(){this.renderersChanged=!1;for(var a=
0,b=this.renderers;a<b.length;a++){var c=b[a];c.resetNeedsRender?c.resetNeedsRender():c.didRender&&(c.needsRender=!1,c.didRender=!1)}};return c}()});