// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define(["require","exports","../../core/object"],function(m,b,h){function k(a,e,d){if(a)for(var c=0;c<a.length;c++){var b=a[c],f=h.getDeepValue(b,e);(f=f&&"function"!==typeof f&&l(f,d))&&h.setDeepValue(b,f.name,e)}}function l(a,b){if("string"!==typeof a)return null;if(null!=b){a=a.toLowerCase();for(var d=0;d<b.length;d++){var c=b[d];if(c&&c.name.toLowerCase()===a)return c}}return null}Object.defineProperty(b,"__esModule",{value:!0});b.extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];
a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};b.fixRendererFields=function(a,e){if(null!=a&&null!=e){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var c=a[d];k(b.rendererFields,c,e);if(c.visualVariables)for(var g=0,c=c.visualVariables;g<c.length;g++)k(b.visualVariableFields,c[g],e)}}};
b.getField=l;b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");b.visualVariableFields=["field","normalizationField"];b.numericTypes=["integer","small-integer","single","double"];b.isNumericField=function(a,e){return a?-1<b.numericTypes.indexOf(a.type)&&a.name!==e.objectIdField:!1};b.isStringField=function(a,b){return a?"string"===a.type&&a.name!==
b.objectIdField:!1};b.isDateField=function(a){return a?"date"===a.type:!1}});