// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Logger ../../core/accessorSupport/decorators ../../geometry/support/aaBoundingRect ../../geometry/support/webMercatorUtils ../../layers/support/ElevationSampler".split(" "),function(q,r,f,d,g,h,k,c,l,m,n){var p=k.getLogger("esri.views.support.GroundViewElevationSampler");return function(e){function b(a){a=e.call(this,a)||this;a.demResolution={min:-1,
max:-1};return a}f(b,e);b.prototype.initialize=function(){var a=this;this.view.basemapTerrain.on("elevation-change",function(){return a.emit("changed",{})})};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.view.basemapTerrain;return a.extent&&a.spatialReference?l.toExtent(a.extent,a.spatialReference):null},enumerable:!0,configurable:!0});b.prototype.elevationAt=function(a){var b=a.spatialReference,c=this.spatialReference;return m.canProject(b,c)?this.view.basemapTerrain.getElevation(a):
(p.error("Cannot sample elevation at a location with spatial reference ("+(b?b.wkid:"unknown")+") different from the view ("+c.wkid+")"),null)};b.prototype.queryElevation=function(a){return n.updateGeometryElevation(a.clone(),this)};d([c.property({readOnly:!0})],b.prototype,"demResolution",void 0);d([c.property({readOnly:!0,dependsOn:["view.basemapTerrain.extent","view.basemapTerrain.spatialReference"]})],b.prototype,"extent",null);d([c.property({readOnly:!0,aliasOf:"view.basemapTerrain.spatialReference"})],
b.prototype,"spatialReference",void 0);d([c.property({constructOnly:!0})],b.prototype,"view",void 0);return b=d([c.subclass("esri.views.support.GroundViewElevationSampler")],b)}(c.declared(g,h))});