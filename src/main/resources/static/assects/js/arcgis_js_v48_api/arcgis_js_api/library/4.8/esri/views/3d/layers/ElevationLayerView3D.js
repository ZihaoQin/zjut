// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Error ../../../core/promiseUtils ../../../core/watchUtils ../../../core/accessorSupport/decorators ./TiledLayerView3D ./support/tiledLayerUtils".split(" "),function(n,p,h,d,k,f,l,b,m,g){return function(e){function a(){return null!==e&&e.apply(this,arguments)||this}h(a,e);a.prototype.initialize=function(){var a=this,c=this.get("view.map.ground.layers"),b=this.get("view.map.allLayers"),
b=b&&b.includes(this.layer),c=c&&c.includes(this.layer);b&&!c&&(c=new k("layerview:elevation-layer-only","3D elevation layer '"+this.layer.id+"' can only be added in the map ground"),this.addResolvingPromise(f.reject(c)));(c=this._getTileInfoSupportError(this.tileInfo,this.layer.fullExtent))?this.addResolvingPromise(f.reject(c)):(c=l.whenTrueOnce(this.view,"basemapTerrain.tilingSchemeLocked").then(function(){g.throwIfError(a._getTileInfoCompatibilityError(a.tileInfo,a.view.basemapTerrain.tilingScheme))}),
this.addResolvingPromise(c));this.addResolvingPromise(g.checkArcGISServiceVersionCompatibility(this.layer));this._updateMinMaxDataLevel()};d([b.property({aliasOf:"layer.fullExtent"})],a.prototype,"fullExtent",void 0);d([b.property()],a.prototype,"layer",void 0);d([b.property({aliasOf:"layer.tileInfo"})],a.prototype,"tileInfo",void 0);return a=d([b.subclass("esri.views.3d.layers.ElevationLayerView3D")],a)}(b.declared(m))});