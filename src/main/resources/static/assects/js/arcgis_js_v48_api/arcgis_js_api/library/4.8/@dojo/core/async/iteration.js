//>>built
(function(e){"object"===typeof module&&"object"===typeof module.exports?(e=e(require,exports),void 0!==e&&(module.exports=e)):"function"===typeof define&&define.amd&&define(["require","exports","@dojo/shim/array","@dojo/shim/iterator","@dojo/shim/Promise"],e)})(function(e,d){function l(b){return b&&"function"===typeof b.then}function m(b,a){return h.default.all(b).then(function(b){var c=Array.prototype.map.call(b,a);return h.default.all(c).then(function(a){return{values:b,results:a}})})}function r(b,
a){void 0===a&&(a=-1);a++;for(var f=b.length;a<f;a++)if(a in b)return a;return-1}function y(b,a){for(a=(void 0===a?b.length:a)-1;0<=a;a--)if(a in b)return a;return-1}function n(b,a,f,c){var x=3<arguments.length;return h.default.all(a).then(function(g){return new h.default(function(d,e){function h(a){k=b(t,k);0<=k?g&&a&&(a=f(a,g[k],k,g),l(a)?a.then(h,e):h(a)):d(a)}var t=u.isArrayLike(a)?a:g,k,p;if(x)p=c;else{k=b(t);if(0>k)throw Error("reduce array with no initial value");g&&(p=g[k])}h(p)})})}function v(b,
a,f){return h.default.all(a).then(function(a){return new h.default(function(c){var g,d=0;if(a)for(var e=0;e<a.length;e++){g=f(a[e],e,a);if(g===b)return c(g);l(g)&&(d++,g.then(function(a){a===b&&c(a);d--;0===d&&c(!b)}))}0===d&&c(!b)})})}function w(b,a){return m(b,a).then(function(a){if(a&&a.results)for(var b=0;b<a.results.length;b++)if(a.results[b])return b;return-1})}Object.defineProperty(d,"__esModule",{value:!0});var q=e("@dojo/shim/array"),u=e("@dojo/shim/iterator"),h=e("@dojo/shim/Promise");d.every=
function(b,a){return v(!1,b,a)};d.filter=function(b,a){return m(b,a).then(function(a){var b=[];if(a&&a.results&&a.values)for(var f=0;f<a.results.length;f++)a.results[f]&&b.push(a.values[f]);return b})};d.find=function(b,a){var f=u.isArrayLike(b)?b:q.from(b);return w(f,a).then(function(a){return void 0!==a&&0<=a?f[a]:void 0})};d.findIndex=w;d.map=function(b,a){return m(b,a).then(function(a){return a?a.results:null})};d.reduce=function(b,a,f){var c=q.from(arguments);c.unshift(r);return n.apply(this,
c)};d.reduceRight=function(b,a,f){var c=q.from(arguments);c.unshift(y);return n.apply(this,c)};d.series=function(b,a){return n(r,b,function(b,c,d,e){c=a(c,d,e);if(l(c))return c.then(function(a){b.push(a);return b});b.push(c);return b},[])};d.some=function(b,a){return v(!0,b,a)}});