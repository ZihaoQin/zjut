//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports @dojo/shim/Map @dojo/shim/WeakMap @dojo/shim/Symbol ./List".split(" "),a)})(function(a,d){Object.defineProperty(d,"__esModule",{value:!0});var m=a("@dojo/shim/Map"),k=a("@dojo/shim/WeakMap");a("@dojo/shim/Symbol");var l=a("./List"),n=function(){},b=new k.default;a=function(){function a(){b.set(this,{entryMap:new m.default,
idMap:new k.default})}a.prototype.get=function(e){var a=b.get(this).entryMap.get(e);if(!a)throw Error("Could not find a value for identity '"+e.toString()+"'");return a.value};a.prototype.contains=function(a){return b.get(this).idMap.has(a)};a.prototype.delete=function(a){a=b.get(this).entryMap.get(a);if(!a)return!1;a.handle.destroy();return!0};a.prototype.has=function(a){return b.get(this).entryMap.has(a)};a.prototype.identify=function(a){if(!this.contains(a))throw Error("Could not identify non-registered value");
return b.get(this).idMap.get(a)};a.prototype.register=function(a,c){var e=this,d=b.get(this).entryMap,f=d.get(a);if(f&&f.value!==c)throw c=a.toString(),Error("A value has already been registered for the given identity ("+c+")");var g=this.contains(c)?this.identify(c):null;if(g&&g!==a)throw c=g.toString(),Error("The value has already been registered with a different identity ("+c+")");if(f&&g)return f.handle;var h={destroy:function(){h.destroy=n;b.get(e).entryMap.delete(a)}};d.set(a,{handle:h,value:c});
b.get(this).idMap.set(c,a);return h};a.prototype.entries=function(){var a=new l.default;b.get(this).entryMap.forEach(function(c,b){a.add([b,c.value])});return a.values()};a.prototype.values=function(){var a=new l.default;b.get(this).entryMap.forEach(function(b,d){a.add(b.value)});return a.values()};a.prototype.ids=function(){return b.get(this).entryMap.keys()};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}();d.default=a});