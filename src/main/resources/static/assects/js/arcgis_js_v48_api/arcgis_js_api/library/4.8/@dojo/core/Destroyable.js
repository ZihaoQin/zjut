//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","./lang","@dojo/shim/Promise"],a)})(function(a,c){function f(){return e.default.resolve(!1)}function g(){throw Error("Call made to destroyed method");}Object.defineProperty(c,"__esModule",{value:!0});var h=a("tslib"),k=a("./lang"),e=a("@dojo/shim/Promise");a=function(){function a(){this.handles=[]}
a.prototype.own=function(a){var b=Array.isArray(a)?k.createCompositeHandle.apply(void 0,h.__spread(a)):a,d=this.handles;d.push(b);return{destroy:function(){d.splice(d.indexOf(b));b.destroy()}}};a.prototype.destroy=function(){var a=this;return new e.default(function(b){a.handles.forEach(function(a){a&&a.destroy&&a.destroy()});a.destroy=f;a.own=g;b(!0)})};return a}();c.Destroyable=a;c.default=a});