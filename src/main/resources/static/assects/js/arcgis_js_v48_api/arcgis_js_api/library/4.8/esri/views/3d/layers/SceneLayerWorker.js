// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,b,k,m,r,h,u,v){a=function(a){function b(c){c=a.call(this)||this;c.latestWkid=null;c.wkid=null;c.wkt=null;return c}k(b,a);c=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===
a.wkid)return c.WGS84}var b=new c;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var c;return a&&"object"===typeof a?a:(c={},c["string"===typeof a?"wkt":"wkid"]=a,c)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return v.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return v.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return v.isGeographic(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return v.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,c){this.wkid||(c.wkt=a)};b.prototype.clone=function(){if(this===c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=
this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return v.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var c;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;m([u.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);m([u.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);m([u.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);m([u.property({dependsOn:["wkid"],
readOnly:!0})],b.prototype,"isWrappable",null);m([u.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);m([u.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);m([u.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);m([u.writer("wkt"),u.writer("web-scene",
"wkt")],b.prototype,"writeWkt",null);m([u.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);m([u.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=c=m([u.subclass("esri.geometry.SpatialReference")],b)}(u.declared(r));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
a.WGS84=new a(4326);a.WGS84.wkt=h.substitute({Central_Meridian:"0.0"},v.getInfo(a.WGS84).wkTemplate);a.WebMercator=new a({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(a,b){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(a,b,k,m){var r=
arguments.length,h=3>r?b:null===m?m=Object.getOwnPropertyDescriptor(b,k):m,u;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(a,b,k,m);else for(var v=a.length-1;0<=v;v--)if(u=a[v])h=(3>r?u(h):3<r?u(b,k,h):u(b,k))||h;return 3<r&&h&&Object.defineProperty(b,k,h),h}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,b,k,m,r,h,u,v,x){function l(a,c){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var b=new this;b.read(a,c);return b}var c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}k(c,a);c.prototype.read=function(a,c){v.default(this,a,c);return this};c.prototype.write=function(a,c){return x.default(this,a||{},c)};c.prototype.toJSON=function(a){return this.write(null,a)};c.fromJSON=function(a,c){return l.call(this,a,c)};return c=m([u.subclass("esri.core.JSONSupport")],
c)}(u.declared(r));c.prototype.toJSON.isDefaultToJSON=!0;h.after(function(a){h.hasMixin(a,c)&&(a.fromJSON=l.bind(a))});return c})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(a,b,k,m,r,h){b=b.default;a.before(function(b,h){a.hasMixin(b,u)&&m.processPrototype(h)});a.after(function(b){a.hasMixin(b,u)&&(m.processClass(b),Object.defineProperties(b.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var u=a(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===u)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],h=0;h<arguments.length;h++)a.push(arguments[h]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;var l;null!=this.getDefaults&&(l=this.getDefaults(a||{}),this.set(l));b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(v){console.warn(v.stack)}else h.removeTarget(this),this.__accessor__.destroy()},get:function(a){return k.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){r.set(this,a,b);return this},watch:function(a,b,l){return h.watch(this,a,b,l)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return u})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(a,b,k){function m(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return r([this].concat(a),
b)}function r(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var l,c;l=0;for(c=h.length;l<c;l++)h[l](a,b);a=k(a,b);a.createSubclass=m;l=0;for(c=u.length;l<c;l++)u[l](a);return a}var h=[],u=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,c){return c._meta?a.concat(c._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===
b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return k.safeMixin(a,b)};a.before=function(a){h.push(a)};a.after=function(a){u.push(a)}})(r||(r={}));return r})},"esri/core/accessorSupport/Properties":function(){define("require exports dojo/has ../Logger ./extensions ./PropertyOrigin ./Store".split(" "),function(a,b,k,m,r,h,u){Object.defineProperty(b,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=h.OriginId.USER;
this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new u.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;r.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(this.cursors)for(var b=0,c=Object.getOwnPropertyNames(a);b<
c.length;b++){var e=c[b],g=a[e];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,e);a[e]=null}}if(this.autoDestroy)for(e in this.metadatas)(a=this.internalGet(e))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[e].nonNullable||this.internalSet(e,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};
a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var c=b.get;return c?(b=c.call(this.host),this.store.set(a,b,h.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":h.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=
this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){this.metadatas[a]&&(this.propertyInvalidated(a),this.initialized?this.store.set(a,b,this._origin):this.store.set(a,b,h.OriginId.DEFAULTS),this.propertyCommitted(a))};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return this.store.keys()};a.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden=
{});var c=this.metadatas[a];c.nonNullable&&null==b||((c=c.cast)&&(b=c.call(this.host,b)),this.overridden[a]=!0,this.internalSet(a,b))}};a.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var e=c.set;(c=c.cast)&&(b=c.call(this.host,b));e?e.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=function(a){this._origin=h.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,c=this.isOverridden(a),e=this.cursors&&
this.cursors[a],g=this.metadatas[a].computes;if(e)for(var y=0;y<e.length;y++)e[y].propertyInvalidated(this,a);c||(b[a]=!0);if(g)for(a=0;a<g.length;a++)this.propertyInvalidated(g[a])};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,
b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};return a}();b.default=a})},"esri/core/Logger":function(){define(["require","exports","dojo/has"],function(a,b,k){var m={info:0,warn:1,error:2};a=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,
b)))}a.prototype.log=function(a){for(var b=[],v=1;v<arguments.length;v++)b[v-1]=arguments[v];this._isEnabled()&&this._matchLevel(a)&&(v=this._inheritedWriter())&&v.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],
b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=function(b){var h=a._loggers[b];h||(h=new a({module:b}));return h};a.prototype._parentWithMember=function(a,b){for(var v=this;v&&null==v[a];)v=v.parent;return v?v[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var v=[],h=2;h<
arguments.length;h++)v[h-2]=arguments[h];console[a].apply(console,["["+b+"]"].concat(v))};a.prototype._matchLevel=function(a){return m[this._parentWithMember("level","error")]<=m[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a.getLogger("esri").level="warn";return a})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],
function(a,b,k,m,r){Object.defineProperty(b,"__esModule",{value:!0});var h=[k.default,m.default,r.default];b.processPrototypeMetadatas=function(a,b){for(var v=Object.getOwnPropertyNames(a),l=0;l<h.length;l++){var c=h[l];if(c.processPrototypePropertyMetadata)for(var e=0,g=v;e<g.length;e++){var y=g[e];c.processPrototypePropertyMetadata(y,a[y],a,b)}}};b.processClassMetadatas=function(a,b){for(var v=Object.getOwnPropertyNames(a),l=0;l<h.length;l++){var c=h[l];if(c.processClassPropertyMetadata)for(var e=
0,g=v;e<g.length;e++){var y=g[e];c.processClassPropertyMetadata(y,a[y],a,b)}}};b.instanceCreated=function(a,b){for(var v=Object.getOwnPropertyNames(b),l=0;l<h.length;l++){var c=h[l];c.instanceCreated&&c.instanceCreated(a,b,v)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports dojo/has ../get ../set ../utils ../wire".split(" "),function(a,b,k,m,r,h,u){function v(a,b,c){var e=h.getProperties(a);return u.wire(a,c.aliasOf,function(){e.propertyInvalidated(b)})}
Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,c,e){var g=b.aliasOf;if(g&&(a=g.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var l;b.get=function(){var a=m.default(this,g);if("function"===typeof a){l||(l=g.split(".").slice(0,-1).join("."));var c=m.default(this,l);c&&(a=a.bind(c))}return a};b.readOnly||(b.set=function(a){return r.default(this,g,a)})}},instanceCreated:function(a,b,c){for(var e=0;e<c.length;e++){var g=c[e],l=b[g];l.aliasOf&&
v(a,g,l)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(a,b,k){function m(a,b,l){if(null!=l.getItemAt||Array.isArray(l)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(l)?l[c]:l.getItemAt(c)}c=k.getProperties(l);return b?k.isPropertyDeclared(c,a)?c.get(a):l[a]:k.isPropertyDeclared(c,a)?c.internalGet(a):l[a]}function r(a,b,l,c){if(null==a)return a;if((a=m(b[c],l,a))||!(c<b.length-1))return c===b.length-1?
a:r(a,b,l,c+1)}function h(a,b,l,c){void 0===l&&(l=!1);void 0===c&&(c=0);return"string"===typeof b&&-1===b.indexOf(".")?m(b,l,a):r(a,k.pathToArray(b),l,c)}function u(a,b){return h(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=h;b.get=u;b.exists=function(a,b){return void 0!==h(b,a,!0)};b.default=u})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(a,b,k){function m(a,b){return b?Object.keys(b).reduce(function(a,c){if("value"===c)return a[c]=
b[c],a;if(void 0===a[c])return a[c]=k.clone(b[c]),a;var e=a[c],g=b[c];if(e===g)return a;if(Array.isArray(g)||Array.isArray(a))e=e?Array.isArray(e)?a[c]=e.concat():a[c]=[e]:a[c]=[],g&&(Array.isArray(g)||(g=[g]),g.forEach(function(a){-1===e.indexOf(a)&&e.push(a)}));else if(g&&"object"===typeof g)a[c]=m(e,g);else if(!a.hasOwnProperty(c)||b.hasOwnProperty(c))a[c]=g;return a},a||{}):a}function r(a){return Array.isArray(a)?a:a.split(".")}function h(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?
a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function u(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};b.merge=m;b.pathToStringOrArray=function(a){return a?"string"===typeof a&&-1===a.indexOf(".")?a:r(a):a};b.pathToArray=
r;b.splitPath=h;b.parse=function(a,b,l,c){b=h(b);if(Array.isArray(b)){var e=b.map(function(b){return c(a,b.trim(),l)});return{remove:u(function(){return e.forEach(function(a){return a.remove()})})}}return c(a,b.trim(),l)};b.once=u})},"esri/core/accessorSupport/set":function(){define(["require","exports","dojo/has","../Logger","./get"],function(a,b,k,m,r){function h(a,b,k){if(a&&b)if("object"===typeof b){k=0;for(var l=Object.getOwnPropertyNames(b);k<l.length;k++){var c=l[k];h(a,c,b[c])}}else"_"!==
b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),c=b.splice(b.length-1,1)[0],h(r.default(a,b),c,k)):a[b]=k)}Object.defineProperty(b,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.set");b.set=h;b.default=h})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(a,b,k){function m(a,c,b){c=k.splitPath(c);if(Array.isArray(c)){for(var e=[],l=0;l<c.length;l++)e.push((new r(c[l],b)).install(a));return new v(e)}a=(new r(c,b)).install(a);return new x(a)}Object.defineProperty(b,
"__esModule",{value:!0});var r=function(){function a(a,b){this.path=a;this.callback=b;this.chain=null;this.path=a;-1<a.indexOf(".")&&(this.chain=k.pathToArray(a));this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new u(this,a):new h(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),h=function(){function a(a,b){this.binding=a;this.target=b;k.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(k.getProperties(this.target).removeCursor(this.binding.path,
this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){k.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),u=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=k.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});
this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};
a.prototype.moveBackward=function(a,b){for(var c=this.stack,e=c[c.length-1];e.properties!==a&&e.propertyName!==b;)e.properties.removeCursor(e.propertyName,this),c.pop(),e=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1],b=b.properties.internalGet(b.propertyName);(b=k.getProperties(b))&&a.length<this.binding.chain.length&&(a=this.binding.chain[a.length],this.stack.push({properties:b,propertyName:a}),b.addCursor(a,this),this.moveForward())};return a}(),v=function(){function a(a){this.cursors=
a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),x=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();b.create=function(a,b){a=k.splitPath(a);if(Array.isArray(a)){for(var c=[],g=0;g<a.length;g++)c.push(new r(a[g],b));return function(a){for(var b=[],e=0;e<c.length;e++)b[e]=c[e].install(a);return new v(b)}}var l=new r(a,b);return function(a){return new x(l.install(a))}};
b.wire=m;b.default=m})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports dojo/has ../../Logger ../utils ../wire".split(" "),function(a,b,k,m,r,h){Object.defineProperty(b,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,k,l){b.dependsOn&&(k=void 0,k=b.dependsOn.slice())&&(b.wire=h.create(k,function(b){return r.getProperties(b).propertyInvalidated(a)}))},
instanceCreated:function(a,b,h){for(var l=0;l<h.length;l++){var c=b[h[l]];c.wire&&c.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,k,m,r,h){function u(a,b,l){var c=a&&a.json;a&&a.json&&a.json.origins&&l&&(a=a.json.origins[l.origin])&&b in a&&(c=
a);return c}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,b){return u(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return u(a,"write",b)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,l,c){if(r.process(b)){k.process(b);l=b.type;for(c=0;Array.isArray(l);)l=l[0],c++;if(b.json.origins)for(var e in b.json.origins){var g=b.json.origins[e];m.create(l,c,a,g);h.create(l,c,a,g)}m.create(l,c,a,b.json);
h.create(l,c,a,b.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,k={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var h=b[a];k[a].forEach(function(a){b[a]=h});delete b[a]}};for(var h in k)a(h)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(a,b,k,m){function r(a,b,c,w){if(1<b)return v(a,b);if(1===b)return x(a);if(l(a)){var e=x(a.prototype.itemType.Type);return function(b,c,d){return(b=e(b,c,d))?new a(b):b}}return h(a)}function h(a){return a.prototype.read?function(b,c,e){return null==b?b:(new a).read(b,e)}:a.fromJSON}function u(a,b,c,l){return 0!==l&&Array.isArray(b)?b.map(function(b){return u(a,b,c,l-1)}):a(b,null,c)}function v(a,b){a=h(a);var c=u.bind(null,a);return function(a,e,g){if(null==
a)return a;a=c(a,g,b);e=b;for(g=a;0<e&&Array.isArray(g);)e--,g=g[0];if(void 0!==g)for(g=0;g<e;g++)a=[a];return a}}function x(a){var b=h(a);return function(a,c,e){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,e)}):[b(a,null,e)]}}function l(a){return m.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?c(a.Type):!1:!1}function c(a){return!!a&&(!!a.prototype.read||!!a.fromJSON||l(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,
b,l,h){(!h.read||!h.read.reader&&!1!==h.read.enabled)&&c(a)&&k.setDeepValue("read.reader",r(a,b,l,h),h)}})},"esri/core/object":function(){define(["require","exports"],function(a,b){function k(a,b,h){for(var k=0;k<a.length;k++){var v=a[k];if(!(v in h))if(b)h[v]={};else return;h=h[v]}return h}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(a,b){return k(a.split("."),!1,b)};b.setDeepValue=function(a,b,h){var u=a.split(".");a=u.pop();(h=k(u,!0,h))&&a&&(h[a]=b)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(a){return!!a&&!!a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(a,b){function k(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&
(a.read.enabled=!0)}function m(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){a.json||(a.json={});k(a.json);m(a.json);if(a.json.origins)for(var b in a.json.origins)k(a.json.origins[b]),m(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(a,b,k,m){function r(a,b,e,g){k.setDeepValue(e,h(a,g),b)}function h(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function u(a,b,e,g){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return h(a,g)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[h(a,g)];k.setDeepValue(e,a,b)}function v(a,
b,e){return 0!==e&&Array.isArray(a)?a.map(function(a){return v(a,b,e-1)}):h(a,b)}function x(a){return function(b,e,g,l){if(null===b)b=null;else{b=v(b,l,a);l=a;for(var c=b;0<l&&Array.isArray(c);)l--,c=c[0];if(void 0!==c)for(c=0;c<l;c++)b=[b]}k.setDeepValue(g,b,e)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,e,g){g.write&&!g.write.writer&&!1!==g.write.enabled&&(1===b||m.isCollection(a)?g.write.writer=u:g.write.writer=1<b?x(b):r)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(a,b){function k(a){switch(a){case "defaults":return r.DEFAULTS;case "service":return r.SERVICE;case "portal-item":return r.PORTAL_ITEM;case "web-scene":return r.WEB_SCENE;case "web-map":return r.WEB_MAP;case "user":return r.USER}}function m(a){switch(a){case r.DEFAULTS:return"defaults";case r.SERVICE:return"service";case r.PORTAL_ITEM:return"portal-item";case r.WEB_SCENE:return"web-scene";case r.WEB_MAP:return"web-map";case r.USER:return"user"}}Object.defineProperty(b,"__esModule",
{value:!0});var r;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(r=b.OriginId||(b.OriginId={}));b.nameToId=k;b.idToName=m;b.readableNameToId=function(a){return k(a)};b.idToReadableName=function(a){return m(a)};b.writableNameToId=function(a){return k(a)};b.idToWritableName=function(a){return m(a)}})},"esri/core/accessorSupport/Store":function(){define(["require",
"exports","./PropertyOrigin"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return k.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();b.default=a})},"esri/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(a,b,k,m,r,h,u,v){Object.defineProperty(b,"__esModule",{value:!0});var x=Object.prototype.hasOwnProperty,l=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,c={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},e=/^_(set|get)([a-zA-Z0-9]+)Attr$/;b.processPrototype=function(a){for(var b=a.declaredClass,g=a.properties||{},t=0,q=Object.getOwnPropertyNames(g);t<q.length;t++){var n=q[t],d=g[n],f=typeof d;null==d?h.setPropertyMetadata(a,n,{value:d}):
Array.isArray(d)?h.setPropertyMetadata(a,n,{type:[d[0]],value:null}):"object"===f?u.getProperties(d)||d instanceof Date?h.setPropertyMetadata(a,n,{type:d.constructor,value:d}):h.setPropertyMetadata(a,n,d):"boolean"===f?h.setPropertyMetadata(a,n,{type:Boolean,value:d}):"string"===f?h.setPropertyMetadata(a,n,{type:String,value:d}):"number"===f?h.setPropertyMetadata(a,n,{type:Number,value:d}):"function"===f&&h.setPropertyMetadata(a,n,{type:d,value:null})}t=0;for(q=Object.getOwnPropertyNames(a);t<q.length;t++){var f=
q[t],d=a[f],g=n=void 0,p=l.exec(f);if(p)n=p[1],g=c[p[2]];else if(p=e.exec(f))n=p[2][0].toLowerCase()+p[2].substr(1),g=p[1].toLowerCase();n&&g&&(n=h.getPropertyMetadata(a,n),k.setDeepValue(g,d,n))}t=0;for(q=Object.getOwnPropertyNames(h.getPropertiesMetadata(a));t<q.length;t++)if(n=q[t],d=h.getPropertyMetadata(a,n),g=d.type,f=d.types,void 0===d.value&&x.call(a,n)&&(d.value=a[n]),!d.cast&&g){n=d;d=0;for(f=g;Array.isArray(f);)f=f[0],d++;g=1===d?m.ensureArray(f):1<d?m.ensureNArray(f,d):m.ensureType(g);
n.cast=g}else!d.cast&&f&&(Array.isArray(f)?d.cast=m.ensureArrayTyped(m.ensureOneOfType(f[0])):d.cast=m.ensureOneOfType(f));r.processPrototypeMetadatas(h.getPropertiesMetadata(a),b);return h.getPropertiesMetadata(a)};b.processClass=function(a){for(var b=a.prototype,c=b.declaredClass,e=a._meta.bases,g={},n=e.length-1;0<=n;n--)u.merge(g,h.getMetadata(e[n].prototype));var d=g.properties;r.processClassMetadatas(d,c);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:d,autoDestroy:!!g.autoDestroy}});
for(var f={},c=function(a){var p=d[a];f[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):p.value},set:function(d){var f=this.__accessor__;if(!f)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:d});else if(!Object.isFrozen(this)){if(f.initialized&&p.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===f.lifecycle&&p.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+
a+"' of "+this.declaredClass);f.set(a,d)}}}},e=0,n=Object.getOwnPropertyNames(d);e<n.length;e++)c(n[e]);Object.defineProperties(a.prototype,f);if(g.parameters)for(a=0,c=Object.getOwnPropertyNames(g.parameters);a<c.length;a++)e=c[a],n=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},(n=v.autocastMethod(b,e,n))&&Object.defineProperty(b,e,n);return g}})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(a,b,k){function m(d,f){return f.isInstanceOf?
f.isInstanceOf(d):f instanceof d}function r(d){return null==d?d:new Date(d)}function h(d){return null==d?d:!!d}function u(d){return null==d?d:d.toString()}function v(d){return null==d?d:parseFloat(d)}function x(d){return null==d?d:Math.round(parseFloat(d))}function l(d){return d&&d.constructor&&void 0!==d.constructor._meta}function c(d,f){return null!=f&&d&&!m(d,f)}function e(f,a){c(f,a)&&(l(a)?d.error("Accessor#set","Assigning an instance of '"+(a.declaredClass||"unknown")+"' which is not a subclass of '"+
(f&&f.prototype&&f.prototype.declaredClass||"unknown")+"'"):a=new f(a));return a}function g(d){switch(d){case Number:return v;case f:return x;case Boolean:return h;case String:return u;case Date:return r;default:return e.bind(null,d)}}function y(d,f){var a=g(d);return 1===arguments.length?a:a(f)}function w(d,f){return 1===arguments.length?w.bind(null,d):f?Array.isArray(f)?f.map(d):[d(f)]:f}function t(d,f,a){return 0!==f&&Array.isArray(a)?a.map(function(a){return t(d,f-1,a)}):d(a)}function q(d,f,a){if(2===
arguments.length)return q.bind(null,d,f);if(!a)return a;a=t(d,f,a);for(var p=f,b=a;0<p&&Array.isArray(b);)p--,b=b[0];if(void 0!==b)for(b=0;b<p;b++)a=[a];return a}function n(f,a){if(2===arguments.length)return n(f).call(null,a);var p={},b=[],z=[],e;for(e in f.typeMap){var g=f.typeMap[e];p[e]=y(g);b.push(g&&g.prototype&&g.prototype.declaredClass||"unknown");z.push(e)}var q="string"===typeof f.key?function(d){return d[f.key]}:f.key;return function(a){if(f.base&&!c(f.base,a))return a;var A=q(a)||f.defaultKeyValue,
e=p[A];if(!e)return d.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+b.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+z.join("', '")+"'")+")"),null;if(!c(f.typeMap[A],a))return a;if("string"!==typeof f.key||l(a))return e(a);var A={},g;for(g in a)g!==f.key&&(A[g]=a[g]);return e(A)}}Object.defineProperty(b,"__esModule",{value:!0});var d=k.getLogger("esri.core.Accessor");b.isInstanceOf=m;b.ensureDate=r;b.ensureBoolean=h;b.ensureString=
u;b.ensureNumber=v;b.ensureInteger=x;b.isClassedType=l;b.requiresType=c;b.ensureClass=e;b.ensureType=y;b.ensureArrayTyped=w;b.ensureArray=function(d,f){return 1===arguments.length?w(y.bind(null,d)):w(y.bind(null,d),f)};b.ensureNArrayTyped=q;b.ensureNArray=function(d,f,a){return 2===arguments.length?q(y.bind(null,d),f):q(y.bind(null,d),f,a)};b.ensureOneOfType=n;var f=function(){return function(){}}();b.Integer=f;b.default=y})},"esri/core/accessorSupport/metadata":function(){define(["require","exports"],
function(a,b){function k(a){return null!=a.__accessorMetadata__}function m(a){return k(a)&&null!=r(a).properties}function r(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function h(a){a=r(a);var b=a.properties;b||(b=a.properties={});return b}function u(a,b){var l=r(a);a=l.parameters;a||(a=l.parameters={});l=a[b];l||(l=[],a[b]=l);return l}Object.defineProperty(b,"__esModule",{value:!0});
b.hasMetadata=k;b.hasPropertiesMetadata=m;b.hasPropertyMetadata=function(a,b){return m(a)&&null!=h(a)[b]};b.hasParametersMetadata=function(a,b){return k(a)&&null!=r(a).parameters&&null!=r(a).parameters[b]};b.getMetadata=r;b.getPropertiesMetadata=h;b.getPropertyMetadata=function(a,b){a=h(a);var l=a[b];l||(l=a[b]={});return l};b.setPropertyMetadata=function(a,b,l){h(a)[b]=l};b.getParametersMetadata=u;b.getParameterMetadata=function(a,b,l){var c=u(a,b)[l];c||(u(a,b)[l]=c={index:l});return c}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require",
"exports","../ensureType","../metadata"],function(a,b,k,m){function r(a){var b="_meta"in a?k.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?u.apply(this,a):h.apply(this,a)}}function h(a,b,e,g){m.getPropertyMetadata(a,b).cast=g}function u(a,b,e,g){m.getParameterMetadata(a,b,e).cast=g}function v(a){return function(b,e,g){m.getPropertyMetadata(b,a).cast=b[e]}}Object.defineProperty(b,"__esModule",{value:!0});var x=Object.prototype.toString;
b.autocastMethod=function(a,b,e){if(m.hasParametersMetadata(a,b)){var c=m.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(c.length){var l=e.value;e.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<c.length;b++){var e=c[b];a[e.index]=e.cast(a[e.index])}return l.apply(this,a)};return e}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===x.call(a[0]))return r(a[0]);if(1===a.length&&"string"===typeof a[0])return v(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(a,b,k,m,r,h,u,v,x){function l(a){n.has(a)?d.splice(d.indexOf(a),1):n.add(a);d.push(a);f||(f=h.schedule(e))}function c(d){if(!d.removed){var f=d.callback,a=d.path,
p=d.oldValue,b=d.target,c=u.valueOf(b,d.propertyPath,!0);m.equals(p,c)||(d.oldValue=c,f.call(b,c,p,a,b))}}function e(){if(f){f=null;var a=d;d=q.acquire();n.clear();for(var b=q.acquire(),e=0;e<a.length;e++){var g=a[e];c(g);g.removed&&b.push(g)}for(e=0;e<d.length;e++)g=d[e],g.removed&&(b.push(g),n.delete(g),d.splice(e,1),--e);for(e=0;e<b.length;e++)t.pool.release(b[e]);q.release(a);q.release(b);p.forEach(function(d){return d()})}}function g(d,f,a){var p=v.parse(d,f,a,function(d,f,a){var b=u.valueOf(d,
f,!0),c,z=x.wire(d,f,function(d,f){d.__accessor__.destroyed?p.remove():(c||(c=t.pool.acquire(d,f,b,a),b=null),l(c))});return{remove:v.once(function(){z.remove();c&&(c.removed=!0,l(c),c=null);p=z=b=null})}});return p}function y(d,f,a){var p=v.parse(d,f,a,function(d,f,a){var b=u.valueOf(d,f,!0),c=!1;return x.wire(d,f,function(d,f){if(d.__accessor__.destroyed)p.remove();else if(!c){c=!0;var z=u.valueOf(d,f,!0);m.equals(b,z)||a.call(d,z,b,f,d);b=u.valueOf(d,f,!0);c=!1}})});return p}function w(d,f,a,p){void 0===
p&&(p=!1);return!d.__accessor__||d.__accessor__.destroyed?{remove:function(){}}:p?y(d,f,a):g(d,f,a)}Object.defineProperty(b,"__esModule",{value:!0});var t=function(){function d(d,f,a,p){this.target=d;this.path=f;this.oldValue=a;this.callback=p;this.removed=!1;this.propertyPath=v.pathToStringOrArray(f)}d.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.removed=!0};d.pool=new r(d,!0);return d}(),q=new k,n=new Set,d=q.acquire(),f;b.dispatchTarget=
function(f){for(var a=q.copy(d),p=0;p<a.length;p++){var b=a[p];b.target===f&&(c(b),n.delete(b),d.splice(d.indexOf(b),1))}};b.removeTarget=function(f){for(var a=0;a<d.length;a++){var p=d[a];p.target===f&&(p.removed=!0)}};b.dispatch=e;var p=new Set;b.afterDispatch=function(d){p.add(d);return{remove:function(){p.delete(d)}}};b.watch=w;b.isValueInUse=function(f){return d.some(function(d){return d.oldValue===f})};b.default=w})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],
function(a,b,k){function m(a){a.length=0}var r=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new k(Array,!1,m,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);r.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return h.acquire()};a.copy=function(a){return h.copy(a)};a.release=function(a){return h.release(a)};
return a}();var h=new a(100);return a})},"esri/core/ObjectPool":function(){define(["require","exports"],function(a,b){var k=function(){return function(){}}();return function(){function a(a,b,k,v,m){void 0===v&&(v=1);void 0===m&&(m=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=k;this.growthSize=v;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(m);this._set=new Set;this._initialSize=
m;for(a=0;a<m;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(v,1)}a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||k;if(0===this._pool.length)for(var u=this.growthSize,v=0;v<u;v++)this._pool[v]=new b;b=this._pool.pop();this.acquireFunction?this.acquireFunction.apply(this,[b].concat(a)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);this._set.delete(b);return b};a.prototype.release=function(a){a&&
!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(this._pool.length<=a))for(var b;a>this._pool.length;)b=this._pool.shift(),this._set.delete(b),b.dispose&&"function"===typeof b.dispose&&b.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];var v;(v=this.classConstructor).call.apply(v,
[a].concat(b))};return a}()})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(a,b,k,m,r){function h(d){void 0===d&&(d=b.now());b.debug.rafId=null;0<f.length&&(b.debug.rafId=u());if(0<g){var a=d-g;t=Math.min(a,t);if(a<y)return}b.debug.executeFrameTasks(d)}function u(){return b.debug.requestNextFrame?b.debug.requestNextFrame(l):l()}function v(){for(var d=0;d<f.length;){var a=f[d];d++;if(a.removed){f.splice(d-1,1);for(var b=0;b<
n.length;b++){var c=n[b];if(a.phases[c]){var c=p[c],z=c.indexOf(a);-1!==z&&c.splice(z,1)}}}}}function x(){for(;d.length;){var f=d.shift();f.isActive&&(f.isActive=!1,f.callback())}b.debug.willDispatch=!1}function l(){return r(h)}Object.defineProperty(b,"__esModule",{value:!0});b.now=m;var c=function(){return function(d){this.phases=d;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),e=function(){function d(d){this.callback=d;this.isActive=!0}d.prototype.remove=
function(){this.isActive=!1};return d}(),g=-1,y=0,w=0,t=Number.POSITIVE_INFINITY,q={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},n=["prepare","preRender","render","postRender","update"],d=[],f=[],p={prepare:[],preRender:[],render:[],postRender:[],update:[]},z=function(){function d(d){this._task=d}d.prototype.remove=function(){this._task.removed=!0};d.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=b.now())};d.prototype.resume=function(){this._task.paused&&
(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return d}();b.FrameTaskHandle=z;b.debug={frameTasks:f,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(d){void 0===d&&(d=!1);for(var a=0;a<f.length;a++)f[a].removed=!0;d&&v()},dispatch:x,executeFrameTasks:function(d){void 0===d&&(d=b.now());0>g&&(g=d);var a=d-g;g=d;for(var c=0;c<f.length;c++){var z=f[c];-1!==z.epoch&&(z.dt=a)}for(c=0;c<n.length;c++)for(var a=n[c],A=p[a],e=0;e<A.length;e++)z=
A[e],z.paused||z.removed||(0===c&&z.ticks++,-1===z.epoch&&(z.epoch=d),q.time=d,q.deltaTime=z.dt,q.elapsedFrameTime=b.now()-d,q.frameDuration=0<w?w:t,q.spendInTask=d-z.epoch,z.phases[a].call(z,q));v()}};b.schedule=function(f){f=new e(f);d.push(f);b.debug.willDispatch||(b.debug.willDispatch=!0,k(x));return f};b.addFrameTask=function(d){var a=new c(d);f.push(a);for(var A=0,e=n;A<e.length;A++){var l=e[A];d[l]&&p[l].push(a)}b.debug.rafId||(g=-1,b.debug.rafId=u());return new z(a)};b.setFrameRate=function(d){if(0>=
d)w=y=0;else{var f=1.05*t;d=Math.ceil(1E3/d/f);y=(d-1)*f;w=d*t}};b.requestNextFrame=u})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(a,b,k){function m(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,b=!0;k.onmessage=function(){b=!1};k.postMessage("","*");k.onmessage=a;return b}return!1}var r=k.MutationObserver||k.WebKitMutationObserver;return function(){var a;if(k.process&&k.process.nextTick)a=function(a){k.process.nextTick(a)};else if(k.Promise)a=function(a){k.Promise.resolve().then(a)};
else if(r){var b=[],v=document.createElement("div");(new r(function(){for(;0<b.length;)b.shift()()})).observe(v,{attributes:!0});a=function(a){b.push(a);v.setAttribute("queueStatus","1")}}else if(m()){var x=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();x.length;)x.shift()()},!0);a=function(a){x.push(a);k.postMessage("esri-nexttick-message","*")}}else a=k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,
0)};return a}()})},"esri/core/now":function(){define(["require","exports","./global"],function(a,b,k){return function(){var a=k.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},
"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(a,b,k,m){var r=m();a=k.requestAnimationFrame;if(!a){b=["ms","moz","webkit","o"];for(var h=0;h<b.length&&!a;++h)a=k[b[h]+"RequestAnimationFrame"];a||(a=function(a){var b=m(),h=Math.max(0,16-(b-r)),l=k.setTimeout(function(){a(m())},h);r=b+h;return l})}return a})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(a,b,k,m,r,h,u,v,x,l,c){function e(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0});e(k);e(m);e(r);e(h);e(u);e(v);e(x);e(l);e(c)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(a){return function(b,h){k.getPropertyMetadata(b,h).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(a,b,h){k.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];k=function(){return this||{}};k.__bases__=[a].concat(b);return k}})},"esri/core/accessorSupport/decorators/property":function(){define("require exports dojo/has ../../lang ../../Logger ../metadata".split(" "),
function(a,b,k,m,r,h){Object.defineProperty(b,"__esModule",{value:!0});r.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===a&&(a={});return function(b,k){var l=b.constructor.prototype;if(l!==Function.prototype){(b=Object.getOwnPropertyDescriptor(b,k))&&(b.get||b.set)?(a=m.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=m.clone(a),a.value=b.value);k=h.getPropertyMetadata(l,k);for(var c in a)l=a[c],Array.isArray(l)?k[c]=(k[c]||
[]).concat(l):k[c]=l}}};b.propertyJSONMeta=function(a,b,k){a=h.getPropertyMetadata(a.constructor.prototype,k);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,k,m){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(a,b,u){var h,r;void 0===b||Array.isArray(b)?(r=a,u=b,h=[void 0]):
(r=b,h=Array.isArray(a)?a:[a]);return function(a,b,e){var c=a.constructor.prototype;h.forEach(function(e){e=m.propertyJSONMeta(a,e,r);e.read&&"object"!==typeof e.read&&(e.read={});k.setDeepValue("read.reader",c[b],e);u&&(e.read.source=(e.read.source||[]).concat(u))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(a){return function(b,k){b[k]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require",
"exports","../../declare","../metadata"],function(a,b,k,m){function r(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function h(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function u(a){var b=[];a=m.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var l=a[c];l.cast&&b.push(l.cast);l.copy&&b.push(l.copy);if(l=l.json)if(r(l,b),h(l,
b),l=l.origins)for(var w in l){var t=l[w];r(t,b);h(t,b)}}return b}function v(a){var b={values:{},descriptors:{}},c=["__bases__"],y=m.getPropertiesMetadata(a.prototype),h=u(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||y&&y.hasOwnProperty(b)||!l(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==h.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var e=Object.getOwnPropertyDescriptor(a.prototype,c);l(e)?b.descriptors[c]=e:b.values[c]=a.prototype[c]});return b}
function x(a){var b=Object.getOwnPropertyNames(a),c=Object.getPrototypeOf(a.prototype).constructor,y=Object.getOwnPropertyNames(Function);y.push("__bases__");var h=Object.getOwnPropertyNames(c),t={values:{},descriptors:{}};b.filter(function(b){return-1!==y.indexOf(b)?!1:-1===h.indexOf(b)||c[b]!==a[b]?!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(a,b);l(c)?t.descriptors[b]=c:t.values[b]=a[b]});return t}function l(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",
{value:!0});b.subclass=function(a){return function(b){var c=v(b),e=x(b);null!=a&&(c.values.declaredClass=a);b=k(b.__bases__,c.values);Object.defineProperties(b.prototype,c.descriptors);for(var l in e.values)b[l]=e.values[l];Object.defineProperties(b,e.descriptors);return b}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(a,b,k,m){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(a,b,u){var h,r;void 0===
b?(r=a,h=[void 0]):"string"!==typeof b?(r=a,h=[void 0],u=b):(r=b,h=Array.isArray(a)?a:[a]);return function(a,b,e){var c=a.constructor.prototype;h.forEach(function(e){e=m.propertyJSONMeta(a,e,r);e.write&&"object"!==typeof e.write&&(e.write={});u&&k.setDeepValue("write.target",u,e);k.setDeepValue("write.writer",c[b],e)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(a,b,k,m,r,h){function u(a,
b,c){void 0===c&&(c=v);for(var e=r.getProperties(a),g=e.metadatas,l={},w=0,t=Object.getOwnPropertyNames(b);w<t.length;w++){var q=l,n=g,d=t[w],f=b,p=c,z=h.originSpecificReadPropertyDefinition(n[d],p);z&&(!z.read||!1!==z.read.enabled&&!z.read.source)&&(q[d]=!0);for(var A=0,B=Object.getOwnPropertyNames(n);A<B.length;A++){var D=B[A],z=h.originSpecificReadPropertyDefinition(n[D],p),k;a:{k=d;var u=f;if(z&&z.read&&!1!==z.read.enabled&&z.read.source)if(z=z.read.source,"string"===typeof z){if(z===k||-1<z.indexOf(".")&&
0===z.indexOf(k)&&m.exists(z,u)){k=!0;break a}}else for(var x=0;x<z.length;x++){var P=z[x];if(P===k||-1<P.indexOf(".")&&0===P.indexOf(k)&&m.exists(P,u)){k=!0;break a}}k=!1}k&&(q[D]=!0)}}e.setDefaultOrigin(c.origin);t=0;for(q=Object.getOwnPropertyNames(l);t<q.length;t++)w=q[t],d=(n=h.originSpecificReadPropertyDefinition(g[w],c).read)&&n.source,f=void 0,f=d&&"string"===typeof d?m.valueOf(b,d):b[w],n&&n.reader&&(f=n.reader.call(a,f,b,c)),void 0!==f&&e.set(w,f);b=0;for(g=Object.getOwnPropertyNames(g);b<
g.length;b++)w=g[b],l[w]||(t=a,q=e,n=c,d=(d=h.originSpecificReadPropertyDefinition(q.metadatas[w],n))&&d.read&&d.read.default,void 0!==d&&(t="function"===typeof d?d.call(t,w,n):d,void 0!==t&&q.set(w,t)));e.setDefaultOrigin("user")}Object.defineProperty(b,"__esModule",{value:!0});var v={origin:"service"};b.read=u;b.readLoadable=function(a,b,c,e){void 0===e&&(e=v);b=k({},e,{messages:[]});c(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?e&&e.messages.push(b):a.loadWarnings.push(b)})};
b.default=u})},"esri/core/accessorSupport/write":function(){define("require exports ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,k,m,r,h,u){function v(a,b,g,y,h,t){if(!y||!y.write)return!1;var c=a.get(g);if(void 0===c)return!1;if(!h&&y.write.overridePolicy){var e=y.write.overridePolicy.call(a,c,g,t);void 0!==e&&(h=e)}h||(h=y.write);if(!h||!1===h.enabled)return!1;if(null===c){if(h.allowNull)return!0;h.isRequired&&((a=new k("web-document-write:property-required",
"Missing value for required property '"+g+"' on '"+a.declaredClass+"'",{propertyName:g,target:a}),t)&&t.messages?t.messages.push(a):a&&!t&&l.error(a.name,a.message));return!1}return!h.ignoreOrigin&&t&&t.origin&&b.store.originOf(g)<r.nameToId(t.origin)?!1:!0}function x(a,b,g){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return h.merge(b,a.toJSON());var c=h.getProperties(a),e=c.metadatas,l;for(l in e){var q=u.originSpecificWritePropertyDefinition(e[l],g);if(v(a,c,l,q,null,
g)){var n=a.get(l),d={};q.write.writer.call(a,n,d,"string"===typeof q.write.target?q.write.target:l,g);q=d;0<Object.keys(q).length&&(b=h.merge(b,q),g&&g.writtenProperties&&g.writtenProperties.push({target:a,propName:l,oldOrigin:r.idToReadableName(c.store.originOf(l)),newOrigin:g.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var l=m.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,g,l){var c=h.getProperties(a),e=u.originSpecificWritePropertyDefinition(c.metadatas[b],
l);return e?v(a,c,b,e,g,l):!1};b.write=x;b.disableWriteDefaultPolicy=function(a){return function(b){return{enabled:b!==a}}};b.default=x})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","./WKIDUnitConversion"],function(a,b,k){function m(a){return a.wkid&&!0===r[a.wkid]}Object.defineProperty(b,"__esModule",{value:!0});var r={102113:!0,102100:!0,3857:!0,3785:!0},h={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var u=
[-2.0037508342787E7,2.0037508342787E7],v={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:u,
dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:u,dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:u,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:u,
dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){if(b){if(a===b)return!0;if(null!=a.wkid||null!=b.wkid)return a.wkid===b.wkid||m(a)&&m(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid;if(a.wkt&&b.wkt)return a.wkt.toUpperCase()===b.wkt.toUpperCase()}return!1};b.getInfo=function(a){return a.wkid?v[a.wkid]:null};b.isGeographic=function(a){return a.wkid?null==k[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1};b.isWGS84=function(a){return 4326===
a.wkid};b.isWebMercator=m;b.isWrappable=function(a){return a.wkid&&!0===h[a.wkid]}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,
8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,
26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53034:0,53048:0,53049:0,
54034:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,
103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,
103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,
103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,
103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;
for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=
2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=
2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=
0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=
0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=
0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=
0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=
0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=
0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=
0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=
0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102497>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102568>=a;a++)b[a]=0;for(a=102570;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=
0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=
2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=
0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=
0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=
0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103600;103694>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=
2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ./I3SBinaryReader ../../support/meshProcessing ../../webgl-engine/lib/gl-matrix ../../webgl-engine/lib/Util".split(" "),function(a,b,k,m,r,h){function u(a,b,c,d,f,p,z){switch(c){case 1:for(c=0;c<z;c++)d[f]=a[b],b+=1,f+=p;break;case 2:for(c=0;c<z;c++)d[f]=a[b],d[f+1]=a[b+1],b+=2,f+=p;break;case 3:for(c=0;c<z;c++)d[f]=a[b],d[f+1]=a[b+1],d[f+
2]=a[b+2],b+=3,f+=p;break;case 4:for(c=0;c<z;c++)d[f]=a[b],d[f+1]=a[b+1],d[f+2]=a[b+2],d[f+3]=a[b+3],b+=4,f+=p;break;default:throw e("Unhandled stride size "+c);}}function v(a,b,c,d,f,p){switch(b){case 1:for(b=0;b<p;b++)c[d]=a,d+=f;break;case 2:for(b=0;b<p;b++)c[d]=a,c[d+1]=a,d+=f;break;case 3:for(b=0;b<p;b++)c[d]=a,c[d+1]=a,c[d+2]=a,d+=f;break;case 4:for(b=0;b<p;b++)c[d]=a,c[d+1]=a,c[d+2]=a,c[d+3]=a,d+=f;break;default:throw e("Unhandled stride size "+b);}}function x(a){switch(a){case 5120:return Int8Array;
case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function l(a){switch(a){case 5120:return"Int8";case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function c(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}
function e(a){return Error("I3SGeometryUtil processing failed: "+a)}Object.defineProperty(b,"__esModule",{value:!0});var g=new Uint8Array(64);b.interleaveGeometryBuffer=function(a,b,n,d,f){void 0===d&&(d=[]);void 0===f&&(f=[]);var p=a.params.vertexAttributes,z=p.position.count;if(!c(n[0].stride))throw e("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var A=new Uint32Array(n[0].stride/Uint32Array.BYTES_PER_ELEMENT*z);n=n.slice(0).sort(function(d,a){return d.offset-a.offset});
a=function(a){if(-1!==f.indexOf(a.name))return"continue";var n=p[a.name],q=x(a.type),B=void 0,t=!1;if(null==n)if(t=d.filter(function(d){return d.name===a.name})[0]){n={valueType:l(a.type),byteOffset:0,count:z,valuesPerElement:a.count};for(B=0;B<g.length;B++)g[B]=t.byteValue;B=g.buffer;t=!0}else throw e("Geometry definition is missing attribute");else B=b;if(l(a.type)!==n.valueType)throw e("Geometry definition type must match attribute type");if(0!==n.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==
a.offset%Uint32Array.BYTES_PER_ELEMENT)throw e(a.name+" offset must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!c(n.valuesPerElement*q.BYTES_PER_ELEMENT)||!c(a.count*q.BYTES_PER_ELEMENT))throw e(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var B=new Uint32Array(B),y=n.byteOffset/Uint32Array.BYTES_PER_ELEMENT,n=n.valuesPerElement*q.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,q=a.offset/Uint32Array.BYTES_PER_ELEMENT,h=a.stride/Uint32Array.BYTES_PER_ELEMENT;t?
v(B[0],n,A,q,h,z):u(B,y,n,A,q,h,z)};for(var q=0;q<n.length;q++)a(n[q]);return A.buffer};b.processAndInterleaveNormals=function(a,b,c,d,f){if("none"===a){var p=f.normals,z=f.positions;b=f.normalInd;a=f.positionInd;h.assert(f.normalInd.length===f.positionInd.length);f=r.vec3.create();d=r.vec3.create();c=r.vec2.create();for(var A=z.data,e=z.offsetIdx,z=z.strideIdx,g=p.data,n=p.offsetIdx,p=p.strideIdx,l=0;l<a.length;l+=3){var q=a[l],q=e+z*q,t=A[q],v=A[q+1],u=A[q+2],q=a[l+1],q=e+z*q;f[0]=A[q]-t;f[1]=A[q+
1]-v;f[2]=A[q+2]-u;q=a[l+2];q=e+z*q;d[0]=A[q]-t;d[1]=A[q+1]-v;d[2]=A[q+2]-u;r.vec3.cross(f,d,f);h.encodeNormal(f,c);for(t=0;3>t;t++)v=n+p*b[l+t],g[v]=h.encodeInt16(c[0]),g[v+1]=h.encodeInt16(c[1])}}else if(b=k.createTypedView(c,b.params.vertexAttributes.normal),c=f.normals,v="earth-centered"===a?d:null,a=b.length/3,f=c.data,d=c.offsetIdx,c=c.strideIdx,null!=v)for(A=v[0],e=v[1],z=v[2],g=v[4],n=v[5],p=v[6],l=v[8],t=v[9],v=v[10],u=0;u<a;u++){var q=b[3*u],m=b[3*u+1],x=b[3*u+2];y[0]=A*q+e*m+z*x;y[1]=g*
q+n*m+p*x;y[2]=l*q+t*m+v*x;h.encodeNormal(y,w);f[d+u*c]=h.encodeInt16(w[0]);f[d+u*c+1]=h.encodeInt16(w[1])}else for(u=0;u<a;u++)y[0]=b[3*u],y[1]=b[3*u+1],y[2]=b[3*u+2],h.encodeNormal(y,w),f[d+u*c]=h.encodeInt16(w[0]),f[d+u*c+1]=h.encodeInt16(w[1])};b.extractPositionData=function(a,b,c){b=b[0];if(null==b||"position"!==b.name||5126!==b.type)return null;var d=new Float32Array(a),f=b.stride/4,p=3*d.length/f,z=new Float32Array(p);for(a=0;a<p/3;a++)z[3*a]=d[a*f+b.offset],z[3*a+1]=d[a*f+b.offset+1],z[3*
a+2]=d[a*f+b.offset+2];b=m.deduplicate(z.buffer,3);a=65536>b.uniqueCount;if(c)for(d=new (a?Uint16Array:Uint32Array)(c.length),a=0;a<c.length;a++)d[a]=b.indices[c[a]];else d=a?new Uint16Array(b.indices):b.indices;return{data:new Float32Array(b.buffer),indices:d}};var y=r.vec3.create(),w=r.vec2.create()})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(a,b,k,m,r,h){function u(a,
b,d){for(var f="",p=0;p<d;){var c=a[b+p];if(128>c)f+=String.fromCharCode(c),p++;else if(192<=c&&224>c){if(p+1>=d)throw new k("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var A=a[b+p+1],c=(c&31)<<6|A&63,f=f+String.fromCharCode(c),p=p+2}else if(224<=c&&240>c){if(p+2>=d)throw new k("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var A=a[b+p+1],e=a[b+p+2],c=(c&15)<<12|(A&63)<<6|e&63,f=f+String.fromCharCode(c),p=p+3}else if(240<=c&&248>c){if(p+
3>=d)throw new k("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");A=a[b+p+1];e=a[b+p+2];c=(c&7)<<18|(A&63)<<12|(e&63)<<6|a[b+p+3]&63;f=65536<=c?f+String.fromCharCode((c-65536>>10)+55296,(c&1023)+56320):f+String.fromCharCode(c);p+=4}else throw new k("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return f}function v(a,c){for(var d={byteOffset:0,byteCount:0,fields:Object.create(null)},f=0,p=0;p<c.length;p++){var z=c[p],A=z.valueType||z.type;d.fields[z.property]=
(0,b.valueType2ArrayBufferReader[A])(a,f);f+=b.valueType2TypedArrayClassMap[A].BYTES_PER_ELEMENT}d.byteCount=f;return d}function x(a,b,d){var f=[],p,c=0,A;for(A=0;A<a;A+=1){p=b[A];if(0<p){if(f.push(u(d,c,p-1)),0!==d[c+p-1])throw new k("string-array-error","Invalid string array: missing null termination.");}else f.push(null);c+=p}return f}function l(a,c){return new b.valueType2TypedArrayClassMap[c.valueType](a,c.byteOffset,c.count*c.valuesPerElement)}function c(a,b){return new Uint8Array(a,b.byteOffset,
b.byteCount)}function e(a,b,d){a=null!=b.header?v(a,b.header):{byteOffset:0,byteCount:0,fields:{count:d}};d={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var f=a.byteCount,p=0;p<b.ordering.length;p++){var c=b.ordering[p],A=m.clone(b[c]);A.count=a.fields.count;if("String"===A.valueType){if(A.byteOffset=f,A.byteCount=a.fields[c+"ByteCount"],"UTF-8"!==A.encoding)throw new k("unsupported-encoding","Unsupported String encoding.",{encoding:A.encoding});}else if(y(A.valueType)){var e=
w(A.valueType),f=f+(0!==f%e?e-f%e:0);A.byteOffset=f;A.byteCount=e*A.valuesPerElement*A.count}else throw new k("unsupported-value-type","Unsupported binary valueType",{valueType:A.valueType});f+=A.byteCount;d.entries[c]=A}d.byteCount=f-d.byteOffset;return d}function g(a,b,d){b!==a&&t.error("Invalid "+d+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new k("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});}function y(a){return b.valueType2TypedArrayClassMap.hasOwnProperty(a)}
function w(a){return y(a)&&b.valueType2TypedArrayClassMap[a].BYTES_PER_ELEMENT}Object.defineProperty(b,"__esModule",{value:!0});var t=r.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");b.readHeader=v;b.readStringArray=x;b.createTypedView=l;b.createRawView=c;b.createAttributeDataIndex=e;b.createGeometryDataIndex=function(a,b,d){var f=v(a,b&&b.header),p=f.byteCount,c={header:f,byteOffset:f.byteCount,byteCount:0,vertexAttributes:m.clone(b.vertexAttributes)},e=c.vertexAttributes;d||null==e.region||
delete e.region;var f=f.fields,l=null!=f.vertexCount?f.vertexCount:f.count;for(d=0;d<b.ordering.length;d++){var n=b.ordering[d];null!=e[n]&&(e[n].byteOffset=p,e[n].count=l,p+=w(e[n].valueType)*e[n].valuesPerElement*l)}e=f.faceCount;if(b.faces&&e)for(c.faces=m.clone(b.faces),l=c.faces,d=0;d<b.ordering.length;d++)n=b.ordering[d],null!=l[n]&&(l[n].byteOffset=p,l[n].count=e,p+=w(l[n].valueType)*l[n].valuesPerElement*e);f=f.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&f)for(c.featureAttributes=
m.clone(b.featureAttributes),e=c.featureAttributes,d=0;d<b.featureAttributeOrder.length;d++)l=b.featureAttributeOrder[d],e[l].byteOffset=p,e[l].count=f,n=w(e[l].valueType),"UInt64"===e[l].valueType&&(n=8),p+=n*e[l].valuesPerElement*f;g(p,a.byteLength,"geometry");c.byteCount=p-c.byteOffset;return c};b.readBinaryAttribute=function(a,b,d){if("lepcc-rgb"===a.encoding)return h.decodeRGB(b);if("lepcc-intensity"===a.encoding)return h.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new k("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(t.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(t.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");d=e(b,a,d);g(d.byteOffset+d.byteCount,b.byteLength,"attribute");if(a=d.entries.attributeValues||d.entries.objectIds){if("String"===a.valueType){d=d.entries.attributeByteCounts;
var f=l(b,d);b=c(b,a);return x(d.count,f,b)}return l(b,a)}throw new k("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,
b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};b.isValueType=y;b.getBytesPerValue=w})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(a,
b,k){function m(a,b,l){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,l+u.identifierOffset,u.identifierLength)),version:b.getUint16(l+u.versionOffset,!0),checksum:b.getUint32(l+u.checksumOffset,!0)}}function r(a,b,l){var c=[];b=h(a,b,c);for(var e=[],g=0;g<c.length;g++){e.length=0;b=h(a,b,e);for(var y=0;y<e.length;y++)l.push(e[y]+c[g])}return b}function h(a,b,l){var c=new DataView(a,b),e=c.getUint8(0),g=e&31,y=!!(e&32),h=(e&192)>>6,e=0;if(0===h)e=c.getUint32(1,!0),b+=5;else if(1===
h)e=c.getUint16(1,!0),b+=3;else if(2===h)e=c.getUint8(1),b+=2;else throw new k("lepcc-decode-error","Bad count type");if(y)throw new k("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(e*g/8));for(var h=y=c=0,t=-1>>>32-g,q=0;q<e;q++){for(;y<g;)c|=a[h]<<y,y+=8,h+=1;l[q]=c&t;c>>>=g;y-=g;32<y+g&&(c|=a[h-1]>>8-y)}return b+h}Object.defineProperty(b,"__esModule",{value:!0});var u={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=
function(a){var b,l,c,e,g,h,w,t,q,n,d,f,p=new DataView(a,0),z=0;e=m(a,p,z);c=e.identifier;e=e.version;z+=u.byteCount;if("LEPCC     "!==c)throw new k("lepcc-decode-error","Bad identifier");if(1<e)throw new k("lepcc-decode-error","Unknown version");var A=z;b=p.getUint32(A+0,!0);l=p.getUint32(A+4,!0);c=p.getFloat64(A+8,!0);e=p.getFloat64(A+16,!0);g=p.getFloat64(A+24,!0);h=p.getFloat64(A+32,!0);w=p.getFloat64(A+40,!0);t=p.getFloat64(A+48,!0);q=p.getFloat64(A+56,!0);n=p.getFloat64(A+64,!0);d=p.getFloat64(A+
72,!0);f=p.getUint32(A+80,!0);p.getUint32(A+84,!0);z+=88;if(l*Math.pow(2,32)+b!==a.byteLength)throw new k("lepcc-decode-error","Bad size");p=new Float64Array(3*f);b=[];l=[];f=[];A=[];z=r(a,z,b);z=r(a,z,l);z=r(a,z,f);z=r(a,z,A);if(z!==a.byteLength)throw new k("lepcc-decode-error","Bad length");for(var B=z=a=0;B<b.length;B++)for(var z=z+b[B],D=0,v=0;v<l[B];v++){var D=D+f[a],C=A[a];p[3*a]=Math.min(h,c+2*q*D);p[3*a+1]=Math.min(w,e+2*n*z);p[3*a+2]=Math.min(t,g+2*d*C);a++}return{errorX:q,errorY:n,errorZ:d,
result:p}};b.decodeRGB=function(a){var b,l,c,e,g,h,w=new DataView(a,0),t=0;e=m(a,w,t);c=e.identifier;e=e.version;t+=u.byteCount;if("ClusterRGB"!==c)throw new k("lepcc-decode-error","Bad identifier");if(1<e)throw new k("lepcc-decode-error","Unknown version");h=t;b=w.getUint32(h+0,!0);l=w.getUint32(h+4,!0);c=w.getUint32(h+8,!0);e=w.getUint16(h+12,!0);g=w.getUint8(h+14);h=w.getUint8(h+15);t+=16;if(l*Math.pow(2,32)+b!==a.byteLength)throw new k("lepcc-decode-error","Bad size");if(2!==g&&1!==g||0!==h){if(0===
g&&0===h){if(3*c+t!==a.byteLength||0!==e)throw new k("lepcc-decode-error","Bad count");return(new Uint8Array(a,t)).slice()}if(2>=g&&1===h){if(t+3!==a.byteLength||1!==e)throw new k("lepcc-decode-error","Bad count");e=w.getUint8(t);b=w.getUint8(t+1);w=w.getUint8(t+2);t=new Uint8Array(3*c);for(a=0;a<c;a++)t[3*a]=e,t[3*a+1]=b,t[3*a+2]=w;return t}throw new k("lepcc-decode-error","Bad method "+g+","+h);}if(3*e+c+t!==a.byteLength||256<e)throw new k("lepcc-decode-error","Bad count");w=new Uint8Array(a,t,
3*e);e=new Uint8Array(a,t+3*e,c);t=new Uint8Array(3*c);for(a=0;a<c;a++)b=e[a],t[3*a]=w[3*b],t[3*a+1]=w[3*b+1],t[3*a+2]=w[3*b+2];return t};b.decodeIntensity=function(a){var b,l,c,e,g,y=new DataView(a,0),w=0;e=m(a,y,w);c=e.identifier;e=e.version;w+=u.byteCount;if("Intensity "!==c)throw new k("lepcc-decode-error","Bad identifier");if(1<e)throw new k("lepcc-decode-error","Unknown version");var t=w;b=y.getUint32(t+0,!0);l=y.getUint32(t+4,!0);c=y.getUint32(t+8,!0);e=y.getUint16(t+12,!0);g=y.getUint8(t+
14);y.getUint8(t+15);w+=16;if(l*Math.pow(2,32)+b!==a.byteLength)throw new k("lepcc-decode-error","Bad size");y=new Uint16Array(c);if(8===g){if(c+w!==a.byteLength)throw new k("lepcc-decode-error","Bad size");g=new Uint8Array(a,w,c)}else if(16===g){if(2*c+w!==a.byteLength)throw new k("lepcc-decode-error","Bad size");g=new Uint16Array(a,w,c)}else if(g=[],h(a,w,g)!==a.byteLength)throw new k("lepcc-decode-error","Bad size");for(a=0;a<c;a++)y[a]=g[a]*e;return y}})},"esri/views/3d/support/meshProcessing":function(){define(["require",
"exports","../webgl-engine/lib/Util"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.computeNeighbors=function(a,b){for(var h=a.length/3,k=new Uint32Array(b+1),m=new Uint32Array(b+1),l=function(d,a){d<a?k[d+1]++:m[a+1]++},c=0;c<h;c++){var e=a[3*c],g=a[3*c+1],y=a[3*c+2];l(e,g);l(g,y);l(y,e)}for(c=g=e=0;c<b;c++)y=k[c+1],l=m[c+1],k[c+1]=e,m[c+1]=g,e+=y,g+=l;for(var w=new Uint32Array(6*h),t=k[b],l=function(d,a,f){if(d<a){var b=k[d+1]++;w[2*b]=a;w[2*b+1]=f}else b=m[a+1]++,w[2*t+2*b]=
d,w[2*t+2*b+1]=f},c=0;c<h;c++)e=a[3*c],g=a[3*c+1],y=a[3*c+2],l(e,g,c),l(g,y,c),l(y,e,c);e=function(d,a){var f=2*d;d=a-d;for(a=1;a<d;a++){var b=w[f+2*a],p=w[f+2*a+1],c=a-1;for(c;0<=c&&w[f+2*c]>b;c--)w[f+2*c+2]=w[f+2*c],w[f+2*c+3]=w[f+2*c+1];w[f+2*c+2]=b;w[f+2*c+3]=p}};for(c=0;c<b;c++)e(k[c],k[c+1]),e(t+m[c],t+m[c+1]);for(var q=new Int32Array(3*h),n=function(d,f){return d===a[3*f]?0:d===a[3*f+1]?1:d===a[3*f+2]?2:-1},h=function(d,a){d=n(d,a);q[3*a+d]=-1},e=function(d,a,f,b){d=n(d,a);q[3*a+d]=b;f=n(f,
b);q[3*b+f]=a},c=0;c<b;c++){for(var g=k[c],y=k[c+1],l=m[c],d=m[c+1];g<y&&l<d;){var f=w[2*g],p=w[2*t+2*l];f===p?(e(c,w[2*g+1],p,w[2*t+2*l+1]),g++,l++):f<p?(h(c,w[2*g+1]),g++):(h(p,w[2*t+2*l+1]),l++)}for(;g<y;)h(c,w[2*g+1]),g++;for(;l<d;)p=w[2*t+2*l],h(p,w[2*t+2*l+1]),l++}return q};var m=null;b.deduplicate=function(a,b,u,v,x){void 0===u&&(u=0);void 0===v&&(v=0);void 0===x&&(x=a.byteLength/(4*b));a=new Uint32Array(a,v,x*b);v=new Uint32Array(x);var l=Math.floor(1.1*x)+1;if(null==m||m.length<2*l)m=new Uint32Array(k.nextHighestPowerOfTwo(2*
l));for(var c=0;c<2*l;c++)m[c]=0;for(var e=0,g=0!==u?Math.ceil(7.84*1.96/(u*u)*u*(1-u)):x,c=0;c<x;c++){if(c===g){var h=1-e/c;if(h+1.96*Math.sqrt(h*(1-h)/c)<u)return null;g*=2}for(var h=c*b,w,t=w=0;t<b;t++)w=a[h+t]+w|0,w=w+(w<<11)+(w>>>2)|0;w>>>=0;for(var t=w%l,q=e;0!==m[2*t+1];){if(m[2*t]===w){var n=m[2*t+1]-1,d=n*b;a:{for(var f=0;f<b;f++)if(a[h+f]!==a[d+f]){d=!1;break a}d=!0}if(d){q=v[n];break}}t++;t>=l&&(t-=l)}q===e&&(m[2*t]=w,m[2*t+1]=c+1,e++);v[c]=q}if(0!==u&&1-e/x<u)return null;u=new Uint32Array(b*
e);for(c=e=0;c<x;c++)if(v[c]===e){l=a;g=c*b;h=u;w=e*b;t=b;for(q=0;q<t;q++)h[w+q]=l[g+q];e++}return{buffer:u.buffer,indices:v,uniqueCount:e}}})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["require","exports","../../support/geometryUtils","./gl-matrix"],function(a,b,k,m){function r(d,a){if(!d)throw d=Error("dummy"),d.stack&&console.log(d.stack),new V(a);}function h(d,a,f){return d<a?a:d>f?f:d}function u(d){return d/180*Math.PI}function v(d){return 180*d/Math.PI}function x(d,a,f){m.mat4d.multiply(a,
d,t);m.mat4d.inverse(t);for(d=0;8>d;++d)m.mat4d.multiplyVec4(t,q[d],n),m.vec3d.set3(n[0]/n[3],n[1]/n[3],n[2]/n[3],f[d])}function l(d,a){k.plane.fromPoints(d[4],d[0],d[3],a[0]);k.plane.fromPoints(d[1],d[5],d[6],a[1]);k.plane.fromPoints(d[4],d[5],d[1],a[2]);k.plane.fromPoints(d[3],d[2],d[6],a[3]);k.plane.fromPoints(d[0],d[1],d[2],a[4]);k.plane.fromPoints(d[5],d[4],d[7],a[5])}function c(d,a,f,p){var c=6378137/Math.sqrt(1-b.ECCENTRICITY_SQUARED*Math.pow(Math.sin(d),2)),z=Math.cos(d);p[0]=(c+f)*Math.cos(a)*
z;p[1]=(c*(1-b.ECCENTRICITY_SQUARED)+f)*Math.sin(d);p[2]=-(c+f)*Math.sin(a)*z}function e(d){for(var a in d)return a}function g(d,a){d[12]=a[0];d[13]=a[1];d[14]=a[2]}function y(d,a){void 0===a&&(a=0);for(var f=0,b=0;4>b;b++)f+=d[a+b]*W[b];return f}function w(d){return d-Math.floor(d)}Object.defineProperty(b,"__esModule",{value:!0});var t=m.mat4d.create(),q=[m.vec4d.createFrom(-1,-1,-1,1),m.vec4d.createFrom(1,-1,-1,1),m.vec4d.createFrom(1,1,-1,1),m.vec4d.createFrom(-1,1,-1,1),m.vec4d.createFrom(-1,
-1,1,1),m.vec4d.createFrom(1,-1,1,1),m.vec4d.createFrom(1,1,1,1),m.vec4d.createFrom(-1,1,1,1)],n=m.vec4d.create(),d=[m.vec3d.create(),m.vec3d.create(),m.vec3d.create(),m.vec3d.create(),m.vec3d.create(),m.vec3d.create(),m.vec3d.create(),m.vec3d.create()],f=m.vec3d.create(),p=m.vec3d.create(),z=m.vec3d.create(),A=m.vec3d.create(),B=m.vec3d.create(),D=m.vec3d.create(),E=m.vec3d.create(),C=m.vec3d.create(),G=m.vec3d.create(),P=m.vec3d.create(),T=m.vec3d.create(),Y=m.vec3d.create(),O=m.vec3d.create(),
U=m.vec3d.createFrom(0,0,0),V=function(){function d(d){this.message=d}d.prototype.toString=function(){return"AssertException: "+this.message};return d}();b.AssertException=V;b.EARTH_RADIUS=6378137;b.METER2FEET=3.28084;b.ECCENTRICITY_SQUARED=.0066943799901414;b.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex"};
b.assert=r;b.verify=function(d,a){d||(console.log("Verify failed: "+a),console.log(Error("dummy").stack))};b.isPowerOfTwo=function(d){return 0===(d&d-1)};b.lerp=function(d,a,f){return d+(a-d)*f};b.clamp=h;b.encodeInt16=function(d){return h(Math.round(32767*d),-32767,32767)};b.encodeNormal=function(d,a){var f=Math.abs(d[0]),b=Math.abs(d[1]),p=1/(f+b+Math.abs(d[2])),f=f*p,b=b*p,p=Math.min(d[2]*p,0);a[0]=L(d[0])*(f-p);a[1]=L(d[1])*(b-p)};var L="function"===typeof Math.sign?Math.sign:function(d){return+(0<
d)-+(0>d)||0};b.fallbackIfUndefined=function(d,a){return void 0===d?a:d};b.hex2rgb=function(d){d=Math.floor(d);return[(d>>16&255)/255,(d>>8&255)/255,(d&255)/255]};b.rgb2hex=function(d){var a=h(Math.round(255*d[0]),0,255),f=h(Math.round(255*d[1]),0,255);d=h(Math.round(255*d[2]),0,255);return"0x"+((a<<16)+(f<<8)+d).toString(16)};b.dec2hex=function(d){d=d.toString(16);return"00000000".substr(0,8-d.length)+d};b.deg2rad=u;b.rad2deg=v;b.azimuthElevationAngle2Direction=function(d,a){d=1.5*Math.PI-d;a=.5*
Math.PI-a;return[Math.cos(d)*Math.sin(a),Math.cos(a),Math.sin(d)*Math.sin(a)]};b.raySphere=function(d,a,b,p,c){b=b||U;var z=m.vec3d.subtract(d,b,f);b=m.vec3d.dot(a,a);var e=2*m.vec3d.dot(a,z);p=m.vec3d.dot(z,z)-p*p;p=e*e-4*b*p;if(0>p)return!1;z=Math.sqrt(p);p=(-e-z)/(2*b);b=(-e+z)/(2*b);if(0>p||b<p&&0<b)p=b;return 0<p?(c&&m.vec3d.add(d,m.vec3d.scale(a,p,O),c),!0):!1};b.rayTriangle3D=function(d,a,f,b,p,c,z,e,A){void 0===A&&(A=m.vec3d.create());var g=b[z]-f[c],l=b[z+1]-f[c+1],n=b[z+2]-f[c+2];b=p[e]-
f[c];z=p[e+1]-f[c+1];p=p[e+2]-f[c+2];var q=a[1]*p-z*a[2],h=a[2]*b-p*a[0],B=a[0]*z-b*a[1];e=g*q+l*h+n*B;if(-1E-5<e&&1E-5>e)return!1;e=1/e;var t=d[0]-f[c],y=d[1]-f[c+1];d=d[2]-f[c+2];A[1]=e*(t*q+y*h+d*B);if(0>A[1]||1<A[1])return!1;f=y*n-l*d;d=d*g-n*t;g=t*l-g*y;A[2]=e*(a[0]*f+a[1]*d+a[2]*g);if(0>A[2]||1<A[1]+A[2])return!1;A[0]=e*(b*f+z*d+p*g);return!0};b.rayBoxTest=function(d,a,f,b){var p,c=(f[0]-d[0])/a[0],z=(b[0]-d[0])/a[0];c>z&&(p=c,c=z,z=p);var e=(f[1]-d[1])/a[1],A=(b[1]-d[1])/a[1];e>A&&(p=e,e=A,
A=p);if(c>A||e>z)return!1;e>c&&(c=e);A<z&&(z=A);f=(f[2]-d[2])/a[2];d=(b[2]-d[2])/a[2];f>d&&(p=f,f=d,d=p);if(c>d||f>z)return!1;d<z&&(z=d);return 0>z?!1:!0};b.rayRay2D=function(d,a,f,b,p,c){void 0===c&&(c=m.vec2d.create());var z=(b[p]-f[p])*(a[0]-d[0])-(b[0]-f[0])*(a[p]-d[p]);if(0===z)return!1;f=((b[0]-f[0])*(d[p]-f[p])-(b[p]-f[p])*(d[0]-f[0]))/z;c[0]=d[0]+f*(a[0]-d[0]);c[1]=d[p]+f*(a[p]-d[p]);return!0};b.matrixToFrustumPoints=x;b.matrixToFrustumPlanes=function(a,f,b,p){void 0===p&&(p=b,b=d);x(a,f,
b);l(b,p)};b.frustumPointsToPlanes=l;b.project=function(d,a,f,b,p){p||(p=d);n[0]=d[0];n[1]=d[1];n[2]=d[2];n[3]=1;m.mat4d.multiplyVec4(a,n);2<p.length&&(p[2]=-n[2]);m.mat4d.multiplyVec4(f,n);r(0!==n[3]);p[0]=n[0]/n[3];p[1]=n[1]/n[3];p[2]=n[2]/n[3];p[0]=(.5*p[0]+.5)*b[2]+b[0];p[1]=(.5*p[1]+.5)*b[3]+b[1]};b.geodeticToGeocentricLatidude=function(d){return Math.atan((1-b.ECCENTRICITY_SQUARED)*Math.tan(d))};b.latLon2positionWGS84Ellipsoid=c;b.pos2latLon=function(d,a){var f=m.vec3d.length(d);a[0]=Math.asin(h(d[1]/
f,-1,1));a[1]=(0>d[2]?1:-1)*Math.acos(h(d[0]/(Math.cos(a[0])*f),-1,1));a[0]=v(a[0]);a[1]=v(a[1]);a[2]=f};b.pos2latLonWGS84Ellipsoid=function(d,a){var f=d[0],p=-d[2],c=d[1],z=Math.sqrt(Math.pow(6378137,2)*(1-b.ECCENTRICITY_SQUARED));d=Math.sqrt(Math.pow(f,2)+Math.pow(p,2));var e=Math.atan2(6378137*c,z*d),f=Math.atan2(p,f),p=Math.atan2(c+Math.pow(Math.sqrt((Math.pow(6378137,2)-Math.pow(z,2))/Math.pow(z,2)),2)*z*Math.pow(Math.sin(e),3),d-6378137*b.ECCENTRICITY_SQUARED*Math.pow(Math.cos(e),3));d=d/Math.cos(p)-
6378137/Math.sqrt(1-b.ECCENTRICITY_SQUARED*Math.pow(Math.sin(p),2))+b.EARTH_RADIUS;a[0]=p;a[1]=f;a[2]=d};b.computeGlobeTransformation=function(d,a,f){var b=u(d[0]);d=u(d[1]);c(b,d,a,p);m.mat4d.translate(f,p);m.mat4d.rotateY(f,.5*Math.PI+d);m.mat4d.rotateX(f,.5*Math.PI-b);return f};b.readUInt16=function(d,a){return d[a]+(d[a+1]<<8)};b.readUInt32=function(d,a){return d[a]+(d[a+1]<<8)+(d[a+2]<<16)+(d[a+3]<<24)};b.setIfDefined=function(d,a,f){void 0!==a[d]&&(f[d]=a[d])};b.array2object=function(d,a){var f=
{};if(void 0!==a)for(var b=0;b<d.length;b++){var p=d[b];f[a(p)]=p}else for(a=0;a<d.length;a++)p=d[a],f[p]=p;return f};b.object2array=function(d){var a=[],f;for(f in d)a.push(d[f]);return a};b.mergeObjects=function(d,a,f){void 0===f&&(f={});if(f!==d)for(var b in d)f[b]=d[b];if(f!==a)for(var p in a)f[p]=a[p];return f};b.subtractObjects=function(d,a){var f={},b;for(b in d)void 0===a[b]&&(f[b]=d[b]);return f};b.intersectObjects=function(d,a){var f={},b;for(b in d)void 0!==a[b]&&(f[b]=d[b]);return f};
b.getFirstObjectKey=e;b.getFirstObjectValue=function(d){return d[e(d)]};b.objectEmpty=function(d){for(var a in d)return!1;return!0};b.byteBuffer2base64image=function(d,a,f,b,p){var c=4*a;r(d.length===c*f,"buffer length must match image resolution");var z=document.createElement("canvas");z.width=a;z.height=f;var e=z.getContext("2d");a=e.getImageData(0,0,a,f);for(var A=a.data,g=0;g<f;++g)for(var l=g*c,n=(f-1-g)*c,q=0;q<c;++q)A[l++]=d[n++];e.putImageData(a,0,0);return z.toDataURL(b,p)};b.cround=function(d){return Math.round(100*
d)/100};b.logWithBase=function(d,a){return Math.log(d)/Math.log(a)};b.setMatrixTranslation=g;b.setMatrixTranslation3=function(d,a,f,b){d[12]=a;d[13]=f;d[14]=b};b.getMatrixTranslation=function(d,a){void 0===a&&(a=m.vec3d.create());a[0]=d[12];a[1]=d[13];a[2]=d[14];return a};b.createTranslationMatrix=function(d,a){d=m.mat4d.identity(d);g(d,a);return d};b.isTranslationMatrix=function(d){return 1===d[0]&&0===d[1]&&0===d[2]&&0===d[3]&&0===d[4]&&1===d[5]&&0===d[6]&&0===d[7]&&0===d[8]&&0===d[9]&&1===d[10]&&
0===d[11]&&1===d[15]};b.fovx2fovy=function(d,a,f){return 2*Math.atan(f*Math.tan(.5*d)/a)};b.fovy2fovx=function(d,a,f){return 2*Math.atan(a*Math.tan(.5*d)/f)};b.fovx2fovd=function(d,a,f){return 2*Math.atan(Math.sqrt(a*a+f*f)*Math.tan(.5*d)/a)};b.fovy2fovd=function(d,a,f){return 2*Math.atan(Math.sqrt(a*a+f*f)*Math.tan(.5*d)/f)};b.fovd2fovx=function(d,a,f){return 2*Math.atan(a*Math.tan(.5*d)/Math.sqrt(a*a+f*f))};b.fovd2fovy=function(d,a,f){return 2*Math.atan(f*Math.tan(.5*d)/Math.sqrt(a*a+f*f))};b.nextHighestPowerOfTwo=
function(d){--d;for(var a=1;32>a;a<<=1)d|=d>>a;return d+1};b.nextHighestPowerOfTen=function(d){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(d)))};b.lineLineDistanceSquared3D=function(d,a,f,b,p){z[0]=d[0]-f[0];z[1]=d[1]-f[1];z[2]=d[2]-f[2];A[0]=b[0]-f[0];A[1]=b[1]-f[1];A[2]=b[2]-f[2];if(1E-4>Math.abs(A[0])&&1E-4>Math.abs(A[1])&&1E-4>Math.abs(A[2]))return p.success=!1,p;B[0]=a[0]-d[0];B[1]=a[1]-d[1];B[2]=a[2]-d[2];if(1E-4>Math.abs(B[0])&&1E-4>Math.abs(B[1])&&1E-4>Math.abs(B[2]))return p.success=
!1,p;a=z[0]*A[0]+z[1]*A[1]+z[2]*A[2];b=A[0]*B[0]+A[1]*B[1]+A[2]*B[2];var c=z[0]*B[0]+z[1]*B[1]+z[2]*B[2],e=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],g=(B[0]*B[0]+B[1]*B[1]+B[2]*B[2])*e-b*b;if(1E-4>Math.abs(g))return p.success=!1,p;c=h((a*b-c*e)/g,0,1);a=h((a+b*c)/e,0,1);D[0]=d[0]+c*B[0];D[1]=d[1]+c*B[1];D[2]=d[2]+c*B[2];E[0]=f[0]+a*A[0];E[1]=f[1]+a*A[1];E[2]=f[2]+a*A[2];d=m.vec3d.dist2(D,E);p.success=!0;p.dist2=d;p.pa=D;p.pb=E;return p};b.pointLineSegmentDistanceSquared2D=function(d,a,f){T[0]=a[0]-d[0];T[1]=
a[1]-d[1];T[2]=0;Y[0]=f[0]-d[0];Y[1]=f[1]-d[1];Y[2]=0;O[0]=f[0];O[1]=f[1];O[2]=0;a=m.vec2d.dot(Y,T);f=m.vec2d.dot(T,T);a=h(a/f,0,1);P[0]=T[0]*a;P[1]=T[1]*a;C[0]=d[0]+P[0];C[1]=d[1]+P[1];m.vec2d.subtract(O,C,G);d=m.vec2d.dot(G,G);a=m.vec2d.dot(Y,Y);f=m.vec2d.dot(T,T);var b=m.vec2d.dot(P,P);if(b>a||b>f)d=Number.MAX_VALUE;return d};b.packFloatRGBA=function(d,a,f){void 0===f&&(f=0);d=h(d,0,R);for(var b=0;4>b;b++)a[f+b]=Math.floor(256*w(d*K[b]))};b.unpackFloatRGBA=y;var K=[1,256,65536,16777216],W=[1/256,
1/65536,1/16777216,1/4294967296],R=y(new Uint8ClampedArray([255,255,255,255]));b.inverseProjectionInfo=function(d,a,f,b,p){0===d[11]?(b[0]=2/(a*d[0]),b[1]=2/(f*d[5]),b[2]=(1+d[12])/d[0],b[3]=(1+d[13])/d[5],m.vec2d.set2(0,1,p)):(b[0]=-2/(a*d[0]),b[1]=-2/(f*d[5]),b[2]=(1-d[8])/d[0],b[3]=(1-d[9])/d[5],m.vec2d.set2(1,0,p))}})},"esri/views/3d/support/geometryUtils":function(){define(["require","exports","./geometryUtils/lineSegment","./geometryUtils/plane","./geometryUtils/triangle"],function(a,b,k,m,
r){Object.defineProperty(b,"__esModule",{value:!0});b.plane=m;b.triangle=r;b.lineSegment=k})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define(["require","exports","../../lib/glMatrix","../mathUtils"],function(a,b,k,m){function r(a,b){void 0===a&&(a=k.vec3d.create());void 0===b&&(b=k.vec3d.create());return{origin:a,vector:b}}Object.defineProperty(b,"__esModule",{value:!0});b.create=r;b.fromOriginAndVector=function(a,b,h){void 0===h&&(h=r());k.vec3d.set(a,h.origin);k.vec3d.set(b,
h.vector);return h};b.distance2=function(a,b){b=k.vec3d.subtract(b,a.origin);var u=k.vec3d.dot(a.vector,b),l=k.vec3d.dot(a.vector,a.vector),u=m.clamp(u/l,0,1);a=k.vec3d.subtract(k.vec3d.scale(a.vector,u,h),b,h);return k.vec3d.dot(a,a)};var h=k.vec3d.create()})},"esri/views/3d/lib/glMatrix":function(){define([],function(){var a={};(function(a,k){k(a,!0);k(a,!1)})(a,function(a,k){var b={};(function(){if("undefined"!=typeof Float32Array){var d=new Float32Array(1),a=new Int32Array(d.buffer);b.invsqrt=
function(f){d[0]=f;a[0]=1597463007-(a[0]>>1);var b=d[0];return b*(1.5-.5*f*b*b)}}else b.invsqrt=function(d){return 1/Math.sqrt(d)}})();var r=Array;"undefined"!=typeof Float32Array&&(r=k?Float32Array:Array);var h={create:function(d){var a=new r(3);d?(a[0]=d[0],a[1]=d[1],a[2]=d[2]):a[0]=a[1]=a[2]=0;return a},createFrom:function(d,a,b){var f=new r(3);f[0]=d;f[1]=a;f[2]=b;return f},set:function(d,a){a[0]=d[0];a[1]=d[1];a[2]=d[2];return a},set3:function(d,a,b,c){c[0]=d;c[1]=a;c[2]=b;return c},add:function(d,
a,b){if(!b||d===b)return d[0]+=a[0],d[1]+=a[1],d[2]+=a[2],d;b[0]=d[0]+a[0];b[1]=d[1]+a[1];b[2]=d[2]+a[2];return b},subtract:function(d,a,b){if(!b||d===b)return d[0]-=a[0],d[1]-=a[1],d[2]-=a[2],d;b[0]=d[0]-a[0];b[1]=d[1]-a[1];b[2]=d[2]-a[2];return b},multiply:function(d,a,b){if(!b||d===b)return d[0]*=a[0],d[1]*=a[1],d[2]*=a[2],d;b[0]=d[0]*a[0];b[1]=d[1]*a[1];b[2]=d[2]*a[2];return b},max:function(d,a,b){b[0]=Math.max(d[0],a[0]);b[1]=Math.max(d[1],a[1]);b[2]=Math.max(d[2],a[2]);return b},min:function(d,
a,b){b[0]=Math.min(d[0],a[0]);b[1]=Math.min(d[1],a[1]);b[2]=Math.min(d[2],a[2]);return b},negate:function(d,a){a||(a=d);a[0]=-d[0];a[1]=-d[1];a[2]=-d[2];return a},scale:function(d,a,b){if(!b||d===b)return d[0]*=a,d[1]*=a,d[2]*=a,d;b[0]=d[0]*a;b[1]=d[1]*a;b[2]=d[2]*a;return b},normalize:function(d,a){a||(a=d);var f=d[0],b=d[1];d=d[2];var c=Math.sqrt(f*f+b*b+d*d);if(!c)return a[0]=0,a[1]=0,a[2]=0,a;if(1===c)return a[0]=f,a[1]=b,a[2]=d,a;c=1/c;a[0]=f*c;a[1]=b*c;a[2]=d*c;return a},cross:function(d,a,
b){b||(b=d);var f=d[0],p=d[1];d=d[2];var c=a[0],e=a[1];a=a[2];b[0]=p*a-d*e;b[1]=d*c-f*a;b[2]=f*e-p*c;return b},length:function(d){var a=d[0],b=d[1];d=d[2];return Math.sqrt(a*a+b*b+d*d)},length2:function(d){var a=d[0],b=d[1];d=d[2];return a*a+b*b+d*d},dot:function(d,a){return d[0]*a[0]+d[1]*a[1]+d[2]*a[2]},direction:function(d,a,b){b||(b=d);var f=d[0]-a[0],p=d[1]-a[1];d=d[2]-a[2];a=Math.sqrt(f*f+p*p+d*d);if(!a)return b[0]=0,b[1]=0,b[2]=0,b;a=1/a;b[0]=f*a;b[1]=p*a;b[2]=d*a;return b},lerp:function(d,
a,b,c){c||(c=d);c[0]=d[0]+b*(a[0]-d[0]);c[1]=d[1]+b*(a[1]-d[1]);c[2]=d[2]+b*(a[2]-d[2]);return c},dist:function(d,a){var f=a[0]-d[0],b=a[1]-d[1];d=a[2]-d[2];return Math.sqrt(f*f+b*b+d*d)},dist2:function(d,a){var f=a[0]-d[0],b=a[1]-d[1];d=a[2]-d[2];return f*f+b*b+d*d}},u=null,v=new r(4);h.unproject=function(d,a,b,c,e){e||(e=d);u||(u=w.create());var f=u;v[0]=2*(d[0]-c[0])/c[2]-1;v[1]=2*(d[1]-c[1])/c[3]-1;v[2]=2*d[2]-1;v[3]=1;w.multiply(b,a,f);if(!w.inverse(f))return null;w.multiplyVec4(f,v);if(0===
v[3])return null;e[0]=v[0]/v[3];e[1]=v[1]/v[3];e[2]=v[2]/v[3];return e};var x=h.createFrom(1,0,0),l=h.createFrom(0,1,0),c=h.createFrom(0,0,1);h.rotationTo=function(d,a,b){b||(b=t.create());var f=h.dot(d,a),p=h.create();if(1<=f)t.set(q,b);else if(-.999999>f)h.cross(x,d,p),1E-6>p.length&&h.cross(l,d,p),1E-6>p.length&&h.cross(c,d,p),h.normalize(p),t.fromAxisAngle(p,Math.PI,b);else{var f=Math.sqrt(2*(1+f)),e=1/f;h.cross(d,a,p);b[0]=p[0]*e;b[1]=p[1]*e;b[2]=p[2]*e;b[3]=.5*f;t.normalize(b)}1<b[3]?b[3]=1:
-1>b[3]&&(b[3]=-1);return b};var e=h.create(),g=h.create();h.project=function(d,a,b,c){c||(c=d);h.direction(a,b,e);h.subtract(d,a,g);d=h.dot(e,g);h.scale(e,d,c);h.add(c,a,c)};h.str=function(d){return"["+d[0]+", "+d[1]+", "+d[2]+"]"};var y={create:function(d){var a=new r(9);d?(a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a[4]=d[4],a[5]=d[5],a[6]=d[6],a[7]=d[7],a[8]=d[8]):a[0]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=0;return a},createFrom:function(d,a,b,c,e,g,l,n,q){var f=new r(9);f[0]=d;f[1]=a;f[2]=b;f[3]=
c;f[4]=e;f[5]=g;f[6]=l;f[7]=n;f[8]=q;return f},determinant:function(d){var a=d[3],b=d[4],c=d[5],e=d[6],g=d[7],l=d[8];return d[0]*(l*b-c*g)+d[1]*(-l*a+c*e)+d[2]*(g*a-b*e)},inverse:function(d,a){var f=d[0],b=d[1],c=d[2],e=d[3],g=d[4],l=d[5],n=d[6],q=d[7];d=d[8];var h=d*g-l*q,t=-d*e+l*n,k=q*e-g*n,w=f*h+b*t+c*k;if(!w)return null;w=1/w;a||(a=y.create());a[0]=h*w;a[1]=(-d*b+c*q)*w;a[2]=(l*b-c*g)*w;a[3]=t*w;a[4]=(d*f-c*n)*w;a[5]=(-l*f+c*e)*w;a[6]=k*w;a[7]=(-q*f+b*n)*w;a[8]=(g*f-b*e)*w;return a},multiply:function(d,
a,b){b||(b=d);var f=d[0],p=d[1],c=d[2],e=d[3],g=d[4],l=d[5],n=d[6],q=d[7];d=d[8];var h=a[0],t=a[1],y=a[2],k=a[3],w=a[4],u=a[5],m=a[6],v=a[7];a=a[8];b[0]=h*f+t*e+y*n;b[1]=h*p+t*g+y*q;b[2]=h*c+t*l+y*d;b[3]=k*f+w*e+u*n;b[4]=k*p+w*g+u*q;b[5]=k*c+w*l+u*d;b[6]=m*f+v*e+a*n;b[7]=m*p+v*g+a*q;b[8]=m*c+v*l+a*d;return b},add:function(d,a,b){b||(b=d);b[0]=d[0]+a[0];b[1]=d[1]+a[1];b[2]=d[2]+a[2];b[3]=d[3]+a[3];b[4]=d[4]+a[4];b[5]=d[5]+a[5];b[6]=d[6]+a[6];b[7]=d[7]+a[7];b[8]=d[8]+a[8];return b},subtract:function(d,
a,b){b||(b=d);b[0]=d[0]-a[0];b[1]=d[1]-a[1];b[2]=d[2]-a[2];b[3]=d[3]-a[3];b[4]=d[4]-a[4];b[5]=d[5]-a[5];b[6]=d[6]-a[6];b[7]=d[7]-a[7];b[8]=d[8]-a[8];return b},multiplyVec2:function(d,a,b){b||(b=a);var f=a[0];a=a[1];b[0]=f*d[0]+a*d[3]+d[6];b[1]=f*d[1]+a*d[4]+d[7];return b},multiplyVec3:function(d,a,b){b||(b=a);var f=a[0],p=a[1];a=a[2];b[0]=f*d[0]+p*d[3]+a*d[6];b[1]=f*d[1]+p*d[4]+a*d[7];b[2]=f*d[2]+p*d[5]+a*d[8];return b},set:function(d,a){a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];a[5]=d[5];
a[6]=d[6];a[7]=d[7];a[8]=d[8];return a},identity:function(d){d||(d=y.create());d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d},transpose:function(d,a){if(!a||d===a){a=d[1];var f=d[2],b=d[5];d[1]=d[3];d[2]=d[6];d[3]=a;d[5]=d[7];d[6]=f;d[7]=b;return d}a[0]=d[0];a[1]=d[3];a[2]=d[6];a[3]=d[1];a[4]=d[4];a[5]=d[7];a[6]=d[2];a[7]=d[5];a[8]=d[8];return a},toMat4:function(d,a){a||(a=w.create());a[15]=1;a[14]=0;a[13]=0;a[12]=0;a[11]=0;a[10]=d[8];a[9]=d[7];a[8]=d[6];a[7]=0;a[6]=d[5];
a[5]=d[4];a[4]=d[3];a[3]=0;a[2]=d[2];a[1]=d[1];a[0]=d[0];return a},str:function(d){return"["+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+"]"}},w={create:function(d){var a=new r(16);4===arguments.length?(a[0]=arguments[0],a[1]=arguments[1],a[2]=arguments[2],a[3]=arguments[3],a[4]=arguments[4],a[5]=arguments[5],a[6]=arguments[6],a[7]=arguments[7],a[8]=arguments[8],a[9]=arguments[9],a[10]=arguments[10],a[11]=arguments[11],a[12]=arguments[12],a[13]=arguments[13],
a[14]=arguments[14],a[15]=arguments[15]):d&&(a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a[4]=d[4],a[5]=d[5],a[6]=d[6],a[7]=d[7],a[8]=d[8],a[9]=d[9],a[10]=d[10],a[11]=d[11],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]);return a},createFrom:function(d,a,b,c,e,g,l,n,q,h,t,y,k,w,u,m){var f=new r(16);f[0]=d;f[1]=a;f[2]=b;f[3]=c;f[4]=e;f[5]=g;f[6]=l;f[7]=n;f[8]=q;f[9]=h;f[10]=t;f[11]=y;f[12]=k;f[13]=w;f[14]=u;f[15]=m;return f},createFromMatrixRowMajor:function(d){var a=new r(16);a[0]=d[0];a[4]=d[1];a[8]=
d[2];a[12]=d[3];a[1]=d[4];a[5]=d[5];a[9]=d[6];a[13]=d[7];a[2]=d[8];a[6]=d[9];a[10]=d[10];a[14]=d[11];a[3]=d[12];a[7]=d[13];a[11]=d[14];a[15]=d[15];return a},createFromMatrix:function(d){var a=new r(16);a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];a[5]=d[5];a[6]=d[6];a[7]=d[7];a[8]=d[8];a[9]=d[9];a[10]=d[10];a[11]=d[11];a[12]=d[12];a[13]=d[13];a[14]=d[14];a[15]=d[15];return a},set:function(d,a){a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];a[5]=d[5];a[6]=d[6];a[7]=d[7];a[8]=d[8];a[9]=d[9];
a[10]=d[10];a[11]=d[11];a[12]=d[12];a[13]=d[13];a[14]=d[14];a[15]=d[15];return a},setRowMajor:function(d,a){a[0]=d[0];a[4]=d[1];a[8]=d[2];a[12]=d[3];a[1]=d[4];a[5]=d[5];a[9]=d[6];a[13]=d[7];a[2]=d[8];a[6]=d[9];a[10]=d[10];a[14]=d[11];a[3]=d[12];a[7]=d[13];a[11]=d[14];a[15]=d[15];return a},identity:function(d){d||(d=w.create());d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},transpose:function(d,a){if(!a||d===a){a=d[1];
var f=d[2],b=d[3],c=d[6],e=d[7],g=d[11];d[1]=d[4];d[2]=d[8];d[3]=d[12];d[4]=a;d[6]=d[9];d[7]=d[13];d[8]=f;d[9]=c;d[11]=d[14];d[12]=b;d[13]=e;d[14]=g;return d}a[0]=d[0];a[1]=d[4];a[2]=d[8];a[3]=d[12];a[4]=d[1];a[5]=d[5];a[6]=d[9];a[7]=d[13];a[8]=d[2];a[9]=d[6];a[10]=d[10];a[11]=d[14];a[12]=d[3];a[13]=d[7];a[14]=d[11];a[15]=d[15];return a},determinant:function(d){var a=d[0],b=d[1],c=d[2],e=d[3],g=d[4],l=d[5],n=d[6],q=d[7],h=d[8],t=d[9],y=d[10],k=d[11],w=d[12],u=d[13],m=d[14];d=d[15];return w*t*n*e-
h*u*n*e-w*l*y*e+g*u*y*e+h*l*m*e-g*t*m*e-w*t*c*q+h*u*c*q+w*b*y*q-a*u*y*q-h*b*m*q+a*t*m*q+w*l*c*k-g*u*c*k-w*b*n*k+a*u*n*k+g*b*m*k-a*l*m*k-h*l*c*d+g*t*c*d+h*b*n*d-a*t*n*d-g*b*y*d+a*l*y*d},inverse:function(d,a){a||(a=d);var f=d[0],b=d[1],c=d[2],e=d[3],g=d[4],l=d[5],n=d[6],q=d[7],h=d[8],t=d[9],y=d[10],k=d[11],w=d[12],u=d[13],m=d[14];d=d[15];var v=f*l-b*g,r=f*n-c*g,x=f*q-e*g,Z=b*n-c*l,Q=b*q-e*l,H=c*q-e*n,M=h*u-t*w,J=h*m-y*w,I=h*d-k*w,N=t*m-y*u,S=t*d-k*u,X=y*d-k*m,F=v*X-r*S+x*N+Z*I-Q*J+H*M;if(!F)return null;
F=1/F;a[0]=(l*X-n*S+q*N)*F;a[1]=(-b*X+c*S-e*N)*F;a[2]=(u*H-m*Q+d*Z)*F;a[3]=(-t*H+y*Q-k*Z)*F;a[4]=(-g*X+n*I-q*J)*F;a[5]=(f*X-c*I+e*J)*F;a[6]=(-w*H+m*x-d*r)*F;a[7]=(h*H-y*x+k*r)*F;a[8]=(g*S-l*I+q*M)*F;a[9]=(-f*S+b*I-e*M)*F;a[10]=(w*Q-u*x+d*v)*F;a[11]=(-h*Q+t*x-k*v)*F;a[12]=(-g*N+l*J-n*M)*F;a[13]=(f*N-b*J+c*M)*F;a[14]=(-w*Z+u*r-m*v)*F;a[15]=(h*Z-t*r+y*v)*F;return a},toRotationMat:function(d,a){a||(a=w.create());a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];a[5]=d[5];a[6]=d[6];a[7]=d[7];a[8]=d[8];
a[9]=d[9];a[10]=d[10];a[11]=d[11];a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},toMat3:function(d,a){a||(a=y.create());a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[4];a[4]=d[5];a[5]=d[6];a[6]=d[8];a[7]=d[9];a[8]=d[10];return a},toInverseMat3:function(d,a){var f=d[0],b=d[1],c=d[2],e=d[4],g=d[5],l=d[6],n=d[8],q=d[9];d=d[10];var h=d*g-l*q,t=-d*e+l*n,k=q*e-g*n,w=f*h+b*t+c*k;if(!w)return null;w=1/w;a||(a=y.create());a[0]=h*w;a[1]=(-d*b+c*q)*w;a[2]=(l*b-c*g)*w;a[3]=t*w;a[4]=(d*f-c*n)*w;a[5]=(-l*f+c*e)*w;a[6]=k*w;a[7]=
(-q*f+b*n)*w;a[8]=(g*f-b*e)*w;return a},multiply:function(d,a,b){b||(b=d);var f=d[0],p=d[1],c=d[2],e=d[3],g=d[4],l=d[5],n=d[6],q=d[7],h=d[8],t=d[9],y=d[10],k=d[11],w=d[12],u=d[13],m=d[14];d=d[15];var v=a[0],r=a[1],x=a[2],Q=a[3],H=a[4],M=a[5],J=a[6],I=a[7],N=a[8],S=a[9],X=a[10],F=a[11],aa=a[12],ea=a[13],ga=a[14];a=a[15];b[0]=v*f+r*g+x*h+Q*w;b[1]=v*p+r*l+x*t+Q*u;b[2]=v*c+r*n+x*y+Q*m;b[3]=v*e+r*q+x*k+Q*d;b[4]=H*f+M*g+J*h+I*w;b[5]=H*p+M*l+J*t+I*u;b[6]=H*c+M*n+J*y+I*m;b[7]=H*e+M*q+J*k+I*d;b[8]=N*f+S*g+
X*h+F*w;b[9]=N*p+S*l+X*t+F*u;b[10]=N*c+S*n+X*y+F*m;b[11]=N*e+S*q+X*k+F*d;b[12]=aa*f+ea*g+ga*h+a*w;b[13]=aa*p+ea*l+ga*t+a*u;b[14]=aa*c+ea*n+ga*y+a*m;b[15]=aa*e+ea*q+ga*k+a*d;return b},multiplyVec3:function(a,f,b){b||(b=f);var d=f[0],p=f[1];f=f[2];b[0]=a[0]*d+a[4]*p+a[8]*f+a[12];b[1]=a[1]*d+a[5]*p+a[9]*f+a[13];b[2]=a[2]*d+a[6]*p+a[10]*f+a[14];return b},multiplyVec4:function(a,f,b){b||(b=f);var d=f[0],p=f[1],c=f[2];f=f[3];b[0]=a[0]*d+a[4]*p+a[8]*c+a[12]*f;b[1]=a[1]*d+a[5]*p+a[9]*c+a[13]*f;b[2]=a[2]*
d+a[6]*p+a[10]*c+a[14]*f;b[3]=a[3]*d+a[7]*p+a[11]*c+a[15]*f;return b},translate:function(a,f,b){var d=f[0],p=f[1];f=f[2];var c,e,g,l,n,q,h,t,y,k,w,u;if(!b||a===b)return a[12]=a[0]*d+a[4]*p+a[8]*f+a[12],a[13]=a[1]*d+a[5]*p+a[9]*f+a[13],a[14]=a[2]*d+a[6]*p+a[10]*f+a[14],a[15]=a[3]*d+a[7]*p+a[11]*f+a[15],a;c=a[0];e=a[1];g=a[2];l=a[3];n=a[4];q=a[5];h=a[6];t=a[7];y=a[8];k=a[9];w=a[10];u=a[11];b[0]=c;b[1]=e;b[2]=g;b[3]=l;b[4]=n;b[5]=q;b[6]=h;b[7]=t;b[8]=y;b[9]=k;b[10]=w;b[11]=u;b[12]=c*d+n*p+y*f+a[12];
b[13]=e*d+q*p+k*f+a[13];b[14]=g*d+h*p+w*f+a[14];b[15]=l*d+t*p+u*f+a[15];return b},scale:function(a,f,b){var d=f[0],p=f[1];f=f[2];if(!b||a===b)return a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=p,a[5]*=p,a[6]*=p,a[7]*=p,a[8]*=f,a[9]*=f,a[10]*=f,a[11]*=f,a;b[0]=a[0]*d;b[1]=a[1]*d;b[2]=a[2]*d;b[3]=a[3]*d;b[4]=a[4]*p;b[5]=a[5]*p;b[6]=a[6]*p;b[7]=a[7]*p;b[8]=a[8]*f;b[9]=a[9]*f;b[10]=a[10]*f;b[11]=a[11]*f;b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*
a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))},rotate:function(a,f,b,c){var d=b[0],p=b[1];b=b[2];var e=Math.sqrt(d*d+p*p+b*b),z,g,l,n,q,h,t,y,k,w,u,m,v,r,x,H,M,J,I,N;if(!e)return null;1!==e&&(e=1/e,d*=e,p*=e,b*=e);z=Math.sin(f);g=Math.cos(f);l=1-g;f=a[0];e=a[1];n=a[2];q=a[3];h=a[4];t=a[5];y=a[6];k=a[7];w=a[8];u=a[9];m=a[10];v=a[11];r=d*d*l+g;x=p*d*l+b*z;H=b*d*l-p*z;M=d*p*l-b*z;J=p*p*l+g;I=b*p*l+d*z;N=d*b*l+p*z;d=p*b*l-d*z;p=b*b*l+g;
c?a!==c&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=f*r+h*x+w*H;c[1]=e*r+t*x+u*H;c[2]=n*r+y*x+m*H;c[3]=q*r+k*x+v*H;c[4]=f*M+h*J+w*I;c[5]=e*M+t*J+u*I;c[6]=n*M+y*J+m*I;c[7]=q*M+k*J+v*I;c[8]=f*N+h*d+w*p;c[9]=e*N+t*d+u*p;c[10]=n*N+y*d+m*p;c[11]=q*N+k*d+v*p;return c},rotateX:function(a,f,b){var d=Math.sin(f);f=Math.cos(f);var p=a[4],c=a[5],e=a[6],g=a[7],l=a[8],n=a[9],q=a[10],h=a[11];b?a!==b&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[4]=
p*f+l*d;b[5]=c*f+n*d;b[6]=e*f+q*d;b[7]=g*f+h*d;b[8]=p*-d+l*f;b[9]=c*-d+n*f;b[10]=e*-d+q*f;b[11]=g*-d+h*f;return b},rotateY:function(a,f,b){var d=Math.sin(f);f=Math.cos(f);var p=a[0],c=a[1],e=a[2],g=a[3],l=a[8],n=a[9],q=a[10],h=a[11];b?a!==b&&(b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=p*f+l*-d;b[1]=c*f+n*-d;b[2]=e*f+q*-d;b[3]=g*f+h*-d;b[8]=p*d+l*f;b[9]=c*d+n*f;b[10]=e*d+q*f;b[11]=g*d+h*f;return b},rotateZ:function(a,f,b){var d=Math.sin(f);f=Math.cos(f);
var c=a[0],p=a[1],e=a[2],g=a[3],l=a[4],n=a[5],q=a[6],h=a[7];b?a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=c*f+l*d;b[1]=p*f+n*d;b[2]=e*f+q*d;b[3]=g*f+h*d;b[4]=c*-d+l*f;b[5]=p*-d+n*f;b[6]=e*-d+q*f;b[7]=g*-d+h*f;return b},frustum:function(a,b,c,e,g,l,n){n||(n=w.create());var d=b-a,f=e-c,p=l-g;n[0]=2*g/d;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=2*g/f;n[6]=0;n[7]=0;n[8]=(b+a)/d;n[9]=(e+c)/f;n[10]=-(l+g)/p;n[11]=-1;n[12]=0;n[13]=0;n[14]=-(l*g*2)/
p;n[15]=0;return n},perspective:function(a,b,c,e,g){a=c*Math.tan(a*Math.PI/360);b*=a;return w.frustum(-b,b,-a,a,c,e,g)},ortho:function(a,b,c,e,g,l,n){n||(n=w.create());var d=b-a,f=e-c,p=l-g;n[0]=2/d;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=2/f;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=-2/p;n[11]=0;n[12]=-(a+b)/d;n[13]=-(e+c)/f;n[14]=-(l+g)/p;n[15]=1;return n},lookAt:function(a,b,c,e){e||(e=w.create());var d,f,p,g,z,l,n,q,h=a[0],t=a[1];a=a[2];p=c[0];g=c[1];f=c[2];n=b[0];c=b[1];d=b[2];if(h===n&&t===c&&a===d)return w.identity(e);
b=h-n;c=t-c;n=a-d;q=1/Math.sqrt(b*b+c*c+n*n);b*=q;c*=q;n*=q;d=g*n-f*c;f=f*b-p*n;p=p*c-g*b;(q=Math.sqrt(d*d+f*f+p*p))?(q=1/q,d*=q,f*=q,p*=q):p=f=d=0;g=c*p-n*f;z=n*d-b*p;l=b*f-c*d;(q=Math.sqrt(g*g+z*z+l*l))?(q=1/q,g*=q,z*=q,l*=q):l=z=g=0;e[0]=d;e[1]=g;e[2]=b;e[3]=0;e[4]=f;e[5]=z;e[6]=c;e[7]=0;e[8]=p;e[9]=l;e[10]=n;e[11]=0;e[12]=-(d*h+f*t+p*a);e[13]=-(g*h+z*t+l*a);e[14]=-(b*h+c*t+n*a);e[15]=1;return e},fromRotationTranslation:function(a,b,c){c||(c=w.create());var d=a[0],f=a[1],p=a[2],e=a[3],g=d+d,l=
f+f,n=p+p;a=d*g;var q=d*l,d=d*n,h=f*l,f=f*n,p=p*n,g=e*g,l=e*l,e=e*n;c[0]=1-(h+p);c[1]=q+e;c[2]=d-l;c[3]=0;c[4]=q-e;c[5]=1-(a+p);c[6]=f+g;c[7]=0;c[8]=d+l;c[9]=f-g;c[10]=1-(a+h);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},t={create:function(a){var d=new r(4);a?(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=
a[3]):d[0]=d[1]=d[2]=d[3]=0;return d},createFrom:function(a,b,c,e){var d=new r(4);d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=t.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},q=t.identity();t.calculateW=function(a,b){var d=a[0],f=a[1],c=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-d*d-f*f-c*c)),a;b[0]=d;b[1]=f;b[2]=c;b[3]=-Math.sqrt(Math.abs(1-d*d-f*f-c*c));return b};t.dot=function(a,b){return a[0]*b[0]+
a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};t.inverse=function(a,b){var d=a[0],f=a[1],c=a[2],e=a[3],d=(d=d*d+f*f+c*c+e*e)?1/d:0;if(!b||a===b)return a[0]*=-d,a[1]*=-d,a[2]*=-d,a[3]*=d,a;b[0]=-a[0]*d;b[1]=-a[1]*d;b[2]=-a[2]*d;b[3]=a[3]*d;return b};t.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};t.length=function(a){var d=a[0],b=a[1],c=a[2];a=a[3];return Math.sqrt(d*d+b*b+c*c+a*a)};t.normalize=function(a,b){b||(b=a);var d=a[0],f=a[1],
c=a[2];a=a[3];var e=Math.sqrt(d*d+f*f+c*c+a*a);if(0===e)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;e=1/e;b[0]=d*e;b[1]=f*e;b[2]=c*e;b[3]=a*e;return b};t.add=function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};t.multiply=function(a,b,c){c||(c=a);var d=a[0],f=a[1],p=a[2];a=a[3];var e=b[0],g=b[1],l=b[2];b=b[3];c[0]=d*b+a*e+f*l-p*g;c[1]=f*b+a*g+p*e-d*l;c[2]=p*b+a*l+d*g-f*e;c[3]=a*b-d*e-f*g-p*l;return c};t.multiplyVec3=
function(a,b,c){c||(c=b);var d=b[0],f=b[1],p=b[2];b=a[0];var e=a[1],g=a[2];a=a[3];var l=a*d+e*p-g*f,n=a*f+g*d-b*p,q=a*p+b*f-e*d,d=-b*d-e*f-g*p;c[0]=l*a+d*-b+n*-g-q*-e;c[1]=n*a+d*-e+q*-b-l*-g;c[2]=q*a+d*-g+l*-e-n*-b;return c};t.scale=function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};t.toMat3=function(a,b){b||(b=y.create());var d=a[0],f=a[1],c=a[2],e=a[3],g=d+d,l=f+f,n=c+c;a=d*g;var q=d*l,d=d*n,h=f*l,f=f*n,c=c*n,g=e*g,l=e*
l,e=e*n;b[0]=1-(h+c);b[1]=q+e;b[2]=d-l;b[3]=q-e;b[4]=1-(a+c);b[5]=f+g;b[6]=d+l;b[7]=f-g;b[8]=1-(a+h);return b};t.toMat4=function(a,b){b||(b=w.create());var d=a[0],f=a[1],c=a[2],e=a[3],g=d+d,l=f+f,n=c+c;a=d*g;var q=d*l,d=d*n,h=f*l,f=f*n,c=c*n,g=e*g,l=e*l,e=e*n;b[0]=1-(h+c);b[1]=q+e;b[2]=d-l;b[3]=0;b[4]=q-e;b[5]=1-(a+c);b[6]=f+g;b[7]=0;b[8]=d+l;b[9]=f-g;b[10]=1-(a+h);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};t.slerp=function(a,b,c,e){e||(e=a);var d=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],f,
p;if(1<=Math.abs(d))return e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;f=Math.acos(d);p=Math.sqrt(1-d*d);if(.001>Math.abs(p))return e[0]=.5*a[0]+.5*b[0],e[1]=.5*a[1]+.5*b[1],e[2]=.5*a[2]+.5*b[2],e[3]=.5*a[3]+.5*b[3],e;d=Math.sin((1-c)*f)/p;c=Math.sin(c*f)/p;e[0]=a[0]*d+b[0]*c;e[1]=a[1]*d+b[1]*c;e[2]=a[2]*d+b[2]*c;e[3]=a[3]*d+b[3]*c;return e};t.fromRotationMatrix=function(a,b){b||(b=t.create());var d=a[0]+a[4]+a[8],f;if(0<d)f=Math.sqrt(d+1),b[3]=.5*f,f=.5/f,b[0]=(a[7]-a[5])*f,b[1]=(a[2]-a[6])*
f,b[2]=(a[3]-a[1])*f;else{f=t.fromRotationMatrix.s_iNext=t.fromRotationMatrix.s_iNext||[1,2,0];d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);var c=f[d],e=f[c];f=Math.sqrt(a[3*d+d]-a[3*c+c]-a[3*e+e]+1);b[d]=.5*f;f=.5/f;b[3]=(a[3*e+c]-a[3*c+e])*f;b[c]=(a[3*c+d]+a[3*d+c])*f;b[e]=(a[3*e+d]+a[3*d+e])*f}return b};y.toQuat4=t.fromRotationMatrix;(function(){var a=y.create();t.fromAxes=function(d,b,c,e){a[0]=b[0];a[3]=b[1];a[6]=b[2];a[1]=c[0];a[4]=c[1];a[7]=c[2];a[2]=d[0];a[5]=d[1];a[8]=d[2];return t.fromRotationMatrix(a,
e)}})();t.identity=function(a){a||(a=t.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};t.fromAngleAxis=function(a,b,c){c||(c=t.create());a*=.5;var d=Math.sin(a);c[3]=Math.cos(a);c[0]=d*b[0];c[1]=d*b[1];c[2]=d*b[2];return c};t.toAngleAxis=function(a,f){f||(f=a);var d=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];0<d?(f[3]=2*Math.acos(a[3]),d=b.invsqrt(d),f[0]=a[0]*d,f[1]=a[1]*d,f[2]=a[2]*d):(f[3]=0,f[0]=1,f[1]=0,f[2]=0);return f};t.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var n={create:function(a){var d=
new r(4);a?(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]):d[0]=d[1]=d[2]=d[3]=0;return d},createFrom:function(a,b,c,e){var d=new r(4);d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=n.create());a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,
b){b||(b=a);var d=a[0],f=a[1],c=a[2];a=a[3];var e=d*a-c*f;if(!e)return null;e=1/e;b[0]=a*e;b[1]=-f*e;b[2]=-c*e;b[3]=d*e;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],f=a[1],p=a[2];a=a[3];c[0]=d*b[0]+f*b[2];c[1]=d*b[1]+f*b[3];c[2]=p*b[0]+a*b[2];c[3]=p*b[1]+a*b[3];return c},rotate:function(a,b,c){c||(c=a);var d=a[0],f=a[1],p=a[2];a=a[3];var e=Math.sin(b);b=Math.cos(b);c[0]=d*b+f*e;c[1]=d*-e+f*b;c[2]=p*b+a*e;c[3]=p*-e+a*b;return c},multiplyVec2:function(a,b,c){c||(c=b);var d=b[0];b=b[1];c[0]=
d*a[0]+b*a[1];c[1]=d*a[2]+b*a[3];return c},scale:function(a,b,c){c||(c=a);var d=a[1],f=a[2],p=a[3],e=b[0];b=b[1];c[0]=a[0]*e;c[1]=d*b;c[2]=f*e;c[3]=p*b;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};k=k?"":"d";a["glMath"+k]=b;a["vec2"+k]={create:function(a){var d=new r(2);a?(d[0]=a[0],d[1]=a[1]):(d[0]=0,d[1]=0);return d},createFrom:function(a,b){var d=new r(2);d[0]=a;d[1]=b;return d},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},subtract:function(a,
b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;return c},dist:function(a,b){var d=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(d*d+a*a)},dist2:function(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,c){c[0]=a;c[1]=b;return c},negate:function(a,
b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var d=a[0]*a[0]+a[1]*a[1];0<d?(d=Math.sqrt(d),b[0]=a[0]/d,b[1]=a[1]/d):b[0]=b[1]=0;return b},cross:function(a,b,c){a=a[0]*b[1]-a[1]*b[0];if(!c)return a;c[0]=c[1]=0;c[2]=a;return c},length:function(a){var d=a[0];a=a[1];return Math.sqrt(d*d+a*a)},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,c){c||(c=a);var d=a[0]-b[0];a=a[1]-b[1];b=d*d+a*a;if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/Math.sqrt(b);c[0]=d*
b;c[1]=a*b;return c},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);return e},str:function(a){return"["+a[0]+", "+a[1]+"]"}};a["vec3"+k]=h;a["vec4"+k]={create:function(a){var d=new r(4);a?(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]):(d[0]=0,d[1]=0,d[2]=0,d[3]=0);return d},createFrom:function(a,b,c,e){var d=new r(4);d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(a,
b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];
return b},set4:function(a,b,c,e,g){g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);e[2]=a[2]+c*(b[2]-a[2]);e[3]=a[3]+c*(b[3]-a[3]);return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+k]=n;a["mat3"+k]=y;a["mat4"+k]=w;a["quat4"+k]=t});return a})},"esri/views/3d/support/mathUtils":function(){define(["require","exports",
"../lib/glMatrix"],function(a,b,k){function m(a){return Math.asin(1<a?1:-1>a?-1:a)}function r(a){return Math.acos(1<a?1:-1>a?-1:a)}function h(a,b,g){return a<b?b:a>g?g:a}function u(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=m;b.acos=r;b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/
Math.LN2};b.fovx2fovy=function(a,b,g){return 2*Math.atan(g*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,g){return 2*Math.atan(b*Math.tan(.5*a)/g)};b.makeOrthonormal=function(a,b,g){g=g||a;var c=k.vec3d.dot(a,b);k.vec3d.set3(a[0]-c*b[0],a[1]-c*b[1],a[2]-c*b[2],g);k.vec3d.normalize(g)};b.tangentFrame=function(a,b,g){Math.abs(a[0])>Math.abs(a[1])?k.vec3d.set3(0,1,0,b):k.vec3d.set3(1,0,0,b);k.vec3d.cross(a,b,g);k.vec3d.normalize(b);k.vec3d.cross(g,a,b);k.vec3d.normalize(g)};b.cartesianToSpherical=function(a,
b){var c=k.vec3d.length(a),e=m(a[2]/c);k.vec3d.set3(c,e,Math.atan2(a[1]/c,a[0]/c),b)};b.sphericalToCartesian=function(a,b){var c=a[0],e=a[1];a=a[2];var l=Math.cos(e);k.vec3d.set3(c*l*Math.cos(a),c*l*Math.sin(a),c*Math.sin(e),b)};b.lerp=function(a,b,g){return a+(b-a)*g};b.bilerp=function(a,b,g,l,h,t){a+=(b-a)*h;return a+(g+(l-g)*h-a)*t};b.slerp=function(a,b,g,h){void 0===h&&(h=a);var c=k.vec3d.length(a),e=k.vec3d.length(b),q=k.vec3d.dot(a,b)/(c*e);if(.9999999999999999>q){var q=Math.acos(q),n=((1-g)*
c+g*e)/Math.sin(q),e=n/e*Math.sin(g*q);k.vec3d.scale(a,n/c*Math.sin((1-g)*q),x);k.vec3d.scale(b,e,l);return k.vec3d.add(x,l,h)}return k.vec3d.lerp(a,b,g,h)};b.angle=function(a,b,g){a=k.vec3d.normalize(a,x);b=k.vec3d.normalize(b,l);var c=r(k.vec3d.dot(a,b));return g&&(a=k.vec3d.cross(a,b,v),0>k.vec3d.dot(a,g))?-c:c};b.clamp=h;b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};b.isNaN=Number.isNaN||function(a){return a!==a};b.makePiecewiseLinearFunction=function(a){var b=
a.length;return function(c){var e=0;if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(;c>a[e][0];)e++;var g=a[e][0];c=(g-c)/(g-a[e-1][0]);return c*a[e-1][1]+(1-c)*a[e][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.floatEqualRelative=function(a,e,g){void 0===g&&(g=1E-6);if(b.isNaN(a)||b.isNaN(e))return!1;if(a===e)return!0;var c=Math.abs(a-e),l=Math.abs(a),h=Math.abs(e);
if(0===a||0===e||1E-12>l&&1E-12>h){if(c>.01*g)return!1}else if(c/(l+h)>g)return!1;return!0};b.floatEqualAbsolute=function(a,e,g){void 0===g&&(g=1E-6);return b.isNaN(a)||b.isNaN(e)?!1:(a>e?a-e:e-a)<=g};a=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,l){void 0===l&&(l=0);c-=l;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+l};a.prototype.normalize=
function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return h(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.contains=function(a,b,c){b=
this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();b.Cyclical=a;b.cyclical2PI=u(new a(0,2*Math.PI));b.cyclicalPI=u(new a(-Math.PI,Math.PI));b.cyclicalDeg=u(new a(0,360));var v=k.vec3d.create(),x=k.vec3d.create(),l=k.vec3d.create()})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../lib/glMatrix"],function(a,b,k){function m(a){void 0===a&&(a=b.UP);return[a[0],a[1],a[2],a[3]]}function r(a,b,e){void 0===e&&(e=m());k.vec3d.set(b,
e);e[3]=-k.vec3d.dot(b,a);return e}function h(a,b,e,g){void 0===g&&(g=m());k.vec3d.cross(b,a,x);return r(e,k.vec3d.normalize(x),g)}Object.defineProperty(b,"__esModule",{value:!0});b.create=m;b.fromValues=function(a,b,e,g,h){void 0===h&&(h=m());h[0]=a;h[1]=b;h[2]=e;h[3]=g;return h};b.fromNormalAndOffset=function(a,b,e){void 0===e&&(e=m());k.vec3d.set(a,e);e[3]=b;return e};b.fromPositionAndNormal=r;b.projectVector=function(a,b,e){void 0===e&&(e=b);return k.vec3d.cross(a,k.vec3d.cross(b,a,v),e)};b.distance=
function(a,b){return k.vec3d.dot(a,b)+a[3]};b.fromPoints=function(a,b,e,g){void 0===g&&(g=m());return h(k.vec3d.subtract(a,b,u),k.vec3d.subtract(e,b,v),a,g)};b.set=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};b.negate=function(a,b){void 0===b&&(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};b.fromVectorsAndPoint=h;b.intersectRay=function(a,b,e,g){var c=k.vec3d.dot(a,e);if(0===c)return!1;a=-(k.vec3d.dot(a,b)+a[3])/c;k.vec3d.add(b,k.vec3d.scale(e,a,g),g);return!0};b.UP=
[0,0,1,0];var u=k.vec3d.create(),v=k.vec3d.create(),x=k.vec3d.create()})},"esri/views/3d/support/geometryUtils/triangle":function(){define(["require","exports","../../lib/glMatrix","./lineSegment"],function(a,b,k,m){function r(a,b,c){var e=k.vec2d.dist(a,b);b=k.vec2d.dist(b,c);a=k.vec2d.dist(c,a);c=(e+b+a)/2;return Math.sqrt(c*(c-e)*(c-b)*(c-a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,c){void 0===a&&(a=k.vec3d.create());void 0===b&&(b=k.vec3d.create());void 0===c&&(c=
k.vec3d.create());return{p0:a,p1:b,p2:c}};b.distance2=function(a,b){var t=a.p0,q=a.p1;a=a.p2;var n=k.vec3d.subtract(q,t,h),d=k.vec3d.subtract(a,q,u),f=k.vec3d.subtract(t,a,v),p=k.vec3d.subtract(b,t,x),z=k.vec3d.subtract(b,q,l),A=k.vec3d.subtract(b,a,c),w=k.vec3d.cross(n,f),y=k.vec3d.dot(k.vec3d.cross(n,w,e),p),z=k.vec3d.dot(k.vec3d.cross(d,w,e),z),A=k.vec3d.dot(k.vec3d.cross(f,w,e),A);if(0<y&&0<z&&0<A)return b=k.vec3d.dot(w,p),b*b/k.vec3d.dot(w,w);t=m.distance2(m.fromOriginAndVector(t,n,g),b);q=m.distance2(m.fromOriginAndVector(q,
d,g),b);b=m.distance2(m.fromOriginAndVector(a,f,g),b);return Math.min(t,q,b)};b.areaPoints2d=r;b.area2d=function(a){return r(a.p0,a.p1,a.p2)};var h=k.vec3d.create(),u=k.vec3d.create(),v=k.vec3d.create(),x=k.vec3d.create(),l=k.vec3d.create(),c=k.vec3d.create(),e=k.vec3d.create(),g=m.create()})},"esri/views/3d/webgl-engine/lib/gl-matrix":function(){define([],function(){var a={};(function(a,k){k(a,!0);k(a,!1)})(a,function(a,k){var b={};(function(){if("undefined"!=typeof Float32Array){var a=new Float32Array(1),
f=new Int32Array(a.buffer);b.invsqrt=function(d){a[0]=d;f[0]=1597463007-(f[0]>>1);var b=a[0];return b*(1.5-.5*d*b*b)}}else b.invsqrt=function(a){return 1/Math.sqrt(a)}})();var r=Array;"undefined"!=typeof Float32Array&&(r=k?Float32Array:Array);var h={create:function(a){var d=new r(3);a?(d[0]=a[0],d[1]=a[1],d[2]=a[2]):d[0]=d[1]=d[2]=0;return d},createFrom:function(a,b,c){var d=new r(3);d[0]=a;d[1]=b;d[2]=c;return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},set3:function(a,b,c,e){e[0]=
a;e[1]=b;e[2]=c;return e},add:function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},subtract:function(a,b,c){if(!c||a===c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},multiply:function(a,b,c){if(!c||a===c)return a[0]*=b[0],a[1]*=b[1],a[2]*=b[2],a;c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},max:function(a,b,c){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=
Math.max(a[2],b[2]);return c},min:function(a,b,c){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var d=a[0],f=a[1];a=a[2];var c=Math.sqrt(d*d+f*f+a*a);if(!c)return b[0]=0,b[1]=0,b[2]=0,b;if(1===c)return b[0]=d,b[1]=f,b[2]=a,b;c=1/c;b[0]=d*c;b[1]=
f*c;b[2]=a*c;return b},cross:function(a,b,c){c||(c=a);var d=a[0],f=a[1];a=a[2];var p=b[0],e=b[1];b=b[2];c[0]=f*b-a*e;c[1]=a*p-d*b;c[2]=d*e-f*p;return c},length:function(a){var d=a[0],b=a[1];a=a[2];return Math.sqrt(d*d+b*b+a*a)},length2:function(a){var d=a[0],b=a[1];a=a[2];return d*d+b*b+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,b,c){c||(c=a);var d=a[0]-b[0],f=a[1]-b[1];a=a[2]-b[2];b=Math.sqrt(d*d+f*f+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=d*b;c[1]=
f*b;c[2]=a*b;return c},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);e[2]=a[2]+c*(b[2]-a[2]);return e},dist:function(a,b){var d=b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(d*d+f*f+a*a)},dist2:function(a,b){var d=b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return d*d+f*f+a*a}},u=null,v=new r(4);h.unproject=function(a,b,c,e,g){g||(g=a);u||(u=w.create());var d=u;v[0]=2*(a[0]-e[0])/e[2]-1;v[1]=2*(a[1]-e[1])/e[3]-1;v[2]=2*a[2]-1;v[3]=1;w.multiply(c,b,d);if(!w.inverse(d))return null;
w.multiplyVec4(d,v);if(0===v[3])return null;g[0]=v[0]/v[3];g[1]=v[1]/v[3];g[2]=v[2]/v[3];return g};var x=h.createFrom(1,0,0),l=h.createFrom(0,1,0),c=h.createFrom(0,0,1);h.rotationTo=function(a,b,e){e||(e=t.create());var d=h.dot(a,b),f=h.create();if(1<=d)t.set(q,e);else if(-.999999>d)h.cross(x,a,f),1E-6>f.length&&h.cross(l,a,f),1E-6>f.length&&h.cross(c,a,f),h.normalize(f),t.fromAxisAngle(f,Math.PI,e);else{var d=Math.sqrt(2*(1+d)),p=1/d;h.cross(a,b,f);e[0]=f[0]*p;e[1]=f[1]*p;e[2]=f[2]*p;e[3]=.5*d;t.normalize(e)}1<
e[3]?e[3]=1:-1>e[3]&&(e[3]=-1);return e};var e=h.create(),g=h.create();h.project=function(a,b,c,n){n||(n=a);h.direction(b,c,e);h.subtract(a,b,g);a=h.dot(e,g);h.scale(e,a,n);h.add(n,b,n)};h.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var y={create:function(a){var d=new r(9);a?(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[4]=a[4],d[5]=a[5],d[6]=a[6],d[7]=a[7],d[8]=a[8]):d[0]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=0;return d},createFrom:function(a,b,c,e,g,n,l,q,h){var d=new r(9);d[0]=a;d[1]=
b;d[2]=c;d[3]=e;d[4]=g;d[5]=n;d[6]=l;d[7]=q;d[8]=h;return d},determinant:function(a){var d=a[3],b=a[4],c=a[5],e=a[6],g=a[7],n=a[8];return a[0]*(n*b-c*g)+a[1]*(-n*d+c*e)+a[2]*(g*d-b*e)},inverse:function(a,b){var d=a[0],f=a[1],c=a[2],e=a[3],g=a[4],n=a[5],l=a[6],q=a[7];a=a[8];var h=a*g-n*q,t=-a*e+n*l,k=q*e-g*l,w=d*h+f*t+c*k;if(!w)return null;w=1/w;b||(b=y.create());b[0]=h*w;b[1]=(-a*f+c*q)*w;b[2]=(n*f-c*g)*w;b[3]=t*w;b[4]=(a*d-c*l)*w;b[5]=(-n*d+c*e)*w;b[6]=k*w;b[7]=(-q*d+f*l)*w;b[8]=(g*d-f*e)*w;return b},
multiply:function(a,b,c){c||(c=a);var d=a[0],f=a[1],e=a[2],p=a[3],g=a[4],n=a[5],l=a[6],q=a[7];a=a[8];var h=b[0],t=b[1],k=b[2],w=b[3],y=b[4],u=b[5],m=b[6],v=b[7];b=b[8];c[0]=h*d+t*p+k*l;c[1]=h*f+t*g+k*q;c[2]=h*e+t*n+k*a;c[3]=w*d+y*p+u*l;c[4]=w*f+y*g+u*q;c[5]=w*e+y*n+u*a;c[6]=m*d+v*p+b*l;c[7]=m*f+v*g+b*q;c[8]=m*e+v*n+b*a;return c},multiplyVec2:function(a,b,c){c||(c=b);var d=b[0];b=b[1];c[0]=d*a[0]+b*a[3]+a[6];c[1]=d*a[1]+b*a[4]+a[7];return c},multiplyVec3:function(a,b,c){c||(c=b);var d=b[0],f=b[1];
b=b[2];c[0]=d*a[0]+f*a[3]+b*a[6];c[1]=d*a[1]+f*a[4]+b*a[7];c[2]=d*a[2]+f*a[5]+b*a[8];return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},identity:function(a){a||(a=y.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var d=a[2],c=a[5];a[1]=a[3];a[2]=a[6];a[3]=b;a[5]=a[7];a[6]=d;a[7]=c;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=
a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,b){b||(b=w.create());b[15]=1;b[14]=0;b[13]=0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},w={create:function(a){var b=new r(16);4===arguments.length?(b[0]=arguments[0],b[1]=arguments[1],b[2]=arguments[2],b[3]=arguments[3],b[4]=arguments[4],
b[5]=arguments[5],b[6]=arguments[6],b[7]=arguments[7],b[8]=arguments[8],b[9]=arguments[9],b[10]=arguments[10],b[11]=arguments[11],b[12]=arguments[12],b[13]=arguments[13],b[14]=arguments[14],b[15]=arguments[15]):a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b},createFrom:function(a,b,c,e,g,n,l,q,h,t,k,w,y,u,m,v){var d=new r(16);d[0]=a;d[1]=b;d[2]=c;d[3]=e;d[4]=g;
d[5]=n;d[6]=l;d[7]=q;d[8]=h;d[9]=t;d[10]=k;d[11]=w;d[12]=y;d[13]=u;d[14]=m;d[15]=v;return d},createFromMatrixRowMajor:function(a){var b=new r(16);b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},createFromMatrix:function(a){var b=new r(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=
a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},setRowMajor:function(a,b){b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},identity:function(a){a||(a=w.create());a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var d=a[2],c=a[3],f=a[6],e=a[7],g=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=b;a[6]=a[9];a[7]=a[13];a[8]=d;a[9]=f;a[11]=a[14];a[12]=c;a[13]=e;a[14]=g;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},
determinant:function(a){var b=a[0],d=a[1],c=a[2],e=a[3],g=a[4],n=a[5],l=a[6],q=a[7],h=a[8],t=a[9],k=a[10],w=a[11],y=a[12],u=a[13],m=a[14];a=a[15];return y*t*l*e-h*u*l*e-y*n*k*e+g*u*k*e+h*n*m*e-g*t*m*e-y*t*c*q+h*u*c*q+y*d*k*q-b*u*k*q-h*d*m*q+b*t*m*q+y*n*c*w-g*u*c*w-y*d*l*w+b*u*l*w+g*d*m*w-b*n*m*w-h*n*c*a+g*t*c*a+h*d*l*a-b*t*l*a-g*d*k*a+b*n*k*a},inverse:function(a,b){b||(b=a);var d=a[0],c=a[1],f=a[2],e=a[3],g=a[4],n=a[5],l=a[6],q=a[7],h=a[8],t=a[9],k=a[10],w=a[11],y=a[12],u=a[13],m=a[14];a=a[15];var v=
d*n-c*g,r=d*l-f*g,x=d*q-e*g,Z=c*l-f*n,Q=c*q-e*n,H=f*q-e*l,M=h*u-t*y,J=h*m-k*y,I=h*a-w*y,N=t*m-k*u,S=t*a-w*u,X=k*a-w*m,F=v*X-r*S+x*N+Z*I-Q*J+H*M;if(!F)return null;F=1/F;b[0]=(n*X-l*S+q*N)*F;b[1]=(-c*X+f*S-e*N)*F;b[2]=(u*H-m*Q+a*Z)*F;b[3]=(-t*H+k*Q-w*Z)*F;b[4]=(-g*X+l*I-q*J)*F;b[5]=(d*X-f*I+e*J)*F;b[6]=(-y*H+m*x-a*r)*F;b[7]=(h*H-k*x+w*r)*F;b[8]=(g*S-n*I+q*M)*F;b[9]=(-d*S+c*I-e*M)*F;b[10]=(y*Q-u*x+a*v)*F;b[11]=(-h*Q+t*x-w*v)*F;b[12]=(-g*N+n*J-l*M)*F;b[13]=(d*N-c*J+f*M)*F;b[14]=(-y*Z+u*r-m*v)*F;b[15]=
(h*Z-t*r+k*v)*F;return b},toRotationMat:function(a,b){b||(b=w.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toMat3:function(a,b){b||(b=y.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},toInverseMat3:function(a,b){var d=a[0],c=a[1],f=a[2],e=a[4],g=a[5],n=a[6],l=a[8],q=a[9];a=a[10];var h=a*g-n*q,t=-a*e+n*l,k=
q*e-g*l,w=d*h+c*t+f*k;if(!w)return null;w=1/w;b||(b=y.create());b[0]=h*w;b[1]=(-a*c+f*q)*w;b[2]=(n*c-f*g)*w;b[3]=t*w;b[4]=(a*d-f*l)*w;b[5]=(-n*d+f*e)*w;b[6]=k*w;b[7]=(-q*d+c*l)*w;b[8]=(g*d-c*e)*w;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],f=a[1],e=a[2],p=a[3],g=a[4],n=a[5],l=a[6],q=a[7],h=a[8],t=a[9],k=a[10],w=a[11],y=a[12],u=a[13],m=a[14];a=a[15];var v=b[0],r=b[1],x=b[2],Q=b[3],H=b[4],M=b[5],J=b[6],I=b[7],N=b[8],S=b[9],X=b[10],F=b[11],aa=b[12],ea=b[13],ga=b[14];b=b[15];c[0]=v*d+r*g+x*
h+Q*y;c[1]=v*f+r*n+x*t+Q*u;c[2]=v*e+r*l+x*k+Q*m;c[3]=v*p+r*q+x*w+Q*a;c[4]=H*d+M*g+J*h+I*y;c[5]=H*f+M*n+J*t+I*u;c[6]=H*e+M*l+J*k+I*m;c[7]=H*p+M*q+J*w+I*a;c[8]=N*d+S*g+X*h+F*y;c[9]=N*f+S*n+X*t+F*u;c[10]=N*e+S*l+X*k+F*m;c[11]=N*p+S*q+X*w+F*a;c[12]=aa*d+ea*g+ga*h+b*y;c[13]=aa*f+ea*n+ga*t+b*u;c[14]=aa*e+ea*l+ga*k+b*m;c[15]=aa*p+ea*q+ga*w+b*a;return c},multiplyVec3:function(a,b,c){c||(c=b);var d=b[0],f=b[1];b=b[2];c[0]=a[0]*d+a[4]*f+a[8]*b+a[12];c[1]=a[1]*d+a[5]*f+a[9]*b+a[13];c[2]=a[2]*d+a[6]*f+a[10]*
b+a[14];return c},multiplyVec4:function(a,b,c){c||(c=b);var d=b[0],f=b[1],e=b[2];b=b[3];c[0]=a[0]*d+a[4]*f+a[8]*e+a[12]*b;c[1]=a[1]*d+a[5]*f+a[9]*e+a[13]*b;c[2]=a[2]*d+a[6]*f+a[10]*e+a[14]*b;c[3]=a[3]*d+a[7]*f+a[11]*e+a[15]*b;return c},translate:function(a,b,c){var d=b[0],f=b[1];b=b[2];var e,p,g,n,l,q,h,t,k,w,y,u;if(!c||a===c)return a[12]=a[0]*d+a[4]*f+a[8]*b+a[12],a[13]=a[1]*d+a[5]*f+a[9]*b+a[13],a[14]=a[2]*d+a[6]*f+a[10]*b+a[14],a[15]=a[3]*d+a[7]*f+a[11]*b+a[15],a;e=a[0];p=a[1];g=a[2];n=a[3];l=
a[4];q=a[5];h=a[6];t=a[7];k=a[8];w=a[9];y=a[10];u=a[11];c[0]=e;c[1]=p;c[2]=g;c[3]=n;c[4]=l;c[5]=q;c[6]=h;c[7]=t;c[8]=k;c[9]=w;c[10]=y;c[11]=u;c[12]=e*d+l*f+k*b+a[12];c[13]=p*d+q*f+w*b+a[13];c[14]=g*d+h*f+y*b+a[14];c[15]=n*d+t*f+u*b+a[15];return c},scale:function(a,b,c){var d=b[0],f=b[1];b=b[2];if(!c||a===c)return a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=f,a[5]*=f,a[6]*=f,a[7]*=f,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;c[3]=a[3]*d;c[4]=a[4]*f;c[5]=a[5]*f;c[6]=a[6]*f;c[7]=
a[7]*f;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))},rotate:function(a,b,c,e){var d=c[0],f=c[1];c=c[2];var p=Math.sqrt(d*d+f*f+c*c),g,n,l,q,h,z,t,k,w,y,u,m,v,r,x,H,M,J,I,N;if(!p)return null;1!==p&&(p=1/p,d*=p,f*=p,c*=p);g=Math.sin(b);n=Math.cos(b);l=1-n;b=a[0];p=
a[1];q=a[2];h=a[3];z=a[4];t=a[5];k=a[6];w=a[7];y=a[8];u=a[9];m=a[10];v=a[11];r=d*d*l+n;x=f*d*l+c*g;H=c*d*l-f*g;M=d*f*l-c*g;J=f*f*l+n;I=c*f*l+d*g;N=d*c*l+f*g;d=f*c*l-d*g;f=c*c*l+n;e?a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]):e=a;e[0]=b*r+z*x+y*H;e[1]=p*r+t*x+u*H;e[2]=q*r+k*x+m*H;e[3]=h*r+w*x+v*H;e[4]=b*M+z*J+y*I;e[5]=p*M+t*J+u*I;e[6]=q*M+k*J+m*I;e[7]=h*M+w*J+v*I;e[8]=b*N+z*d+y*f;e[9]=p*N+t*d+u*f;e[10]=q*N+k*d+m*f;e[11]=h*N+w*d+v*f;return e},rotateX:function(a,b,c){var d=Math.sin(b);b=
Math.cos(b);var f=a[4],e=a[5],g=a[6],p=a[7],n=a[8],l=a[9],q=a[10],h=a[11];c?a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=f*b+n*d;c[5]=e*b+l*d;c[6]=g*b+q*d;c[7]=p*b+h*d;c[8]=f*-d+n*b;c[9]=e*-d+l*b;c[10]=g*-d+q*b;c[11]=p*-d+h*b;return c},rotateY:function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var f=a[0],e=a[1],g=a[2],p=a[3],n=a[8],l=a[9],q=a[10],h=a[11];c?a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],
c[15]=a[15]):c=a;c[0]=f*b+n*-d;c[1]=e*b+l*-d;c[2]=g*b+q*-d;c[3]=p*b+h*-d;c[8]=f*d+n*b;c[9]=e*d+l*b;c[10]=g*d+q*b;c[11]=p*d+h*b;return c},rotateZ:function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var f=a[0],e=a[1],g=a[2],p=a[3],n=a[4],l=a[5],q=a[6],h=a[7];c?a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=f*b+n*d;c[1]=e*b+l*d;c[2]=g*b+q*d;c[3]=p*b+h*d;c[4]=f*-d+n*b;c[5]=e*-d+l*b;c[6]=g*-d+q*b;c[7]=p*-d+h*b;return c},frustum:function(a,b,c,
e,g,n,l){l||(l=w.create());var d=b-a,f=e-c,p=n-g;l[0]=2*g/d;l[1]=0;l[2]=0;l[3]=0;l[4]=0;l[5]=2*g/f;l[6]=0;l[7]=0;l[8]=(b+a)/d;l[9]=(e+c)/f;l[10]=-(n+g)/p;l[11]=-1;l[12]=0;l[13]=0;l[14]=-(n*g*2)/p;l[15]=0;return l},perspective:function(a,b,c,e,g){a=c*Math.tan(a*Math.PI/360);b*=a;return w.frustum(-b,b,-a,a,c,e,g)},ortho:function(a,b,c,e,g,l,n){n||(n=w.create());var d=b-a,f=e-c,p=l-g;n[0]=2/d;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=2/f;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=-2/p;n[11]=0;n[12]=-(a+b)/d;n[13]=-(e+
c)/f;n[14]=-(l+g)/p;n[15]=1;return n},lookAt:function(a,b,c,e){e||(e=w.create());var d,f,g,n,l,p,q,h,t=a[0],k=a[1];a=a[2];g=c[0];n=c[1];f=c[2];q=b[0];c=b[1];d=b[2];if(t===q&&k===c&&a===d)return w.identity(e);b=t-q;c=k-c;q=a-d;h=1/Math.sqrt(b*b+c*c+q*q);b*=h;c*=h;q*=h;d=n*q-f*c;f=f*b-g*q;g=g*c-n*b;(h=Math.sqrt(d*d+f*f+g*g))?(h=1/h,d*=h,f*=h,g*=h):g=f=d=0;n=c*g-q*f;l=q*d-b*g;p=b*f-c*d;(h=Math.sqrt(n*n+l*l+p*p))?(h=1/h,n*=h,l*=h,p*=h):p=l=n=0;e[0]=d;e[1]=n;e[2]=b;e[3]=0;e[4]=f;e[5]=l;e[6]=c;e[7]=0;e[8]=
g;e[9]=p;e[10]=q;e[11]=0;e[12]=-(d*t+f*k+g*a);e[13]=-(n*t+l*k+p*a);e[14]=-(b*t+c*k+q*a);e[15]=1;return e},fromRotationTranslation:function(a,b,c){c||(c=w.create());var d=a[0],f=a[1],e=a[2],g=a[3],n=d+d,l=f+f,p=e+e;a=d*n;var q=d*l,d=d*p,h=f*l,f=f*p,e=e*p,n=g*n,l=g*l,g=g*p;c[0]=1-(h+e);c[1]=q+g;c[2]=d-l;c[3]=0;c[4]=q-g;c[5]=1-(a+e);c[6]=f+n;c[7]=0;c[8]=d+l;c[9]=f-n;c[10]=1-(a+h);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+
a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},t={create:function(a){var b=new r(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,e){var d=new r(4);d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=t.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},q=t.identity();t.calculateW=function(a,
b){var d=a[0],c=a[1],f=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-d*d-c*c-f*f)),a;b[0]=d;b[1]=c;b[2]=f;b[3]=-Math.sqrt(Math.abs(1-d*d-c*c-f*f));return b};t.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};t.inverse=function(a,b){var d=a[0],c=a[1],f=a[2],e=a[3],d=(d=d*d+c*c+f*f+e*e)?1/d:0;if(!b||a===b)return a[0]*=-d,a[1]*=-d,a[2]*=-d,a[3]*=d,a;b[0]=-a[0]*d;b[1]=-a[1]*d;b[2]=-a[2]*d;b[3]=a[3]*d;return b};t.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=
-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};t.length=function(a){var b=a[0],d=a[1],c=a[2];a=a[3];return Math.sqrt(b*b+d*d+c*c+a*a)};t.normalize=function(a,b){b||(b=a);var d=a[0],c=a[1],f=a[2];a=a[3];var e=Math.sqrt(d*d+c*c+f*f+a*a);if(0===e)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;e=1/e;b[0]=d*e;b[1]=c*e;b[2]=f*e;b[3]=a*e;return b};t.add=function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};
t.multiply=function(a,b,c){c||(c=a);var d=a[0],f=a[1],e=a[2];a=a[3];var g=b[0],n=b[1],l=b[2];b=b[3];c[0]=d*b+a*g+f*l-e*n;c[1]=f*b+a*n+e*g-d*l;c[2]=e*b+a*l+d*n-f*g;c[3]=a*b-d*g-f*n-e*l;return c};t.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],f=b[1],e=b[2];b=a[0];var g=a[1],n=a[2];a=a[3];var l=a*d+g*e-n*f,p=a*f+n*d-b*e,q=a*e+b*f-g*d,d=-b*d-g*f-n*e;c[0]=l*a+d*-b+p*-n-q*-g;c[1]=p*a+d*-g+q*-b-l*-n;c[2]=q*a+d*-n+l*-g-p*-b;return c};t.scale=function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,
a[3]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};t.toMat3=function(a,b){b||(b=y.create());var d=a[0],c=a[1],f=a[2],e=a[3],g=d+d,n=c+c,l=f+f;a=d*g;var q=d*n,d=d*l,h=c*n,c=c*l,f=f*l,g=e*g,n=e*n,e=e*l;b[0]=1-(h+f);b[1]=q+e;b[2]=d-n;b[3]=q-e;b[4]=1-(a+f);b[5]=c+g;b[6]=d+n;b[7]=c-g;b[8]=1-(a+h);return b};t.toMat4=function(a,b){b||(b=w.create());var d=a[0],c=a[1],f=a[2],e=a[3],g=d+d,n=c+c,l=f+f;a=d*g;var q=d*n,d=d*l,h=c*n,c=c*l,f=f*l,g=e*g,n=e*n,e=e*l;b[0]=1-(h+f);b[1]=q+e;b[2]=d-n;b[3]=
0;b[4]=q-e;b[5]=1-(a+f);b[6]=c+g;b[7]=0;b[8]=d+n;b[9]=c-g;b[10]=1-(a+h);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};t.slerp=function(a,b,c,e){e||(e=a);var d=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],f,g;if(1<=Math.abs(d))return e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;f=Math.acos(d);g=Math.sqrt(1-d*d);if(.001>Math.abs(g))return e[0]=.5*a[0]+.5*b[0],e[1]=.5*a[1]+.5*b[1],e[2]=.5*a[2]+.5*b[2],e[3]=.5*a[3]+.5*b[3],e;d=Math.sin((1-c)*f)/g;c=Math.sin(c*f)/g;e[0]=a[0]*d+b[0]*c;e[1]=a[1]*d+
b[1]*c;e[2]=a[2]*d+b[2]*c;e[3]=a[3]*d+b[3]*c;return e};t.fromRotationMatrix=function(a,b){b||(b=t.create());var d=a[0]+a[4]+a[8],c;if(0<d)c=Math.sqrt(d+1),b[3]=.5*c,c=.5/c,b[0]=(a[7]-a[5])*c,b[1]=(a[2]-a[6])*c,b[2]=(a[3]-a[1])*c;else{c=t.fromRotationMatrix.s_iNext=t.fromRotationMatrix.s_iNext||[1,2,0];d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);var f=c[d],e=c[f];c=Math.sqrt(a[3*d+d]-a[3*f+f]-a[3*e+e]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*e+f]-a[3*f+e])*c;b[f]=(a[3*f+d]+a[3*d+f])*c;b[e]=(a[3*e+d]+a[3*d+e])*
c}return b};y.toQuat4=t.fromRotationMatrix;(function(){var a=y.create();t.fromAxes=function(b,d,c,e){a[0]=d[0];a[3]=d[1];a[6]=d[2];a[1]=c[0];a[4]=c[1];a[7]=c[2];a[2]=b[0];a[5]=b[1];a[8]=b[2];return t.fromRotationMatrix(a,e)}})();t.identity=function(a){a||(a=t.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};t.fromAngleAxis=function(a,b,c){c||(c=t.create());a*=.5;var d=Math.sin(a);c[3]=Math.cos(a);c[0]=d*b[0];c[1]=d*b[1];c[2]=d*b[2];return c};t.toAngleAxis=function(a,c){c||(c=a);var d=a[0]*a[0]+a[1]*
a[1]+a[2]*a[2];0<d?(c[3]=2*Math.acos(a[3]),d=b.invsqrt(d),c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d):(c[3]=0,c[0]=1,c[1]=0,c[2]=0);return c};t.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var n={create:function(a){var b=new r(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,e){var d=new r(4);d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=n.create());
a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,b){b||(b=a);var d=a[0],c=a[1],e=a[2];a=a[3];var f=d*a-e*c;if(!f)return null;f=1/f;b[0]=a*f;b[1]=-c*f;b[2]=-e*f;b[3]=d*f;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2];a=a[3];c[0]=d*b[0]+e*b[2];c[1]=d*b[1]+e*b[3];c[2]=f*b[0]+a*b[2];c[3]=f*b[1]+a*b[3];
return c},rotate:function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2];a=a[3];var g=Math.sin(b);b=Math.cos(b);c[0]=d*b+e*g;c[1]=d*-g+e*b;c[2]=f*b+a*g;c[3]=f*-g+a*b;return c},multiplyVec2:function(a,b,c){c||(c=b);var d=b[0];b=b[1];c[0]=d*a[0]+b*a[1];c[1]=d*a[2]+b*a[3];return c},scale:function(a,b,c){c||(c=a);var d=a[1],e=a[2],f=a[3],g=b[0];b=b[1];c[0]=a[0]*g;c[1]=d*b;c[2]=e*g;c[3]=f*b;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};k=k?"":"d";a["glMath"+k]=b;a["vec2"+k]={create:function(a){var b=
new r(2);a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0);return b},createFrom:function(a,b){var d=new r(2);d[0]=a;d[1]=b;return d},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;return c},dist:function(a,b){var d=
b[0]-a[0];a=b[1]-a[1];return Math.sqrt(d*d+a*a)},dist2:function(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,c){c[0]=a;c[1]=b;return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var d=a[0]*a[0]+a[1]*a[1];0<d?(d=Math.sqrt(d),b[0]=a[0]/d,b[1]=a[1]/d):b[0]=b[1]=0;return b},cross:function(a,b,c){a=a[0]*b[1]-a[1]*b[0];if(!c)return a;c[0]=c[1]=0;c[2]=a;return c},length:function(a){var b=
a[0];a=a[1];return Math.sqrt(b*b+a*a)},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,c){c||(c=a);var d=a[0]-b[0];a=a[1]-b[1];b=d*d+a*a;if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/Math.sqrt(b);c[0]=d*b;c[1]=a*b;return c},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);return e},str:function(a){return"["+a[0]+", "+a[1]+"]"}};a["vec3"+k]=h;a["vec4"+k]={create:function(a){var b=new r(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=
0,b[3]=0);return b},createFrom:function(a,b,c,e){var d=new r(4);d[0]=a;d[1]=b;d[2]=c;d[3]=e;return d},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];
return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},set4:function(a,b,c,e,g){g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);e[2]=a[2]+c*(b[2]-a[2]);e[3]=a[3]+c*(b[3]-
a[3]);return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+k]=n;a["mat3"+k]=y;a["mat4"+k]=w;a["quat4"+k]=t});return a})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define(["require","exports","../../lib/glMatrix","../../support/projectionUtils"],function(a,b,k,m){Object.defineProperty(b,"__esModule",{value:!0});b.ReprojectionTypes={PER_VERTEX:"perVertex",NO_REPROJECTION:"noReprojection"};var r=new Float64Array(3E3),h=k.vec3d.create();b.reprojectPoints=
function(a,b,x,l,c,e){var g=a.data,y=a.offsetIdx;a=a.strideIdx;k.vec3d.set(b,h);h[2]+=x;b=k.mat4d.create();m.computeLinearTransformation(l,h,b,e);x=k.mat4d.create();k.mat4d.inverse(b,x);var w=k.mat4d.create();k.mat4d.identity(w);var t=[0,0,0],q=g.length/a;m.vectorToVector(h,l,t,c);for(l=0;l<q;l+=1E3){for(var n=Math.min(1E3,q-l),d=0;d<n;d++){var f=y+a*(l+d);r[3*d]=g[f]+t[0];r[3*d+1]=g[f+1]+t[1];r[3*d+2]=g[f+2]+t[2]}m.bufferToBuffer(r,c,0,r,e,0,n);for(d=0;d<n;d++){var f=r[3*d],p=r[3*d+1],u=r[3*d+2],
v=y+a*(l+d);g[v]=x[0]*f+x[4]*p+x[8]*u+x[12];g[v+1]=x[1]*f+x[5]*p+x[9]*u+x[13];g[v+2]=x[2]*f+x[6]*p+x[10]*u+x[14]}}return{localTrafo:w,globalTrafo:b}}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../lib/glMatrix ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),function(a,b,k,m,r,h,u,v,x){function l(a,b,d,e){2===a.length?(C[0]=a[0],C[1]=a[1],C[2]=
0,a=C):a===d&&(h.vec3d.set(a,C),a=C);return c(a,b,0,d,e,0,1)}function c(a,b,c,g,l,h,k){void 0===k&&(k=1);q!==b&&(n=e(b),q=b);d!==l&&(f=e(l),d=l);k=c+3*k;if(n!==f||n===t.UNKNOWN&&!b.equals(l))if(n>t.UNKNOWN&&f>t.UNKNOWN)if(f!==t.WGS84)if(b=p[f],n!==t.WGS84)for(l=z[n];c<k;c+=3,h+=3)l(a,c,G,0),b(G,0,g,h);else for(;c<k;c+=3,h+=3)b(a,c,g,h);else for(l=z[n];c<k;c+=3,h+=3)l(a,c,g,h);else return!1;else if(g!==a||c!==h)for(;c<k;c++,h++)g[h]=a[c];return!0}function e(a){return a.wkt===b.SphericalECEFSpatialReference.wkt?
t.SPHERICAL_ECEF:a.isWGS84?t.WGS84:a.isWebMercator?t.WEBMERC:a.wkt===b.WGS84ECEFSpatialReference.wkt?t.WGS84_ECEF:t.UNKNOWN}function g(a,b,c,d){c[d++]=a[b++];c[d++]=a[b++];c[d]=a[b]}function y(a,b,c,d){var e=.4999999*Math.PI,e=v.clamp(A*a[b+1],-e,e),e=Math.sin(e);c[d++]=A*a[b]*D;c[d++]=D/2*Math.log((1+e)/(1-e));c[d]=a[b+2]}function w(a,b,c,d){var e=D+a[b+2],f=A*a[b+1];a=A*a[b];b=Math.cos(f);c[d++]=Math.cos(a)*b*e;c[d++]=Math.sin(a)*b*e;c[d]=Math.sin(f)*e}Object.defineProperty(b,"__esModule",{value:!0});
b.SphericalECEFSpatialReference=new m({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new m({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var t;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";a[a.WGS84=2]="WGS84";a[a.WEBMERC=3]="WEBMERC";a[a.WGS84_ECEF=4]="WGS84_ECEF"})(t||(t={}));var q,n,d,f;b.vectorToVector=l;b.pointToVector=function(a,b,d){C[0]=a.x;C[1]=a.y;var e=a.z;C[2]=void 0!==e?e:0;return c(C,a.spatialReference,0,b,d,0,1)};b.vectorToPoint=function(a,b,d,e){"esri.geometry.SpatialReference"===d.declaredClass?(e=d,d=new k({spatialReference:e})):e=e||d.spatialReference;return c(a,b,0,C,e,0,1)?(d.x=C[0],
d.y=C[1],d.z=C[2],d.spatialReference=e,d):null};b.xyzToVector=function(a,b,d,e,f,g){C[0]=a;C[1]=b;C[2]=d;return c(C,e,0,f,g,0,1)};b.bufferToBuffer=c;b.computeLinearTransformation=function(a,b,c,d){var f=e(a),g=e(d);if(f===g&&g!==t.SPHERICAL_ECEF&&(f!==t.UNKNOWN||a.equals(d)))return h.mat4d.identity(c),h.mat4d.translate(c,b),!0;if(g===t.SPHERICAL_ECEF){if(a=z[f])return a(b,0,G,0),w(G,0,P,0),d=A*G[0],a=A*G[1],b=Math.sin(d),d=Math.cos(d),f=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-f*d,c[8]=a*d,c[12]=P[0],
c[1]=d,c[5]=-f*b,c[9]=a*b,c[13]=P[1],c[2]=0,c[6]=a,c[10]=f,c[14]=P[2],c[3]=0,c[7]=0,c[11]=0,c[15]=1,!0}else if(g===t.WEBMERC&&(f===t.WGS84||f===t.SPHERICAL_ECEF))return z[f](b,0,G,0),b=A*G[1],y(G,0,P,0),h.mat4d.identity(c),h.mat4d.translate(c,P),b=1/Math.cos(b),h.mat4d.scale(c,[b,b,1]),!0;return!1};b.transformDirection=function(a,b,c,d,e){h.vec3d.set(a,T);h.vec3d.add(a,b,Y);l(T,c,T,e);l(Y,c,Y,e);h.vec3d.subtract(Y,T,d);h.vec3d.normalize(d)};b.mbsToMbs=function(a,b,c,d){var f=e(b),g=e(d);if(f===g&&
(f!==t.UNKNOWN||b.equals(d)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(g===t.SPHERICAL_ECEF){if(b=z[f])return b(a,0,G,0),w(G,0,c,0),c[3]=a[3],!0}else if(g===t.WEBMERC&&(f===t.WGS84||f===t.SPHERICAL_ECEF))return z[f](a,0,G,0),b=Math.abs(A*G[1])+Math.asin(a[3]/(D+a[2])),y(G,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};b.extentToBoundingBox=function(a,b,d){if(null==a)return!1;var e;C[0]=null!=a.xmin?a.xmin:0;C[1]=null!=a.ymin?a.ymin:0;C[2]=null!=a.zmin?a.zmin:
0;e=c(C,a.spatialReference,0,b,d,0,1);C[0]=null!=a.xmax?a.xmax:0;C[1]=null!=a.ymax?a.ymax:0;C[2]=null!=a.zmax?a.zmax:0;e=e&&c(C,a.spatialReference,0,b,d,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return e};b.extentToBoundingRect=function(a,b,d){if(null==a)return!1;var e;C[0]=null!=a.xmin?a.xmin:0;C[1]=null!=a.ymin?a.ymin:0;C[2]=null!=a.zmin?a.zmin:0;e=c(C,
a.spatialReference,0,C,d,0,1);b[0]=C[0];b[1]=C[1];C[0]=null!=a.xmax?a.xmax:0;C[1]=null!=a.ymax?a.ymax:0;C[2]=null!=a.zmax?a.zmax:0;e=e&&c(C,a.spatialReference,0,C,d,0,1);b[2]=C[0];b[3]=C[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return e};b.boundingRectToBoundingRect=function(a,b,d,e){if(null==a)return!1;if(b.equals(e))return r.set(d,a),!0;var f;C[0]=a[0];C[1]=a[1];C[2]=0;f=c(C,b,0,C,e,0,1);d[0]=C[0];d[1]=C[1];C[0]=
a[2];C[1]=a[3];C[2]=0;f=f&&c(C,b,0,C,e,0,1);d[2]=C[0];d[3]=C[1];return f};(function(a){a.x2lon=function(a){return a/D};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/D))};a.lon2x=function(a){return a*D};a.lat2y=function(a){a=Math.sin(a);return D/2*Math.log((1+a)/(1-a))}})(b.webMercator||(b.webMercator={}));var p=[void 0,w,g,y,function(a,b,c,d){var e=E,f=A*a[b],g=A*a[b+1];a=a[b+2];b=Math.sin(g);var g=Math.cos(g),n=e.a/Math.sqrt(1-e.e2*b*b);c[d++]=(n+a)*g*Math.cos(f);c[d++]=(n+a)*g*
Math.sin(f);c[d++]=(n*(1-e.e2)+a)*b}],z=[void 0,function(a,b,c,d){var e=x.Vec3Compact.length(a,b),f=v.asin(a[b+2]/e);a=(0<a[b+1]?1:-1)*v.acos(a[b]/(Math.cos(f)*e));c[d++]=B*a;c[d++]=B*f;c[d]=e-D},g,function(a,b,c,d){c[d++]=B*(a[b++]/D);c[d++]=B*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/D)));c[d]=a[b]},function(a,b,c,d){var e=E,f=a[b],g=a[b+1];a=a[b+2];var n,l,h,q,p,t;b=Math.abs(a);n=f*f+g*g;l=Math.sqrt(n);h=n+a*a;q=Math.sqrt(h);f=Math.atan2(g,f);p=a*a/h;h=n/h;g=e.a2/q;n=e.a3-e.a4/q;.3<h?(p=b/q*(1+
h*(e.a1+g+p*n)/q),q=Math.asin(p),g=p*p,h=Math.sqrt(1-g)):(h=l/q*(1-p*(e.a5-g-h*n)/q),q=Math.acos(h),g=1-h*h,p=Math.sqrt(g));t=1-e.e2*g;g=e.a/Math.sqrt(t);e=e.a6*g;g=l-g*h;n=b-e*p;b=h*g+p*n;l=h*n-p*g;e=l/(e/t+b);q+=e;0>a&&(q=-q);c[d++]=B*f;c[d++]=B*q;c[d]=b+l*e/2}],A=v.deg2rad(1),B=v.rad2deg(1),D=u.earthRadius,E={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},C=h.vec3d.create(),G=
h.vec3d.create(),P=h.vec3d.create(),T=h.vec3d.create(),Y=h.vec3d.create()})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,k,m,r,h,u,v,x,l){function c(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var e=[0,0],g=r.getLogger("esri.geometry.Point");
a=function(a){function b(b,c,d,e,g){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}k(b,a);t=b;b.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};b.distance=function(a,b){var c=a.x-b.x,e=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+e*e+a*a)};b.prototype.normalizeCtorArgs=function(a,b,d,f,h){var n;if(Array.isArray(a))n=a,h=b,a=n[0],b=n[1],d=n[2],f=n[3];else if(a&&
"object"===typeof a){if(n=a,a=null!=n.x?n.x:n.longitude,b=null!=n.y?n.y:n.latitude,d=null!=n.z?n.z:n.altitude,f=n.m,(h=n.spatialReference)&&"esri.geometry.SpatialReference"!==h.declaredClass&&(h=new v(h)),null!=n.longitude||null!=n.latitude)null==n.longitude?g.warn(".longitude\x3d","Latitude was defined without longitude"):null==n.latitude?g.warn(".latitude\x3d","Longitude was defined without latitude"):!n.declaredClass&&h&&h.isWebMercator&&(b=l.lngLatToXY(n.longitude,n.latitude,e),a=b[0],b=b[1])}else c(d)?
(h=d,d=null):c(f)&&(h=f,f=null);a={x:a,y:b};null!=h&&(a.spatialReference=h);null!=d&&(a.z=d);null!=f&&(a.m=f);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",
a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return l.xyToLngLat(this.x,this.y,e)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",l.lngLatToXY(this.x,a,e)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=
this._get("spatialReference");if(a){if(a.isWebMercator)return l.xyToLngLat(this._get("x"),this._get("y"),e)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",l.lngLatToXY(a,this._get("y"),e)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.clone=function(){var a=new t;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};
b.prototype.copy=function(a){t.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,e=this.y,g=this.z,h=this.m,q=this.spatialReference,t=a.z,k=a.m,w=a.x;b=a.y;a=a.spatialReference;if(!q.equals(a))if(q.isWebMercator&&a.isWGS84)b=l.lngLatToXY(w,b),w=b[0],b=b[1],a=q;else if(q.isWGS84&&a.isWebMercator)b=l.xyToLngLat(w,b),w=b[0],b=b[1],a=q;else return!1;return c===w&&e===b&&g===t&&h===k&&q.wkid===a.wkid};b.prototype.offset=function(a,b,c){this.x+=a;this.y+=b;null!=
c&&this.hasZ&&(this.z+=c);return this};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=x.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],e=c[1],c=2*e;b>e?(a=Math.ceil(Math.abs(b-e)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=function(a){return t.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,
this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var t;m([h.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);m([h.property({type:Boolean,dependsOn:["m"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);m([h.property({type:Boolean,dependsOn:["z"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);m([h.property({type:Number,dependsOn:["y"]})],b.prototype,
"latitude",null);m([h.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);m([h.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,"x",void 0);m([h.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);m([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);m([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=t=
m([h.subclass("esri.geometry.Point")],b)}(h.declared(u));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,k,m,r,h,u){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=u.WGS84;return b}k(b,a);Object.defineProperty(b.prototype,
"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof u)return a;if(null!=a){var c=new u;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};m([h.property()],
b.prototype,"type",void 0);m([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);m([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);m([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);m([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);m([h.property({type:u,json:{write:!0}})],b.prototype,"spatialReference",
void 0);m([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=m([h.subclass("esri.geometry.Geometry")],b)}(h.declared(r))})},"esri/geometry/support/webMercatorUtils":function(){define(["require","exports","../../core/lang","../SpatialReference","./spatialReferenceUtils"],function(a,b,k,m,r){function h(a,b,g,h,k){var c;if("x"in a&&"x"in k)b=b(a.x,a.y,l,0,h),k.x=b[0],k.y=b[1];else if("xmin"in a&&"xmin"in k)c=b(a.xmin,a.ymin,l,0,h),k.xmin=c[0],k.ymin=c[1],b=b(a.xmax,a.ymax,
l,0,h),k.xmax=b[0],k.ymax=b[1];else if("paths"in a&&"paths"in k||"rings"in a&&"rings"in k){c="paths"in a?a.paths:a.rings;var e=[],n=void 0;for(a=0;a<c.length;a++){var d=c[a],n=[];e.push(n);for(var f=0;f<d.length;f++)n.push(b(d[f][0],d[f][1],[0,0],0,h)),2<d[f].length&&n[f].push(d[f][2]),3<d[f].length&&n[f].push(d[f][3])}"paths"in k?k.paths=e:k.rings=e}else if("points"in a&&"points"in k){c=a.points;e=[];for(a=0;a<c.length;a++)e[a]=b(c[a][0],c[a][1],[0,0],0,h),2<c[a].length&&e[a].push(c[a][2]),3<c[a].length&&
e[a].push(c[a][3]);k.points=e}else if("type"in a&&"mesh"===a.type&&"type"in k&&"mesh"===k.type&&(c=a.vertexAttributes&&a.vertexAttributes.position,e=k.vertexAttributes&&k.vertexAttributes.position,c))for(n=[0,0],a=0;a<c.length;a+=3)b(c[a],c[a+1],n,0,h),e[a]=n[0],e[a+1]=n[1];k.spatialReference=g;return k}function u(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?r.equals(b,a)?!0:r.isWebMercator(b)&&r.isWGS84(a)||r.isWebMercator(a)&&
r.isWGS84(b):!1}function v(a,b,g,l){void 0===g&&(g=[0,0]);void 0===l&&(l=0);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;g[l]=111319.49079327169*a;g[l+1]=3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return g}function x(a,b,g,l,h){void 0===g&&(g=[0,0]);void 0===l&&(l=0);void 0===h&&(h=!1);a=a/6378137*57.29577951308232;g[l]=h?a:a-360*Math.floor((a+180)/360);g[l+1]=57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)));return g}Object.defineProperty(b,
"__esModule",{value:!0});var l=[0,0];b.canProject=u;b.project=function(a,b){var c=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return u(c,b)?r.equals(c,b)?k.clone(a):r.isWebMercator(b)?h(a,v,m.WebMercator,!1,k.clone(a)):r.isWGS84(b)?h(a,x,m.WGS84,!1,k.clone(a)):null:null};b.lngLatToXY=v;b.xyToLngLat=x;b.geographicToWebMercator=function(a,b,g){void 0===b&&(b=!1);void 0===g&&(g=k.clone(a));return h(a,v,m.WebMercator,b,g)};b.webMercatorToGeographic=function(a,b,g){void 0===
b&&(b=!1);void 0===g&&(g=k.clone(a));return h(a,x,m.WGS84,b,g)}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../geometry"],function(a,b,k){function m(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function r(a){return a[0]>=a[2]?0:a[2]-a[0]}function h(a){return a[1]>=a[3]?0:a[3]-a[1]}function u(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function v(a){return 4===a.length}function x(a,b,e){return a<b?b:a>e?e:a}Object.defineProperty(b,"__esModule",
{value:!0});b.create=m;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,e,g,h){void 0===h&&(h=m());h[0]=a;h[1]=b;h[2]=e;h[3]=g;return h};b.fromExtent=function(a,b){void 0===b&&(b=m());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};b.toExtent=function(a,b){return new k.Extent({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};
b.expand=function(a,b,e){void 0===e&&(e=a);if("length"in b)if(v(b))e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e[2]=Math.max(a[2],b[2]),e[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e[2]=Math.max(a[2],b[0]),e[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":e[0]=Math.min(a[0],b.xmin);e[1]=Math.min(a[1],b.ymin);e[2]=Math.max(a[2],b.xmax);e[3]=Math.max(a[3],b.ymax);break;case "point":e[0]=Math.min(a[0],b.x),e[1]=Math.min(a[1],
b.y),e[2]=Math.max(a[2],b.x),e[3]=Math.max(a[3],b.y)}return e};b.expandWithNestedArray=function(a,b,e){void 0===e&&(e=a);var c=b.length,l=a[0],h=a[1],k=a[2];a=a[3];for(var q=0;q<c;q++){var n=b[q],l=Math.min(l,n[0]),h=Math.min(h,n[1]),k=Math.max(k,n[0]);a=Math.max(a,n[1])}e[0]=l;e[1]=h;e[2]=k;e[3]=a;return e};b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=r;b.height=h;b.diameter=function(a){var b=r(a);a=h(a);return Math.sqrt(b*b+a*a)};b.area=function(a){return r(a)*
h(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+r(a)/2;b[1]=a[1]+h(a)/2;return b};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};b.containsPointWithMargin=function(a,b,e){return b[0]>=a[0]-e&&b[1]>=a[1]-e&&b[0]<=a[2]+e&&b[1]<=a[3]+e};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,
b,e){void 0===e&&(e=a);var c=b[0],l=b[1],h=b[2];b=b[3];e[0]=x(a[0],c,h);e[1]=x(a[1],l,b);e[2]=x(a[2],c,h);e[3]=x(a[3],l,b);return e};b.distance=function(a,b){var c=(a[1]+a[3])/2,g=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-r(a)/2,0);a=Math.max(Math.abs(b[1]-c)-h(a)/2,0);return Math.sqrt(g*g+a*a)};b.offset=function(a,b,e,g){void 0===g&&(g=a);g[0]=a[0]+b;g[1]=a[1]+e;g[2]=a[2]+b;g[3]=a[3]+e;return g};b.pad=function(a,b,e){void 0===e&&(e=a);e[0]=a[0]-b;e[1]=a[1]-b;e[2]=a[2]+b;e[3]=a[3]+b;return e};b.setMin=
function(a,b,e){void 0===e&&(e=a);e[0]=b[0];e[1]=b[1];e!==a&&(e[2]=a[2],e[3]=a[3]);return e};b.setMax=function(a,b,e){void 0===e&&(e=a);e[2]=b[0];e[3]=b[1];e!==a&&(e[0]=a[0],e[1]=a[1]);return a};b.set=u;b.empty=function(a){return a?u(a,b.NEGATIVE_INFINITY):m(b.NEGATIVE_INFINITY)};b.is=v;b.isPoint=function(a){return(0===r(a)||!isFinite(a[0]))&&(0===h(a)||!isFinite(a[1]))};b.equals=function(a,b,e){if(null==a||null==b)return a===b;if(!v(a)||!v(b))return!1;if(e)for(var c=0;c<a.length;c++){if(!e(a[c],
b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0]})},"esri/geometry":function(){define("require exports ./geometry/Extent ./geometry/Geometry ./geometry/Mesh ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/ScreenPoint ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),function(a,
b,k,m,r,h,u,v,x,l,c,e){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=k;b.BaseGeometry=m;b.Mesh=r;b.Multipoint=h;b.Point=u;b.Polygon=v;b.Polyline=x;b.ScreenPoint=l;b.SpatialReference=c;b.isGeometry=function(a){return a instanceof b.BaseGeometry};b.fromJSON=e.fromJSON})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,k,m,r,h,u,v,x,l,c,e,g){function y(a,b,c){return null==b?c:null==c?b:a(b,c)}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}k(b,a);q=b;b.prototype.normalizeCtorArgs=function(a,b,c,e,g){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null!=a.spatialReference?a.spatialReference:
x.WGS84,a):{xmin:a,ymin:b,xmax:c,ymax:e,spatialReference:null!=g?g:x.WGS84}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(b.prototype,"center",{get:function(){var a=new v({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new q;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,
c=a.spatialReference;b&&c&&!b.equals(c)&&g.canProject(b,c)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));return"point"===a.type?l.extentContainsPoint(this,a):"extent"===a.type?l.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&g.canProject(b,c)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&
!b.equals(e)&&g.canProject(b,e)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));b=c.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=
function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=y(Math.min,this.zmin,a.zmin),this.zmax=y(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=y(Math.min,this.mmin,a.mmin),this.mmax=y(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,
a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=y(Math.max,this.zmin,a.zmin),this.zmax=y(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=y(Math.max,this.mmin,a.mmin),this.mmax=y(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=e.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
c=this._getCM(a);if(c){var n=b.isWebMercator?g.webMercatorToGeographic(c):c;this.xmin-=c.x;this.xmax-=c.x;b.isWebMercator||(n.x=this._normalizeX(n.x,a).x);this.spatialReference=new x(r.substitute({Central_Meridian:n.x},b.isWGS84?a.altTemplate:a.wkTemplate))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],e=this.xmin,g=this.xmax;e>=a&&e<=c&&g>=a&&g<=c||(b=this.center);return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=
c||e.getInfo(d);if(!c)return this;var f=this._getParts(c).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return f;var g=!0,n=!0;f.forEach(function(a){a.hasZ||(g=!1);a.hasM||(n=!1)});return{rings:f.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(g)for(var d=(a.zmax-a.zmin)/2,c=0;c<b.length;c++)b[c].push(d);
if(n)for(a=(a.mmax-a.mmin)/2,c=0;c<b.length;c++)b[c].push(a);return b}),hasZ:g,hasM:n,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,g=this.ymax,h=this.spatialReference,n=this.width,l=this.xmin,k=this.xmax,t=void 0;a=a||e.getInfo(h);var w=a.valid,y=w[0],u=w[1],t=this._normalizeX(this.xmin,a),m=t.x,w=t.frameId,t=this._normalizeX(this.xmax,a),v=t.x;a=t.frameId;t=m===v&&0<n;if(n>2*u){n=new q(l<k?m:v,c,u,g,h);l=new q(y,c,l<k?v:m,g,h);k=new q(0,
c,u,g,h);c=new q(y,c,0,g,h);g=[];h=[];n.contains(k)&&g.push(w);n.contains(c)&&h.push(w);l.contains(k)&&g.push(a);l.contains(c)&&h.push(a);for(y=w+1;y<a;y++)g.push(y),h.push(y);b.push({extent:n,frameIds:[w]},{extent:l,frameIds:[a]},{extent:k,frameIds:g},{extent:c,frameIds:h})}else m>v||t?b.push({extent:new q(m,c,u,g,h),frameIds:[w]},{extent:new q(y,c,v,g,h),frameIds:[a]}):b.push({extent:new q(m,c,v,g,h),frameIds:[w]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(w={},a&&(w.zmin=this.zmin,
w.zmax=this.zmax),c&&(w.mmin=this.mmin,w.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(w);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,e=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,e=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,e=-b);return{x:a,frameId:e}};var q;m([h.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);m([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",
null);m([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);m([h.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);m([h.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);m([h.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);m([h.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);
m([h.property({type:Number,json:{write:!0}})],b.prototype,"xmin",void 0);m([h.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);m([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);m([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);m([h.property({type:Number,json:{write:!0}})],
b.prototype,"xmax",void 0);m([h.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);m([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);m([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=q=m([h.subclass("esri.geometry.Extent")],b)}(h.declared(u));a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function k(a,b,k,m){return b>=a.xmin&&b<=a.xmax&&k>=a.ymin&&k<=a.ymax?null!=m&&a.hasZ?m>=a.zmin&&m<=a.zmax:!0:!1}function m(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var h=!1,k=0,l=a.length;k<l;k++)h=r(h,a[k],b);b=h}else b=r(!1,a,b);else b=!1;return b}function r(a,b,k){var h=k[0];k=k[1];for(var l=0,c=0,e=b.length;c<e;c++){l++;l===e&&(l=0);var g=b[c],y=g[0],g=g[1],w=b[l],t=w[0],w=w[1];(g<k&&
w>=k||w<k&&g>=k)&&y+(k-g)/(w-g)*(t-y)<h&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});b.extentContainsPoint=function(a,b){return k(a,b.x,b.y,b.z)};b.extentContainsExtent=function(a,b){var h=b.xmin,m=b.ymin,l=b.zmin,c=b.xmax,e=b.ymax,g=b.zmax;return a.hasZ&&b.hasZ?k(a,h,m,l)&&k(a,h,e,l)&&k(a,c,e,l)&&k(a,c,m,l)&&k(a,h,m,g)&&k(a,h,e,g)&&k(a,c,e,g)&&k(a,c,m,g):k(a,h,m)&&k(a,h,e)&&k(a,c,e)&&k(a,c,m)};b.extentContainsCoords2D=function(a,b){return k(a,b[0],b[1])};b.extentContainsCoords3D=
function(a,b){return k(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){return m(a,[b.x,b.y])};b.polygonContainsCoords=m})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,k){function m(a,b){return k.extentContainsPoint(a,b)}function r(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=
b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function h(a,b){var c=b.hasZ?k.extentContainsCoords3D:k.extentContainsCoords2D,d=0;for(b=b.points;d<b.length;d++)if(c(a,b[d]))return!0;return!1}function u(a,b){c[0]=a.xmin;c[1]=a.ymax;e[0]=a.xmax;e[1]=a.ymax;g[0]=a.xmin;g[1]=a.ymin;y[0]=a.xmax;y[1]=a.ymin;for(var d=0,l=w;d<l.length;d++)if(k.polygonContainsCoords(b,l[d]))return!0;d=0;for(b=b.rings;d<b.length;d++)if(l=b[d],l.length){var h=l[0];if(k.extentContainsCoords2D(a,
h))return!0;for(var n=1;n<l.length;n++){var q=l[n];if(k.extentContainsCoords2D(a,q)||x(h,q,t))return!0;h=q}}return!1}function v(a,b){c[0]=a.xmin;c[1]=a.ymax;e[0]=a.xmax;e[1]=a.ymax;g[0]=a.xmin;g[1]=a.ymin;y[0]=a.xmax;y[1]=a.ymin;b=b.paths;for(var d=0;d<b.length;d++){var l=b[d];if(b.length){var h=l[0];if(k.extentContainsCoords2D(a,h))return!0;for(var n=1;n<l.length;n++){var q=l[n];if(k.extentContainsCoords2D(a,q)||x(h,q,t))return!0;h=q}}}return!1}function x(a,b,c){for(var d=0;d<c.length;d++)if(l(a,
b,c[d][0],c[d][1]))return!0;return!1}function l(a,b,c,e,g){var d=a[0];a=a[1];var f=b[0];b=b[1];var l=c[0],h=c[1];c=e[0]-l;var l=d-l,n=f-d;e=e[1]-h;var h=a-h,k=b-a,q=e*n-c*k;if(0===q)return!1;c=(c*h-e*l)/q;l=(n*h-k*l)/q;return 0<=c&&1>=c&&0<=l&&1>=l?(g&&(g[0]=d+c*(f-d),g[1]=a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=m;b.extentIntersectsExtent=r;b.extentIntersectsMultipoint=h;var c=[0,0],e=[0,0],g=[0,0],y=[0,0],w=[c,e,g,y],t=[[g,c],[c,e],[e,y],[y,g]];
b.extentIntersectsPolygon=u;b.extentIntersectsPolyline=v;var q=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],e=0;e<c.length-1;e++)for(var g=c[e],h=c[e+1],n=b+1;n<a.length;n++)for(var k=0;k<a[n].length-1;k++){var t=a[n][k],w=a[n][k+1],y=l(g,h,t,w,q);if(y&&!(q[0]===g[0]&&q[1]===g[1]||q[0]===t[0]&&q[1]===t[1]||q[0]===h[0]&&q[1]===h[1]||q[0]===w[0]&&q[1]===w[1]))return!0}k=c.length;if(!(4>=k))for(e=0;e<k-3;e++){var m=k-1;0===e&&(m=k-2);g=c[e];h=c[e+1];for(n=e+2;n<m;n++)if(t=
c[n],w=c[n+1],(y=l(g,h,t,w,q))&&!(q[0]===g[0]&&q[1]===g[1]||q[0]===t[0]&&q[1]===t[1]||q[0]===h[0]&&q[1]===h[1]||q[0]===w[0]&&q[1]===w[1]))return!0}}return!1};b.segmentIntersects=l;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return r;case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return m;case "esriGeometryPolygon":case "polygon":return u;case "esriGeometryPolyline":case "polyline":return v;case "mesh":return r}}})},
"esri/geometry/Mesh":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/lang ../core/Logger ../core/accessorSupport/decorators ./Extent ./Geometry ./support/MeshComponent ./support/MeshVertexAttributes ./support/triangulationUtils ./support/meshUtils/centerAt ./support/meshUtils/offset ./support/meshUtils/primitives ./support/meshUtils/rotate".split(" "),function(a,b,k,m,r,h,u,v,x,l,c,e,g,y,w,t,q){var n=
u.getLogger("esri.geometry.Mesh"),d=[1,0,0],f=[0,1,0],p=[0,0,1],z=[0,0,0],A=[0,0,0,0],B=[0,0,0,0],D=[0,0,0,0];return function(a){function b(b){b=a.call(this)||this;b.components=null;b.hasZ=!0;b.hasM=!1;b.vertexAttributes=null;b.type="mesh";return b}k(b,a);l=b;Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=this.vertexAttributes&&this.vertexAttributes.position;if(!b||0===b.length||this.components&&0===this.components.length)return new x({xmin:0,ymin:0,zmin:0,
xmax:0,ymax:0,zmax:0,spatialReference:a});a={xmin:Infinity,xmax:-Infinity,ymin:Infinity,ymax:-Infinity,zmin:Infinity,zmax:-Infinity,spatialReference:a};if(!this.components)return new x(this.extendExtent(a,b,null));for(var c=0,d=this.components;c<d.length;c++){var e=d[c];if(e.faces)this.extendExtent(a,b,e.faces);else{this.extendExtent(a,b,null);break}}return new x(a)},enumerable:!0,configurable:!0});b.prototype.addComponent=function(a){this.components||(this.components=[]);this.components.push(a);
this.clearCache()};b.prototype.removeComponent=function(a){if(this.components&&(a=this.components.indexOf(a),-1!==a)){this.components=this.components.splice(a,1);return}n.error("removeComponent()","Provided component is not part of the list of components")};b.prototype.rotate=function(a,b,c,e){q.axisAngleFrom(d,a/180*Math.PI,A);q.axisAngleFrom(f,b/180*Math.PI,B);q.axisAngleFrom(p,c/180*Math.PI,D);q.axisAngleMultiply(A,B,A);q.axisAngleMultiply(A,D,A);q.rotate(this,A,e);return this};b.prototype.offset=
function(a,b,c,d){z[0]=a;z[1]=b;z[2]=c;w.offset(this,z,d);return this};b.prototype.centerAt=function(a,b){y.centerAt(this,a,b);return this};b.prototype.clone=function(){return new l({components:h.clone(this.components),spatialReference:this.spatialReference,vertexAttributes:h.clone(this.vertexAttributes)})};b.prototype.vertexAttributesChanged=function(){this.clearCache()};b.prototype.toJSON=function(a){return this.write({},a)};b.prototype.forEachVertex=function(a,b,c){if(b)for(e=0;e<b.length;e++){var d=
3*b[e];c(a[d+0],a[d+1],a[d+2])}else for(var e=0;e<a.length;e+=3)c(a[e+0],a[e+1],a[e+2])};b.prototype.extendExtent=function(a,b,c){this.forEachVertex(b,c,function(b,c,d){a.xmin=Math.min(a.xmin,b);a.xmax=Math.max(a.xmax,b);a.ymin=Math.min(a.ymin,c);a.ymax=Math.max(a.ymax,c);a.zmin=Math.min(a.zmin,d);a.zmax=Math.max(a.zmax,d)});return a};b.createBox=function(a,b){a=t.convertUnitGeometry(t.createUnitSizeBox(),a,b);if(b&&b.imageFace&&"all"!==b.imageFace){var d=a.components[0],e=d.faces,g=t.boxFaceOrder[b.imageFace],
f=6*g;b=new Uint32Array(6);for(var l=new Uint32Array(e.length-6),h=0,n=0,k=0;k<e.length;k++)k>=f&&k<f+6?b[h++]=e[k]:l[n++]=e[k];e=new Float32Array(a.vertexAttributes.uv);g*=8;f=[0,1,1,1,1,0,0,0];for(k=0;k<f.length;k++)e[g+k]=f[k];a.vertexAttributes.uv=e;a.components=[new c({faces:b,material:d.material}),new c({faces:l})]}return a};b.createSphere=function(a,b){return t.convertUnitGeometry(t.createUnitSizeSphere(b&&b.densificationFactor||0),a,b)};b.createCylinder=function(a,b){return t.convertUnitGeometry(t.createUnitSizeCylinder(b&&
b.densificationFactor||0),a,b)};b.createPlane=function(a,b){return t.convertUnitGeometry(t.createUnitSizePlane(b&&b.facing||"up"),a,b)};b.createFromPolygon=function(a,b){var c=g.triangulate(a);return new l({vertexAttributes:{position:c.position},components:[{faces:c.faces,shading:"flat",material:b&&b.material||null}],spatialReference:a.spatialReference})};var l;m([v.property({dependsOn:["vertexAttributes","vertexAttributes.position","components"],json:{read:!1}})],b.prototype,"cache",void 0);m([v.property({type:[c]})],
b.prototype,"components",void 0);m([v.property({dependsOn:["cache"],readOnly:!0,json:{read:!1}})],b.prototype,"extent",null);m([v.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasZ",void 0);m([v.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasM",void 0);m([v.property({type:e.MeshVertexAttributes,json:{write:!0}})],b.prototype,"vertexAttributes",void 0);m([r(0,v.cast(c))],b.prototype,"addComponent",null);return b=l=m([v.subclass("esri.geometry.Mesh")],b)}(v.declared(l))})},
"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,b){return function(k,m){b(k,m,a)}}})},"esri/geometry/support/MeshComponent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators ./MeshMaterial ./MeshVertexAttributes".split(" "),function(a,b,k,m,r,h,u,v,x,l){var c=u.getLogger("esri.geometry.support.MeshComponent");
return function(a){function b(b){b=a.call(this)||this;b.faces=null;b.material=null;b.shading="source";return b}k(b,a);e=b;b.prototype.castFaces=function(a){return l.castArray(a,Uint32Array,[Uint16Array],{loggerTag:".faces\x3d",stride:3},c)};b.prototype.clone=function(){return new e({faces:h.clone(this.faces),shading:this.shading,material:h.clone(this.material)})};var e;m([v.property({json:{write:!0}})],b.prototype,"faces",void 0);m([v.cast("faces")],b.prototype,"castFaces",null);m([v.property({type:x.MeshMaterial,
json:{write:!0}})],b.prototype,"material",void 0);m([v.property({type:String,json:{write:!0}})],b.prototype,"shading",void 0);return b=e=m([v.subclass("esri.geometry.support.MeshComponent")],b)}(v.declared(r))})},"esri/geometry/support/MeshMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ImageMeshColor ./MeshColor ./ValueMeshColor".split(" "),
function(a,b,k,m,r,h,u,v,x,l,c,e){Object.defineProperty(b,"__esModule",{value:!0});var g={base:c.default,key:"type",defaultKeyValue:"value",typeMap:{value:e,image:l}};a=function(a){function b(b){b=a.call(this)||this;b.color=null;return b}k(b,a);c=b;b.prototype.castColor=function(a){return a?"string"===typeof a?y.test(a)||r.named[a]?new e({value:a}):new l({url:a}):Array.isArray(a)?new e({value:a}):a instanceof HTMLImageElement?new l({url:a.src}):a instanceof HTMLCanvasElement?new l({url:a.toDataURL()}):
x.ensureOneOfType(g,a):a};b.prototype.readColor=function(a,b,c){if(a)switch(a.type){case "image":return new l(a);case "value":return new e(a)}};b.prototype.clone=function(){return new c({color:u.clone(this.color)})};var c;m([v.property({types:g,json:{write:!0}})],b.prototype,"color",void 0);m([v.cast("color")],b.prototype,"castColor",null);m([v.reader("color")],b.prototype,"readColor",null);return b=c=m([v.subclass("esri.geometry.support.MeshResources")],b)}(v.declared(h));b.MeshMaterial=a;var y=
/^\s*(#|rgba?\()/;b.default=a})},"esri/Color":function(){define(["./core/declare","./core/accessorSupport/ensureType","dojo/colors"],function(a,b,k){function m(a){return Math.max(0,Math.min(b.ensureInteger(a),255))}var r=a([k],{declaredClass:"esri.Color",toJSON:function(){return[m(this.r),m(this.g),m(this.b),1<this.a?this.a:m(255*this.a)]},clone:function(){return new r(this.toRgba())}});r.toJSON=function(a){return a&&[m(a.r),m(a.g),m(a.b),1<a.a?a.a:m(255*a.a)]};r.fromJSON=function(a){return a&&new r([a[0],
a[1],a[2],a[3]/255])};r.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};r.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};var h="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(a=0;a<h.length;a++)r[h[a]]=k[h[a]];r.named.rebeccapurple=[102,51,153];return r})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(a,b,k,m){var r={};b.setObject("dojo.colors",r);var h=function(a,b,l){0>l&&++l;1<l&&
--l;var c=6*l;return 1>c?a+(b-a)*c:1>2*l?b:2>3*l?a+(b-a)*(2/3-l)*6:a};a.colorFromRgb=k.fromRgb=function(a,b){var l=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(l){a=l[2].split(/\s*,\s*/);var c=a.length,l=l[1];if("rgb"==l&&3==c||"rgba"==l&&4==c)return l=a[0],"%"==l.charAt(l.length-1)?(l=m.map(a,function(a){return 2.56*parseFloat(a)}),4==c&&(l[3]=a[3]),k.fromArray(l,b)):k.fromArray(a,b);if("hsl"==l&&3==c||"hsla"==l&&4==c){var l=(parseFloat(a[0])%360+360)%360/360,e=parseFloat(a[1])/
100,g=parseFloat(a[2])/100,e=.5>=g?g*(e+1):g+e-g*e,g=2*g-e,l=[256*h(g,e,l+1/3),256*h(g,e,l),256*h(g,e,l-1/3),1];4==c&&(l[3]=a[3]);return k.fromArray(l,b)}}return null};var u=function(a,b,l){a=Number(a);return isNaN(a)?l:a<b?b:a>l?l:a};k.prototype.sanitize=function(){this.r=Math.round(u(this.r,0,255));this.g=Math.round(u(this.g,0,255));this.b=Math.round(u(this.b,0,255));this.a=u(this.a,0,1);return this};r.makeGrey=k.makeGrey=function(a,b){return k.fromArray([a,a,a,b])};b.mixin(k.named,{aliceblue:[240,
248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,
211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,
221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,
245,245],yellowgreen:[154,205,50]});return k})},"esri/geometry/support/ImageMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Identifiable ../../core/accessorSupport/decorators ./MeshColor".split(" "),function(a,b,k,m,r,h,u){return function(a){function b(b){b=a.call(this)||this;b.type="image";b.url=null;return b}k(b,a);l=b;b.prototype.clone=function(){return new l({url:this.url})};var l;m([h.property()],b.prototype,
"type",void 0);m([h.property({type:String,json:{write:{enabled:!0,isRequired:!0}}})],b.prototype,"url",void 0);return b=l=m([h.subclass("esri.geometry.support.ImageMeshColor")],b)}(h.declared(u.default,r))})},"esri/core/Identifiable":function(){define(["./declare"],function(a){var b=0;return a(null,{constructor:function(){Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+b++})}})})},"esri/geometry/support/MeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(a,b,k,m,r,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){return a.call(this)||this}k(b,a);b.prototype.clone=function(){throw Error("not implemented");};m([h.property({readOnly:!0,json:{read:!1,write:{isRequired:!0,ignoreOrigin:!0,enabled:!0}}})],b.prototype,"type",void 0);return b=m([h.subclass("esri.geometry.support.MeshColor")],b)}(h.declared(r));b.MeshColor=a;b.default=a})},"esri/geometry/support/ValueMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ./MeshColor".split(" "),
function(a,b,k,m,r,h,u,v){return function(a){function b(b){b=a.call(this)||this;b.type="value";b.value=null;return b}k(b,a);c=b;b.prototype.clone=function(){return new c({value:h.clone(this.value)})};var c;m([u.property()],b.prototype,"type",void 0);m([u.property({type:r})],b.prototype,"value",void 0);return b=c=m([u.subclass("esri.geometry.support.ValueMeshColor")],b)}(u.declared(v.default))})},"esri/geometry/support/MeshVertexAttributes":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators".split(" "),
function(a,b,k,m,r,h,u,v){function x(a,b,c,l){var e=b.loggerTag;b=b.stride;return 0!==a.length%b?(l.error(e,"Invalid array length, expected a multiple of "+b),new c([])):a}function l(a,b,c,l,h){if(!a)return a;if(a instanceof b)return x(a,l,b,h);for(var e=0;e<c.length;e++)if(a instanceof c[e])return x(new b(a),l,b,h);if(Array.isArray(a))return x(new b(a),l,b,h);c=c.map(function(a){return"'"+a.name+"'"});h.error("Failed to set property, expected one of "+c+", but got "+a.constructor.name);return new b([])}
Object.defineProperty(b,"__esModule",{value:!0});var c=u.getLogger("esri.geometry.support.MeshVertexAttributes");a=function(a){function b(b){b=a.call(this)||this;b.position=null;b.uv=null;b.normal=null;return b}k(b,a);e=b;b.prototype.castPosition=function(a){a&&a instanceof Float32Array&&c.warn(".position\x3d","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array");return l(a,Float64Array,[Float32Array],{loggerTag:".position\x3d",
stride:3},c)};b.prototype.castUv=function(a){return l(a,Float32Array,[Float64Array],{loggerTag:".uv\x3d",stride:2},c)};b.prototype.castNormal=function(a){return l(a,Float32Array,[Float64Array],{loggerTag:".normal\x3d",stride:3},c)};b.prototype.clone=function(){return new e({position:h.clone(this.position),uv:h.clone(this.uv),normal:h.clone(this.normal)})};var e;m([v.property({json:{write:!0}})],b.prototype,"position",void 0);m([v.cast("position")],b.prototype,"castPosition",null);m([v.property({json:{write:!0}})],
b.prototype,"uv",void 0);m([v.cast("uv")],b.prototype,"castUv",null);m([v.property({json:{write:!0}})],b.prototype,"normal",void 0);m([v.cast("normal")],b.prototype,"castNormal",null);return b=e=m([v.subclass("esri.geometry.support.MeshVertexAttributes")],b)}(v.declared(r));b.MeshVertexAttributes=a;b.castArray=l;b.default=a})},"esri/geometry/support/triangulationUtils":function(){define(["require","exports","../../core/libs/earcut/earcut","./coordsUtils"],function(a,b,k,m){function r(a,b,l){if(1===
a.length)return a[0];b=new Float64Array(b);l=new Uint32Array(l);for(var c=0,e=0,g=0;g<a.length;g++){for(var h=a[g],k=0;k<h.position.length;k++)b[c++]=h.position[k];for(k=0;k<h.faces.length;k++)l[e++]=h.faces[k]}return{position:b,faces:l}}function h(a,b){for(var h=a.length,c=Array(h),e=Array(h),g=Array(h),k=0,w=0,t=0,q=0,n=0;n<h;++n)q+=a[n].length;for(var q=new Float64Array(3*q),d=0,f=h-1;0<=f;f--){var p=a[f];if(m.isClockwise(p,!1,!1)||1===h){for(var r=p.length,n=0;n<k;++n)r+=c[n].length;n={index:d,
pathLengths:Array(k+1),count:r,holeIndices:Array(k)};n.pathLengths[0]=p.length;0<p.length&&(g[t++]={index:d,count:p.length});d=u(p,0,q,d,p.length,b);for(p=0;p<k;++p)r=c[p],n.holeIndices[p]=d,n.pathLengths[p+1]=r.length,0<r.length&&(g[t++]={index:d,count:r.length}),d=u(r,0,q,d,r.length,b);k=0;0<n.count&&(e[w++]=n)}else c[k++]=p}for(p=0;p<k;++p)r=c[p],0<r.length&&(g[t++]={index:d,count:r.length}),d=u(r,0,q,d,r.length,b);w<h&&(e.length=w);t<h&&(g.length=t);return{position:q,polygons:e,outlines:g}}function u(a,
b,h,c,e,g){c*=3;for(var l=0;l<e;++l){var k=a[b++];h[c++]=k[0];h[c++]=k[1];h[c++]=g?k[2]:0}return c/3}Object.defineProperty(b,"__esModule",{value:!0});b.triangulate=function(a){var b=h(a.rings,a.hasZ),l=[],c=0,e=0;a=function(a){var g=a.index,h=new Float64Array(b.position.buffer,3*g*b.position.BYTES_PER_ELEMENT,3*a.count);a=a.holeIndices.map(function(a){return a-g});a=new Uint32Array(k(h,a,3));l.push({position:h,faces:a});c+=h.length;e+=a.length};for(var g=0,m=b.polygons;g<m.length;g++)a(m[g]);return r(l,
c,e)};b.pathsToTriangulationInfo=h})},"esri/core/libs/earcut/earcut":function(){define([],function(){function a(a,c,d){d=d||2;f=a.length/d+(c?2*c.length:0);p=!1;var e=c&&c.length,g=e?c[0]*d:a.length,l=b(a,0,g,d,!0),n=[];if(!l)return n;var q,t,y,r;if(e)a:{var v=d,e=[],z,A,B;r=0;for(z=c.length;r<z;r++)A=c[r]*v,B=r<z-1?c[r+1]*v:a.length,A=b(a,A,B,v,!1),A===A.next&&(A.steiner=!0),e.push(x(A));e.sort(h);for(r=0;r<e.length;r++){if(!l){l=null;break a}c=e[r];v=l;if(v=u(c,v))c=w(v,c),k(c,c.next);l=k(l,l.next)}}if(p)return n;
if(a.length>80*d){q=y=a[0];t=e=a[1];for(v=d;v<g;v+=d)r=a[v],c=a[v+1],r<q&&(q=r),c<t&&(t=c),r>y&&(y=r),c>e&&(e=c);y=Math.max(y-q,e-t)}m(l,n,d,q,t,y);return n}function b(a,b,c,f,g){var h;if(g===0<d(a,b,c,f))for(g=b;g<c;g+=f)h=t(g,a[g],a[g+1],h);else for(g=c-f;g>=b;g-=f)h=t(g,a[g],a[g+1],h);h&&e(h,h.next)&&(q(h),h=h.next);return h}function k(a,b){if(!a)return a;b||(b=a);var d,g=0,h=f*f/2;do{d=!1;if(a.steiner||!e(a,a.next)&&0!==c(a.prev,a,a.next))a=a.next;else{q(a);a=b=a.prev;if(a===a.next)return null;
d=!0}if(g++>h)return p=!0,null}while(d||a!==b);return b}function m(a,b,d,f,h,n,t){if(a){if(!t&&n){var u=a,A=u;do null===A.z&&(A.z=v(A.x,A.y,f,h,n)),A.prevZ=A.prev,A=A.nextZ=A.next;while(A!==u);A.prevZ.nextZ=null;A.prevZ=null;var u=A,z,x,B,D,C,E,G=1;do{A=u;B=u=null;for(D=0;A;){D++;x=A;for(z=C=0;z<G&&(C++,x=x.nextZ,x);z++);for(E=G;0<C||0<E&&x;)0===C?(z=x,x=x.nextZ,E--):0!==E&&x?A.z<=x.z?(z=A,A=A.nextZ,C--):(z=x,x=x.nextZ,E--):(z=A,A=A.nextZ,C--),B?B.nextZ=z:u=z,z.prevZ=B,B=z;A=x}B.nextZ=null;G*=2}while(1<
D)}for(u=a;a.prev!==a.next;){A=a.prev;x=a.next;if(n)a:{B=a;E=f;var R=h,Z=n;D=B.prev;C=B;G=B.next;if(0<=c(D,C,G))B=!1;else{var Q=D.x>C.x?D.x>G.x?D.x:G.x:C.x>G.x?C.x:G.x,H=D.y>C.y?D.y>G.y?D.y:G.y:C.y>G.y?C.y:G.y;z=v(D.x<C.x?D.x<G.x?D.x:G.x:C.x<G.x?C.x:G.x,D.y<C.y?D.y<G.y?D.y:G.y:C.y<G.y?C.y:G.y,E,R,Z);E=v(Q,H,E,R,Z);for(R=B.nextZ;R&&R.z<=E;){if(R!==B.prev&&R!==B.next&&l(D.x,D.y,C.x,C.y,G.x,G.y,R.x,R.y)&&0<=c(R.prev,R,R.next)){B=!1;break a}R=R.nextZ}for(R=B.prevZ;R&&R.z>=z;){if(R!==B.prev&&R!==B.next&&
l(D.x,D.y,C.x,C.y,G.x,G.y,R.x,R.y)&&0<=c(R.prev,R,R.next)){B=!1;break a}R=R.prevZ}B=!0}}else B=r(a);if(B)b.push(A.i/d),b.push(a.i/d),b.push(x.i/d),q(a),u=a=x.next;else{if(p)break;a=x;if(a===u){if(!t)m(k(a),b,d,f,h,n,1);else if(1===t){t=b;u=d;A=a;do x=A.prev,B=A.next.next,!e(x,B)&&g(x,A,A.next,B)&&y(x,B)&&y(B,x)&&(t.push(x.i/u),t.push(A.i/u),t.push(B.i/u),q(A),q(A.next),A=a=B),A=A.next;while(A!==a);a=A;m(a,b,d,f,h,n,2)}else if(2===t)a:{t=a;do{for(u=t.next.next;u!==t.prev;){if(A=t.i!==u.i){A=t;x=u;
B=void 0;if(B=A.next.i!==x.i&&A.prev.i!==x.i){B=void 0;b:{B=A;do{if(B.i!==A.i&&B.next.i!==A.i&&B.i!==x.i&&B.next.i!==x.i&&g(B,B.next,A,x)){B=!0;break b}B=B.next}while(B!==A);B=!1}B=!B}D=void 0;if(D=B&&y(A,x)&&y(x,A)){B=A;D=!1;C=(A.x+x.x)/2;x=(A.y+x.y)/2;do B.y>x!==B.next.y>x&&C<(B.next.x-B.x)*(x-B.y)/(B.next.y-B.y)+B.x&&(D=!D),B=B.next;while(B!==A)}A=D}if(A){a=w(t,u);t=k(t,t.next);a=k(a,a.next);m(t,b,d,f,h,n);m(a,b,d,f,h,n);break a}u=u.next}t=t.next}while(t!==a)}break}}}}}function r(a){var b=a.prev,
d=a.next;if(0<=c(b,a,d))return!1;for(var e=a.next.next,g=0;e!==a.prev;){if(l(b.x,b.y,a.x,a.y,d.x,d.y,e.x,e.y)&&0<=c(e.prev,e,e.next))return!1;e=e.next;if(g++>f)return p=!0,!1}return!0}function h(a,b){return a.x-b.x}function u(a,b){var c=b,d=a.x,e=a.y,f=-Infinity,g;do{if(!c)return null;if(e<=c.y&&e>=c.next.y){var h=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>f){f=h;if(h===d){if(e===c.y)return c;if(e===c.next.y)return c.next}g=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!g)return null;
if(d===f)return g.prev;b=g;for(var h=g.x,n=g.y,k=Infinity,q,c=g.next;c!==b;)d>=c.x&&c.x>=h&&l(e<n?d:f,e,h,n,e<n?f:d,e,c.x,c.y)&&(q=Math.abs(e-c.y)/(d-c.x),(q<k||q===k&&c.x>g.x)&&y(c,a)&&(g=c,k=q)),c=c.next;return g}function v(a,b,c,d,e){a=32767*(a-c)/e;b=32767*(b-d)/e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function x(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==
a);return c}function l(a,b,c,d,e,f,g,h){return 0<=(e-g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function c(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function e(a,b){return a.x===b.x&&a.y===b.y}function g(a,b,d,f){return e(a,b)&&e(d,f)||e(a,f)&&e(d,b)?!0:0<c(a,b,d)!==0<c(a,b,f)&&0<c(d,f,a)!==0<c(d,f,b)}function y(a,b){return 0>c(a.prev,a,a.next)?0<=c(a,b,a.next)&&0<=c(a,a.prev,b):0>c(a,b,a.prev)||0>c(a,a.next,b)}function w(a,b){var c=new n(a.i,a.x,a.y),
d=new n(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function t(a,b,c,d){a=new n(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function q(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function n(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function d(a,b,c,d){for(var e=0,f=
c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}var f,p;a.deviation=function(a,b,c,e){var f=b&&b.length,g=Math.abs(d(a,0,f?b[0]*c:a.length,c));if(f)for(var f=0,h=b.length;f<h;f++)g-=Math.abs(d(a,b[f]*c,f<h-1?b[f+1]*c:a.length,c));for(f=b=0;f<e.length;f+=3){var h=e[f]*c,l=e[f+1]*c,n=e[f+2]*c;b+=Math.abs((a[h]-a[n])*(a[l+1]-a[h+1])-(a[h]-a[l])*(a[n+1]-a[h+1]))}return 0===g&&0===b?0:Math.abs((b-g)/g)};a.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=
0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);0<e&&(d+=a[e-1].length,c.holes.push(d))}return c};return a})},"esri/geometry/support/coordsUtils":function(){define(["require","exports"],function(a,b){function k(a,b){var h=b[0]-a[0],k=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(h*h+k*k+a*a)):Math.sqrt(h*h+k*k)}function m(a,b,k){var h=a[0]+k*(b[0]-a[0]),m=a[1]+k*(b[1]-a[1]);return 2<a.length&&2<b.length?[h,m,a[2]+k*(b[2]-a[2])]:[h,m]}
Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,k=a.hasM;if("point"===a.type)return k&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:k?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var m=!1,r=!1;a.forEach(function(a){a.hasZ&&(m=!0);
a.hasM&&(r=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(m&&a.hasZ)for(var e=.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(e);if(r&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b})}return null};b.getLength=k;b.getMidpoint=function(a,b){return m(a,b,.5)};b.getPathLength=function(a){for(var b=a.length,m=0,v=0;v<b-1;++v)m+=k(a[v],a[v+1]);return m};b.getPointOnPath=function(a,b){if(0>=b)return a[0];
for(var h=a.length,v=0,r=0;r<h-1;++r){var l=k(a[r],a[r+1]);if(b-v<l)return m(a[r],a[r+1],(b-v)/l);v+=l}return a[h-1]};b.isClockwise=function(a,b,k){for(var h=a.length,m=0,l=0,c=0,e=0;e<h;e++){var g=a[e],y=a[(e+1)%h],w=2,m=m+(g[0]*y[1]-y[0]*g[1]);2<g.length&&2<y.length&&k&&(l+=g[0]*y[2]-y[0]*g[2],w=3);g.length>w&&y.length>w&&b&&(c+=g[0]*y[w]-y[0]*g[w])}return 0>=m&&0>=l&&0>=c}})},"esri/geometry/support/meshUtils/centerAt":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/glMatrix ../../../views/3d/support/projectionUtils".split(" "),
function(a,b,k,m,r,h){Object.defineProperty(b,"__esModule",{value:!0});var u=k.getLogger("esri.geometry.support.meshUtils.centerAt");b.centerAt=function(a,b,k){if(a.vertexAttributes&&a.vertexAttributes.position){var e=a.spatialReference,g=k&&k.origin||a.extent.center;if(e.isWGS84||e.isWebMercator&&(!k||!1!==k.geographic)){k=a.spatialReference;var e=x,q=v;if(h.pointToVector(b,q,h.SphericalECEFSpatialReference)){h.pointToVector(g,e,h.SphericalECEFSpatialReference)||h.pointToVector(a.extent.center,e,
h.SphericalECEFSpatialReference);g=a.vertexAttributes.position;b=a.vertexAttributes.normal;var n=new Float64Array(g.length),d=new Float32Array(b?b.length:0);m.projectToECEF(g,k,n);b&&m.projectNormalToECEF(b,g,n,k,d);h.computeLinearTransformation(h.SphericalECEFSpatialReference,e,l,h.SphericalECEFSpatialReference);h.computeLinearTransformation(h.SphericalECEFSpatialReference,q,c,h.SphericalECEFSpatialReference);r.mat4d.inverse(l);r.mat4d.multiply(c,l,c);m.transformBufferInPlace(n,c);r.mat4d.inverse(c);
r.mat4d.transpose(c);b&&m.transformBufferInPlace(d,c,!0);m.projectFromECEF(n,g,k);b&&m.projectNormalFromECEF(d,g,n,k,b);a.clearCache()}else u.error("Failed to project centerAt location (wkid:"+b.spatialReference.wkid+") to ECEF")}else if(k=x,e=v,h.pointToVector(b,e,a.spatialReference)){h.pointToVector(g,k,a.spatialReference)||(b=a.extent.center,k[0]=b.x,k[1]=b.y,k[2]=b.z,u.error("Failed to project specified origin (wkid:"+g.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+
"). Using mesh extent.center instead"));if(g=a.vertexAttributes.position)for(b=0;b<g.length;b+=3)for(q=0;3>q;q++)g[b+q]+=e[q]-k[q];a.clearCache()}else u.error("Failed to project centerAt location (wkid:"+b.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+")")}};var v=r.vec3d.create(),x=r.vec3d.create(),l=r.mat4d.create(),c=r.mat4d.create()})},"esri/geometry/support/meshUtils/projection":function(){define(["require","exports","../../../core/Logger","../../../views/3d/lib/glMatrix",
"../../../views/3d/support/projectionUtils"],function(a,b,k,m,r){function h(a,b,h,k,t,q){if(b){t=t.isWGS84;for(var e=0;e<b.length;e+=3){for(var d=0;3>d;d++)v[d]=k[e+d],x[d]=b[e+d];r.computeLinearTransformation(r.SphericalECEFSpatialReference,v,l,r.SphericalECEFSpatialReference);m.mat4d.toMat3(l,c);t?m.mat3d.multiplyVec3(c,x):(d=r.webMercator.y2lat(h[e+1]),d=Math.cos(d),0===a&&(d=1/d),c[0]*=d,c[1]*=d,c[2]*=d,c[3]*=d,c[4]*=d,c[5]*=d,1===a&&m.mat3d.transpose(c),m.mat3d.multiplyVec3(c,x),m.vec3d.normalize(x));
for(d=0;3>d;d++)q[e+d]=x[d]}return q}}Object.defineProperty(b,"__esModule",{value:!0});var u=k.getLogger("esri.geometry.support.meshUtils.normalProjection");b.projectNormalToECEF=function(a,b,c,l,k){return l.isWebMercator||l.isWGS84?h(0,a,b,c,l,k):(u.error("Cannot convert PCS spatial reference buffer to ECEF"),k)};b.projectNormalFromECEF=function(a,b,c,l,k){return l.isWebMercator||l.isWGS84?h(1,a,b,c,l,k):(u.error("Cannot convert to PCS spatial reference buffer from ECEF"),k)};b.projectToECEF=function(a,
b,c){r.bufferToBuffer(a,b,0,c,r.SphericalECEFSpatialReference,0,a.length/3);return c};b.projectFromECEF=function(a,b,c){r.bufferToBuffer(a,r.SphericalECEFSpatialReference,0,b,c,0,a.length/3);return b};b.transformBufferInPlace=function(a,b,c){void 0===c&&(c=!1);if(a)for(var e=0;e<a.length;e+=3){for(var g=0;3>g;g++)v[g]=a[e+g];m.mat4d.multiplyVec3(b,v);c&&m.vec3d.normalize(v);for(g=0;3>g;g++)a[e+g]=v[g]}};var v=m.vec3d.create(),x=m.vec3d.create(),l=m.mat4d.create(),c=m.mat3d.create()})},"esri/geometry/support/meshUtils/offset":function(){define(["require",
"exports","./projection","../../../views/3d/lib/glMatrix","../../../views/3d/support/projectionUtils"],function(a,b,k,m,r){function h(a,b){if(a)for(var c=0;c<a.length;c+=3)for(var g=0;3>g;g++)a[c+g]+=b[g]}Object.defineProperty(b,"__esModule",{value:!0});b.offset=function(a,b,e){if(a.vertexAttributes&&a.vertexAttributes.position){var c=a.spatialReference;if(c.isWGS84||c.isWebMercator&&(!e||!1!==e.geographic)){e=a.spatialReference;var c=a.vertexAttributes.position,l=a.vertexAttributes.normal,w=new Float64Array(c.length),
t=new Float32Array(l?l.length:0),q=a.extent.center,n=u;r.computeLinearTransformation(e,[q.x,q.y,q.z],v,r.SphericalECEFSpatialReference);m.mat4d.toMat3(v,x);m.mat3d.multiplyVec3(x,b,n);k.projectToECEF(c,e,w);l&&k.projectNormalToECEF(l,c,w,e,t);h(w,n);k.projectFromECEF(w,c,e);l&&k.projectNormalFromECEF(t,c,w,e,l)}else h(a.vertexAttributes.position,b);a.clearCache()}};var u=m.vec3d.create(),v=m.mat4d.create(),x=m.mat3d.create()})},"esri/geometry/support/meshUtils/primitives":function(){define(["require",
"exports","../../../geometry","./georeference","../../../views/3d/lib/glMatrix"],function(a,b,k,m,r){Object.defineProperty(b,"__esModule",{value:!0});b.createUnitSizeBox=function(){for(var a=u.faceDescriptions,b=u.faceVertexOffsets,e=u.uvScales,g=4*a.length,h=new Float64Array(3*g),k=new Float32Array(3*g),g=new Float32Array(2*g),t=new Uint32Array(6*a.length),q=0,n=0,d=0,f=0,p=0;p<a.length;p++){for(var m=a[p],v=q/3,r=0,x=b;r<x.length;r++){var E=x[r];t[f++]=v+E}v=m.corners;for(r=0;4>r;r++){x=v[r];E=
0;g[d++]=.25*e[r][0]+m.uvOrigin[0];g[d++]=m.uvOrigin[1]-.25*e[r][1];for(var C=0;3>C;C++)0!==m.axis[C]?(h[q++]=.5*m.axis[C],k[n++]=m.axis[C]):(h[q++]=.5*x[E++],k[n++]=0)}}return{position:h,normal:k,uv:g,faces:t}};b.createUnitSizeSphere=function(a){void 0===a&&(a=0);a=Math.round(8*Math.pow(2,a));for(var b=2*a,e=(a-1)*(b+1)+2*b,g=new Float64Array(3*e),h=new Float32Array(3*e),e=new Float32Array(2*e),l=new Uint32Array((a-1)*b*6),k=0,q=0,n=0,d=0,f=0,p=0;p<=a;p++){var m=p/a*Math.PI+.5*Math.PI,u=Math.cos(m);
v[2]=Math.sin(m);for(var r=(m=0===p||p===a)?b-1:b,x=0;x<=r;x++){var E=x/r*2*Math.PI;v[0]=-Math.sin(E)*u;v[1]=Math.cos(E)*u;for(E=0;3>E;E++)g[k++]=.5*v[E],h[q++]=v[E];e[n++]=(x+(m?.5:0))/b;e[n++]=p/a;0!==p&&x!==b&&(p!==a&&(l[d++]=f,l[d++]=f+1,l[d++]=f-b),1!==p&&(l[d++]=f,l[d++]=f-b,l[d++]=f-b-1));f++}}return{position:g,normal:h,uv:e,faces:l}};b.createUnitSizeCylinder=function(a){void 0===a&&(a=0);a=Math.round(16*Math.pow(2,a));for(var b=4*(a+1)+2*a,e=new Float64Array(3*b),g=new Float32Array(3*b),b=
new Float32Array(2*b),h=new Uint32Array(12*a),l=0,k=0,q=0,n=0,d=0,f=0;5>=f;f++)for(var p=0===f||5===f,m=1>=f||4<=f,u=2===f||4===f,r=p?a-1:a,x=0;x<=r;x++){var E=x/r*2*Math.PI,C=p?0:.5;v[0]=C*Math.sin(E);v[1]=C*-Math.cos(E);v[2]=2>=f?.5:-.5;for(E=0;3>E;E++)e[l++]=v[E],m?g[k++]=2===E?1>=f?1:-1:0:g[k++]=2===E?0:v[E]/C;b[q++]=(x+(p?.5:0))/a;1>=f?b[q++]=1*f/3:3>=f?b[q++]=1*(f-2)/3+1/3:b[q++]=1*(f-4)/3+2/3;u||0===f||x===a||(5!==f&&(h[n++]=d,h[n++]=d+1,h[n++]=d-a),1!==f&&(h[n++]=d,h[n++]=d-a,h[n++]=d-a-1));
d++}return{position:e,normal:g,uv:b,faces:h}};b.createUnitSizePlane=function(a){a=h.facingAxisOrderSwap[a];for(var b=h.position,e=h.normal,g=new Float64Array(b.length),l=new Float32Array(e.length),k=0,t=0;4>t;t++)for(var q=k,n=0;3>n;n++){var d=a[n],f=Math.abs(d)-1,d=0<=d?1:-1;g[k]=b[q+f]*d;l[k]=e[q+f]*d;k++}return{position:g,normal:l,uv:new Float32Array(h.uv),faces:new Uint32Array(h.faces)}};var h={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],
faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};b.convertUnitGeometry=function(a,b,e){for(var c=0;c<a.position.length;c+=3)a.position[c+2]+=.5;c=e&&e.size;if(null!=c){c="number"===typeof c?[c,c,c]:[null!=c.width?c.width:1,null!=c.depth?c.depth:1,null!=c.height?c.height:1];x[0]=c[0];x[4]=c[1];x[8]=c[2];for(var h=0;h<a.position.length;h+=3){for(var l=0;3>l;l++)v[l]=a.position[h+l];r.mat3d.multiplyVec3(x,v);for(l=0;3>l;l++)a.position[h+
l]=v[l]}if(c[0]!==c[1]||c[1]!==c[2])for(x[0]=1/c[0],x[4]=1/c[1],x[8]=1/c[2],h=0;h<a.normal.length;h+=3){for(l=0;3>l;l++)v[l]=a.normal[h+l];r.mat3d.multiplyVec3(x,v);r.vec3d.normalize(v);for(l=0;3>l;l++)a.normal[h+l]=v[l]}}c=m.georeference(a,b,e);return new k.Mesh({vertexAttributes:{position:c.position,normal:c.normal,uv:a.uv},components:[{faces:a.faces,material:e&&e.material||null}],spatialReference:b.spatialReference})};var u={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,
-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]};b.boxFaceOrder={south:0,east:1,north:2,west:3,up:4,
down:5};var v=r.vec3d.create(),x=r.mat3d.identity()})},"esri/geometry/support/meshUtils/georeference":function(){define(["require","exports","../../../views/3d/lib/glMatrix","../../../views/3d/support/projectionUtils"],function(a,b,k,m){Object.defineProperty(b,"__esModule",{value:!0});b.georeference=function(a,b,x){var l=b.spatialReference;if(l.isWGS84||l.isWebMercator&&(!x||!1!==x.geographic)){x=b.spatialReference;m.computeLinearTransformation(b.spatialReference,[b.x,b.y,b.z||0],r,m.SphericalECEFSpatialReference);
var l=a.position,c=r,e=b.spatialReference,g=new Float64Array(l.length);for(b=0;b<l.length;b+=3){for(var u=0;3>u;u++)h[u]=l[b+u];k.mat4d.multiplyVec3(c,h);for(u=0;3>u;u++)g[b+u]=h[u]}b=new Float64Array(l.length);m.bufferToBuffer(g,m.SphericalECEFSpatialReference,0,b,e,0,g.length/3);a=a.normal;if(x.isWebMercator&&a){x=new Float32Array(a.length);for(l=0;l<a.length;l+=3)for(c=m.webMercator.y2lat(b[l+1]),c=Math.cos(c),h[0]=a[l+0]*c,h[1]=a[l+1]*c,h[2]=a[l+2],k.vec3d.normalize(h),c=0;3>c;c++)x[l+c]=h[c];
a=x}a={position:b,normal:a}}else{x=new Float64Array(a.position.length);l=a.position;for(c=0;c<l.length;c+=3)x[c+0]=l[c+0]+b.x,x[c+1]=l[c+1]+b.y,x[c+2]=l[c+2]+(b.z||0);a={position:x,normal:a.normal}}return a};var r=k.mat4d.create(),h=k.vec3d.create()})},"esri/geometry/support/meshUtils/rotate":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/glMatrix ../../../views/3d/support/projectionUtils".split(" "),function(a,b,k,m,r,h){function u(a,b,c){void 0===c&&(c=
w);if(a)for(r.mat4d.identity(g),r.mat4d.rotate(g,b[3],b),b=0;b<a.length;b+=3){for(var d=0;3>d;d++)x[d]=a[b+d]-c[d];r.mat4d.multiplyVec3(g,x);for(d=0;3>d;d++)a[b+d]=x[d]+c[d]}}Object.defineProperty(b,"__esModule",{value:!0});var v=k.getLogger("esri.geometry.support.meshUtils.rotate");b.rotate=function(a,b,c){if(a.vertexAttributes&&a.vertexAttributes.position&&0!==b[3]){var d=a.spatialReference,e=c&&c.origin||a.extent.center;if(d.isWGS84||d.isWebMercator&&(!c||!1!==c.geographic)){c=a.spatialReference;
d=t;h.pointToVector(e,d,h.SphericalECEFSpatialReference)||h.pointToVector(a.extent.center,d,h.SphericalECEFSpatialReference);var e=a.vertexAttributes.position,k=a.vertexAttributes.normal,n=new Float64Array(e.length),q=new Float32Array(k?k.length:0);h.computeLinearTransformation(h.SphericalECEFSpatialReference,d,g,h.SphericalECEFSpatialReference);r.mat4d.toMat3(g,y);var w=r.mat3d.multiplyVec3(y,b,l);w[3]=b[3];m.projectToECEF(e,c,n);k&&m.projectNormalToECEF(k,e,n,c,q);u(n,w,d);m.projectFromECEF(n,e,
c);k&&(u(q,w),m.projectNormalFromECEF(q,e,n,c,k))}else c=t,h.pointToVector(e,c,a.spatialReference)||(d=a.extent.center,c[0]=d.x,c[1]=d.y,c[2]=d.z,v.error("Failed to project specified origin (wkid:"+e.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+"). Using mesh extent.center instead")),u(a.vertexAttributes.position,b,c),u(a.vertexAttributes.normal,b);a.clearCache()}};b.axisAngleFrom=function(a,b,c){r.vec3d.set(a,c);c[3]=b;return c};b.axisAngleMultiply=function(a,
b,d){r.quat4d.fromAngleAxis(a[3],a,c);r.quat4d.fromAngleAxis(b[3],b,e);r.quat4d.multiply(e,c,c);r.quat4d.toAngleAxis(c,d);return d};var x=r.vec3d.create(),l=r.vec4d.create(),c=r.quat4d.create(),e=r.quat4d.create(),g=r.mat4d.create(),y=r.mat3d.create(),w=[0,0,0],t=[0,0,0]})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,k,m,r,h,u,v,x,l){function c(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}k(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new u,e=this.hasZ,g=this.hasM,d=e?3:2,f=a[0],h=c(Math.min),l=c(Math.max),k=f[0],m=f[1],y=f[0],f=f[1],r,v,x,P,T=0,Y=a.length;T<Y;T++){var O=
a[T],U=O[0],V=O[1],k=h(k,U),m=h(m,V),y=l(y,U),f=l(f,V);e&&2<O.length&&(U=O[2],r=h(r,U),x=l(x,U));g&&O.length>d&&(O=O[d],v=h(v,O),P=l(P,O))}b.xmin=k;b.ymin=m;b.xmax=y;b.ymax=f;b.spatialReference=this.spatialReference;e?(b.zmin=r,b.zmax=x):(b.zmin=null,b.zmax=null);g?(b.mmin=v,b.mmax=P):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b,c,e){b.points=r.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();l.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:r.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new e(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new x(b)};b.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new x(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();l.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var e;m([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);m([h.property({dependsOn:["cache"]})],
b.prototype,"extent",null);m([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);m([h.writer("points")],b.prototype,"writePoints",null);return b=e=m([h.subclass("esri.geometry.Multipoint")],b)}(h.declared(v));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=function(a,b,r){void 0===r&&(r=!1);var h=a.hasM,
k=a.hasZ;Array.isArray(b)?4!==b.length||h||k?3===b.length&&r&&!h?(k=!0,h=!1):3===b.length&&h&&k&&(k=h=!1):k=h=!0:(k=!k&&b.hasZ&&(!h||b.hasM),h=!h&&b.hasM&&(!k||b.hasZ));a.hasZ=k;a.hasM=h}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,k,m,r,h,u,v,x,l,c,e,g,y,w,t){function q(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var n=q(Math.min),d=q(Math.max);a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}k(b,a);f=b;b.createEllipse=function(a){var b=a.center.x,c=a.center.y,d=a.center.z,e=a.center.m,g=a.center.hasZ,h=a.center.hasM,l=a.longAxis,k=a.shortAxis,n=a.numberOfPoints;a=a.view;for(var q=[],t=2*Math.PI/n,p=g?3:2,m=0;m<n;m++){var u=
a.toMap(l*Math.cos(m*t)+b,k*Math.sin(m*t)+c),u=[u.x,u.y];g&&(u[2]=d);h&&(u[p]=e);q.push(u)}q.push(q[0]);return new f({rings:[q],spatialReference:a.spatialReference})};b.createCircle=function(a){return f.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,
a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var e=a.zmin+.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(e);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new f(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,e,f=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),d=a.hasZ,e=a.hasM):c=a;c=c||[];b=b||l.WGS84;
c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(f=c[0]&&c[0][0])void 0===d&&void 0===e?(d=2<f.length,e=!1):void 0===d?d=!e&&3<f.length:void 0===e&&(e=!d&&3<f.length);return{rings:c,spatialReference:b,hasZ:d,hasM:e}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=c.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new x;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,c=this.spatialReference,e=this.rings,f=a?3:2;if(!e.length||!e[0].length)return null;for(var g=e[0][0],h=g[0],g=g[1],l=e[0][0],k=l[0],l=l[1],q=void 0,t=void 0,m=void 0,p=void 0,y=[],r=0;r<e.length;r++){for(var w=e[r],v=w[0],x=v[0],v=v[1],z=w[0],M=z[0],z=z[1],J=void 0,I=void 0,N=void 0,S=void 0,X=0;X<w.length;X++){var F=w[X],aa=F[0],ea=F[1],h=n(h,aa),g=n(g,ea),k=d(k,aa),l=d(l,ea),x=n(x,aa),v=n(v,
ea),M=d(M,aa),z=d(z,ea);a&&2<F.length&&(aa=F[2],q=n(q,aa),t=d(t,aa),J=n(J,aa),I=d(I,aa));b&&F.length>f&&(S=F[f],m=n(q,S),p=d(t,S),N=n(J,S),S=d(I,S))}y.push(new u({xmin:x,ymin:v,zmin:J,mmin:N,xmax:M,ymax:z,zmax:I,mmax:S,spatialReference:c}))}e=new u;e.xmin=h;e.ymin=g;e.xmax=k;e.ymax=l;e.spatialReference=c;a&&(e.zmin=q,e.zmax=t);b&&(e.mmin=m,e.mmax=p);e.cache._partwise=1<y.length?y:null;return e},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return y.isSelfIntersecting(this.rings)},
enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.rings=r.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new f;a.spatialReference=this.spatialReference;a.rings=r.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;
w.canProject(a,this.spatialReference)&&(a=w.project(a,this.spatialReference));return e.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return g.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new x(a[0],a[1],a[2],void 0,this.spatialReference):
c&&!b?new x(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new x(a[0],a[1],a[2],a[3],this.spatialReference):new x(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();t.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new x(this.rings[a].splice(b,1)[0],
this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new x(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();t.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>
a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var f;m([h.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);m([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",null);m([h.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);m([h.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);m([h.property({type:[[[Number]]],
json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);m([h.writer("rings")],b.prototype,"writePaths",null);return b=f=m([h.subclass("esri.geometry.Polygon")],b)}(h.declared(v));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports","../support/coordsUtils"],function(a,b,k){function m(a,b){if(!a||!a.length)return null;for(var k=[],l=[],c=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,
-Infinity],e=0,g=a.length;e<g;e++){var m=r(a[e],b,c);m&&l.push(m)}l.sort(function(a,c){var e=a[2]-c[2];0===e&&b&&(e=a[4]-c[4]);return e});l.length&&(e=6*l[0][2],k[0]=l[0][0]/e,k[1]=l[0][1]/e,b&&(e=6*l[0][4],k[2]=0!==e?l[0][3]/e:0),k[0]<c[0]||k[0]>c[1]||k[1]<c[2]||k[1]>c[3]||b&&(k[2]<c[4]||k[2]>c[5]))&&(k.length=0);if(!k.length)if(a=a[0]&&a[0].length?h(a[0],b):null)k[0]=a[0],k[1]=a[1],b&&2<a.length&&(k[2]=a[2]);else return null;return k}function r(a,b,h){for(var l=0,c=0,e=0,g=0,k=0,m=0,t=a.length-
1;m<t;m++){var q=a[m],n=q[0],d=q[1],f=q[2],p=a[m+1],u=p[0],r=p[1],v=p[2],x=n*r-u*d,g=g+x,l=l+(n+u)*x,c=c+(d+r)*x;b&&2<q.length&&2<p.length&&(x=n*v-u*f,e+=(f+v)*x,k+=x);n<h[0]&&(h[0]=n);n>h[1]&&(h[1]=n);d<h[2]&&(h[2]=d);d>h[3]&&(h[3]=d);b&&(f<h[4]&&(h[4]=f),f>h[5]&&(h[5]=f))}0<g&&(g*=-1);0<k&&(k*=-1);if(!g)return null;a=[l,c,.5*g];b&&(a[3]=e,a[4]=.5*k);return a}function h(a,b){for(var h=b?[0,0,0]:[0,0],l=b?[0,0,0]:[0,0],c=0,e=0,g=0,m=0,u=0,t=a.length;u<t-1;u++){var q=a[u],n=a[u+1];if(q&&n){h[0]=q[0];
h[1]=q[1];l[0]=n[0];l[1]=n[1];b&&2<q.length&&2<n.length&&(h[2]=q[2],l[2]=n[2]);var d=k.getLength(h,l);d&&(c+=d,q=k.getMidpoint(q,n),e+=d*q[0],g+=d*q[1],b&&2<q.length&&(m+=d*q[2]))}}return 0<c?b?[e/c,g/c,m/c]:[e/c,g/c]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?m(a.rings,a.hasZ):null};b.ringsCentroid=m;
b.lineCentroid=h})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/zmUtils".split(" "),function(a,b,k,m,r,h,u,v,x,l,c){function e(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var g=e(Math.min),y=e(Math.max);a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.paths=
[];b.type="polyline";return b}k(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,e,g=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,e=a.hasM):c=a;c=c||[];b=b||l.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(g=c[0]&&c[0][0])void 0===d&&void 0===e?(d=2<g.length,e=!1):void 0===d?d=!e&&3<g.length:void 0===e&&(e=!d&&3<g.length);return{paths:c,spatialReference:b,hasZ:d,hasM:e}};Object.defineProperty(b.prototype,
"extent",{get:function(){var a=this.hasZ,b=this.hasM,c=this.spatialReference,e=this.paths,h=a?3:2;if(!e.length||!e[0].length)return null;for(var k=e[0][0],l=k[0],k=k[1],q=e[0][0],m=q[0],q=q[1],t=void 0,r=void 0,w=void 0,v=void 0,x=[],O=0;O<e.length;O++){for(var U=e[O],V=U[0],L=V[0],V=V[1],K=U[0],W=K[0],K=K[1],R=void 0,Z=void 0,Q=void 0,H=void 0,M=0;M<U.length;M++){var J=U[M],I=J[0],N=J[1],l=g(l,I),k=g(k,N),m=y(m,I),q=y(q,N),L=g(L,I),V=g(V,N),W=y(W,I),K=y(K,N);a&&2<J.length&&(I=J[2],t=g(t,I),r=y(r,
I),R=g(R,I),Z=y(Z,I));b&&J.length>h&&(H=J[h],w=g(t,H),v=y(r,H),Q=g(R,H),H=y(Z,H))}x.push(new u({xmin:L,ymin:V,zmin:R,mmin:Q,xmax:W,ymax:K,zmax:Z,mmax:H,spatialReference:c}))}e=new u;e.xmin=l;e.ymin=k;e.xmax=m;e.ymax=q;e.spatialReference=c;a&&(e.zmin=t,e.zmax=r);b&&(e.mmin=w,e.mmax=v);e.cache._partwise=1<x.length?x:null;return e},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,e){b.paths=r.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,
c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=[],g=0,h=a.length;g<h;g++)e[g]=a[g].toArray();b[c]=e}return this}};b.prototype.clone=function(){var a=new e;a.spatialReference=this.spatialReference;a.paths=r.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new x(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new x(a[0],a[1],void 0,
a[2],this.spatialReference):b&&c?new x(a[0],a[1],a[2],a[3],this.spatialReference):new x(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,e){if(!this._validateInputs(a,b,!0))return this;this.clearCache();c.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[a].splice(b,0,e);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new x(a,
b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new x(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,e){if(!this._validateInputs(a,b))return this;this.clearCache();c.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[a][b]=e;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&
(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var e;m([h.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);m([h.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);m([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);m([h.writer("paths")],b.prototype,"writePaths",null);return b=e=m([h.subclass("esri.geometry.Polyline")],b)}(h.declared(v));a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/ScreenPoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,b,k,m,r,h){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;return b}k(b,a);r=b;b.prototype.normalizeCtorArgs=function(a,b){return"number"===typeof a?{x:a,y:b}:Array.isArray(a)?{x:a[0],y:a[1]}:
a};b.prototype.clone=function(){return new r({x:this.x,y:this.y,z:this.z})};b.prototype.toArray=function(){return null==this.z?[this.x,this.y]:[this.x,this.y,this.z]};var r;m([h.property({type:Number})],b.prototype,"x",void 0);m([h.property({type:Number})],b.prototype,"y",void 0);m([h.property({type:Number})],b.prototype,"z",void 0);return b=r=m([h.subclass("esri.geometry.ScreenPoint")],b)}(h.declared(r))})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(a,b,k,m,r,h,u){function v(a){return void 0!==a.points}function x(a){return void 0!==a.x&&void 0!==a.y}function l(a){return void 0!==a.paths}function c(a){return void 0!==a.rings}function e(a){if(a){if(x(a))return r.fromJSON(a);if(l(a))return u.fromJSON(a);if(c(a))return h.fromJSON(a);if(v(a))return m.fromJSON(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return k.fromJSON(a)}return null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(w){console.warn(w.stack)}return e(a)};b.isMultipoint=v;b.isPoint=x;b.isPolyline=l;b.isPolygon=c;b.fromJSON=e;b.getJsonType=function(a){return a instanceof r?"esriGeometryPoint":a instanceof u?"esriGeometryPolyline":a instanceof h?"esriGeometryPolygon":a instanceof k?"esriGeometryEnvelope":a instanceof m?"esriGeometryMultipoint":null};var g={esriGeometryPoint:r,esriGeometryPolyline:u,esriGeometryPolygon:h,esriGeometryEnvelope:k,esriGeometryMultipoint:m};b.getGeometryType=function(a){return a&&
g[a]||null}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ../lib/glMatrix ./mathUtils".split(" "),function(a,b,k,m,r,h,u){function v(a,c,e,h){var g,l;a instanceof k&&c instanceof k&&(e=c.longitude,h=c.latitude,l=a.latitude,g=a.longitude);a=u.deg2rad(l);h=u.deg2rad(h);g=u.deg2rad(g);c=u.deg2rad(e);e=Math.sin((a-h)/2);g=Math.sin((g-c)/2);e=2*u.asin(Math.sqrt(e*e+Math.cos(a)*
Math.cos(h)*g*g))*b.earthRadius;return Math.round(1E4*e)/1E4}function x(a,c,e){a=e/b.earthRadius;c=u.deg2rad(c);a=Math.sin(a/2);c=Math.cos(c);c=2*u.asin(Math.sqrt(a*a/(c*c)));return u.rad2deg(c)}function l(a,c,e){return u.rad2deg(e/b.earthRadius)}function c(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);
b.wgs84Eccentricity=.0818191908426215;b.earthRadius=b.wgs84Radius;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;var e=new k(0,0,m.WGS84);b.getGreatCircleDistance=v;b.getGreatCircleSpanAt=function(a,b,c){var e=b.spatialReference,g=new k(b.x,a.y,e),h=new k(c.x,a.y,e);b=new k(a.x,b.y,e);a=new k(a.x,c.y,e);return{lon:v(g,h),lat:v(b,a)}};b.getLonDeltaForDistance=x;b.getLatDeltaForDistance=l;b.getLatLonDeltaForDistance=
function(a,b,c){return{lat:l(a,b,c),lon:x(a,b,c)}};b.getMaxCameraAltitude=function(a){a=u.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=u.deg2rad(c/2);return 2*u.acos((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*b.earthRadius))*b.earthRadius};b.computeCarthesianDistance=function(a,c){function e(a){var c=
u.deg2rad(a.latitude),e=u.deg2rad(a.longitude),d=Math.cos(c);a=b.earthRadius+(a.z||0);return[Math.cos(e)*d*a,Math.sin(c)*a,-Math.sin(e)*d*a]}a=e(a);c=e(c);c=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];return Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2])};b.longitudeToTimezone=c;b.positionToTimezone=function(a,b){a.spatialReference.wkid!==m.WGS84.wkid?r.webMercatorToGeographic(a,!1,e):(e.x=a.x,e.y=a.y);e.z=a.z;b||(b={hours:0,minutes:0,seconds:0});b.hours=c(e.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%
1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;a=h.vec3d.dot(a,a);return Math.sqrt(Math.abs(a-c*c))}})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var h=a[b],k=a[b+1];a=a[b+2];return Math.sqrt(h*h+k*k+a*a)};a.normalize=function(a,b){var h=a[b],k=a[b+1],m=a[b+2],h=1/Math.sqrt(h*h+k*k+m*m);a[b]*=
h;a[b+1]*=h;a[b+2]*=h};a.scale=function(a,b,h){a[b]*=h;a[b+1]*=h;a[b+2]*=h};a.add=function(a,b,h,k,v,x){void 0===x&&(x=b);v=v||a;v[x]=a[b]+h[k];v[x+1]=a[b+1]+h[k+1];v[x+2]=a[b+2]+h[k+2]};a.subtract=function(a,b,h,k,v,x){void 0===x&&(x=b);v=v||a;v[x]=a[b]-h[k];v[x+1]=a[b+1]-h[k+1];v[x+2]=a[b+2]-h[k+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../geometry/support/aaBoundingBox ../lib/glMatrix ./dito ./geometryUtils".split(" "),
function(a,b,k,m,r,h){function u(a,b,e){return{center:m.vec3d.createFrom(a[0],a[1],a[2]),halfSize:c.createFrom(b[0],b[1],b[2]),quaternion:l.createFrom(e[0],e[1],e[2],e[3])}}function v(a,b){var c=h.plane.distance(b,a.center);a=x(a,b);return c>a?1:c<-a?-1:0}function x(a,b){l.conjugate(a.quaternion,e);l.multiplyVec3(e,b,g);a=a.halfSize;return Math.abs(g[0]*a[0])+Math.abs(g[1]*a[1])+Math.abs(g[2]*a[2])}Object.defineProperty(b,"__esModule",{value:!0});var l=m.quat4,c=m.vec3;a=m.mat3d;var e=l.create(),
g=c.create(),y=c.create(),w=a.create();a=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=0;b<a;b++)this.obbs[b]={center:new Float64Array(this.buffer,56*b+0,3),halfSize:new Float32Array(this.buffer,56*b+24,3),quaternion:new Float32Array(this.buffer,56*b+36,4)}}}();b.ObbArray=a;b.create=u;b.clone=function(a){return u(a.center,a.halfSize,a.quaternion)};b.set=function(a,b){m.vec3d.set(a.center,b.center);m.vec3.set(a.halfSize,b.halfSize);m.quat4.set(a.quaternion,
b.quaternion)};b.compute=function(a,b){b||(b=u([0,0,0],[-1,-1,-1],[0,0,0,1]));r.computeOBB(a,b);return b};b.intersectPlane=v;b.toAaBoundingBox=function(a,b){b||(b=k.create());var c=l.toMat3(a.quaternion,w),d=a.halfSize[0]*Math.abs(c[0])+a.halfSize[1]*Math.abs(c[3])+a.halfSize[2]*Math.abs(c[6]),e=a.halfSize[0]*Math.abs(c[1])+a.halfSize[1]*Math.abs(c[4])+a.halfSize[2]*Math.abs(c[7]),c=a.halfSize[0]*Math.abs(c[2])+a.halfSize[1]*Math.abs(c[5])+a.halfSize[2]*Math.abs(c[8]);b[0]=a.center[0]-d;b[1]=a.center[1]-
e;b[2]=a.center[2]-c;b[3]=a.center[0]+d;b[4]=a.center[1]+e;b[5]=a.center[2]+c;return b};b.minimumDistancePlane=function(a,b){var c=h.plane.distance(b,a.center);a=x(a,b);return c-a};b.maximumDistancePlane=function(a,b){var c=h.plane.distance(b,a.center);a=x(a,b);return c+a};b.isVisible=function(a,b){return 0>=v(a,b[0])&&0>=v(a,b[1])&&0>=v(a,b[2])&&0>=v(a,b[3])&&0>=v(a,b[4])&&0>=v(a,b[5])};b.intersectLine=function(a,b,c,d){void 0===d&&(d=0);l.conjugate(a.quaternion,e);m.vec3.subtract(b,a.center,g);
b=l.multiplyVec3(e,g,g);c=l.multiplyVec3(e,c,y);for(var f=-Infinity,h=Infinity,k=0;3>k;k++)if(1E-6<Math.abs(c[k]))var n=(d+a.halfSize[k]-b[k])/c[k],q=(-d-a.halfSize[k]-b[k])/c[k],f=Math.max(f,Math.min(n,q)),h=Math.min(h,Math.max(n,q));else if(b[k]>a.halfSize[k]+d||b[k]<-a.halfSize[k]-d)return!1;return f<=h}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(a,b,k,m){function r(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],
a[4],a[5]]}function h(a){return a[0]>=a[3]?0:a[3]-a[0]}function u(a){return a[1]>=a[4]?0:a[4]-a[1]}function v(a){return a[2]>=a[5]?0:a[5]-a[2]}function x(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function l(a){return 6===a.length}Object.defineProperty(b,"__esModule",{value:!0});b.create=r;b.fromValues=function(a,b,g,h,k,l){return[a,b,g,h,k,l]};b.fromExtent=function(a,b){void 0===b&&(b=r());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};
b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new k({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new k({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,g){void 0===g&&(g=r());g[0]=a[0];g[1]=a[1];g[2]=a[2];g[3]=b[0];g[4]=b[1];g[5]=b[2];return g};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=
b[2])};b.expand=function(a,b,g){void 0===g&&(g=a);l(b)?(g[0]=Math.min(a[0],b[0]),g[1]=Math.min(a[1],b[1]),g[2]=Math.min(a[2],b[2]),g[3]=Math.max(a[3],b[3]),g[4]=Math.max(a[4],b[4]),g[5]=Math.max(a[5],b[5])):m.is(b)?(g[0]=Math.min(a[0],b[0]),g[1]=Math.min(a[1],b[1]),g[3]=Math.max(a[3],b[2]),g[4]=Math.max(a[4],b[3])):2===b.length?(g[0]=Math.min(a[0],b[0]),g[1]=Math.min(a[1],b[1]),g[3]=Math.max(a[3],b[0]),g[4]=Math.max(a[4],b[1])):3===b.length&&(g[0]=Math.min(a[0],b[0]),g[1]=Math.min(a[1],b[1]),g[2]=
Math.min(a[2],b[2]),g[3]=Math.max(a[3],b[0]),g[4]=Math.max(a[4],b[1]),g[5]=Math.max(a[5],b[2]));return g};b.expandWithBuffer=function(a,b,g,h,k){void 0===k&&(k=a);var c=a[0],e=a[1],l=a[2],d=a[3],f=a[4];a=a[5];for(var m=0;m<h;m++)c=Math.min(c,b[g+3*m]),e=Math.min(e,b[g+3*m+1]),l=Math.min(l,b[g+3*m+2]),d=Math.max(d,b[g+3*m]),f=Math.max(f,b[g+3*m+1]),a=Math.max(a,b[g+3*m+2]);k[0]=c;k[1]=e;k[2]=l;k[3]=d;k[4]=f;k[5]=a;return k};b.expandWithNestedArray=function(a,b,g,h){void 0===h&&(h=a);var c=b.length,
e=a[0],k=a[1],l=a[2],d=a[3],f=a[4];a=a[5];if(g)for(g=0;g<c;g++){var m=b[g],e=Math.min(e,m[0]),k=Math.min(k,m[1]),l=Math.min(l,m[2]),d=Math.max(d,m[0]),f=Math.max(f,m[1]);a=Math.max(a,m[2])}else for(g=0;g<c;g++)m=b[g],e=Math.min(e,m[0]),k=Math.min(k,m[1]),d=Math.max(d,m[0]),f=Math.max(f,m[1]);h[0]=e;h[1]=k;h[2]=l;h[3]=d;h[4]=f;h[5]=a;return h};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=h;b.depth=u;b.height=v;b.diameter=function(a){var b=h(a),c=v(a);a=
u(a);return Math.sqrt(b*b+c*c+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+u(a)/2;b[2]=a[2]+v(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=h(a);b[1]=u(a);b[2]=v(a);return b};b.maximumDimension=function(a){return Math.max(h(a),v(a),u(a))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,g){return b[0]>=a[0]-g&&b[1]>=a[1]-g&&b[2]>=a[2]-g&&b[0]<=a[3]+
g&&b[1]<=a[4]+g&&b[2]<=a[5]+g};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};b.offset=function(a,b,g,h,k){void 0===k&&(k=a);k[0]=a[0]+b;k[1]=a[1]+g;k[2]=a[2]+h;k[3]=a[3]+b;k[4]=a[4]+g;k[5]=a[5]+h;return k};b.setMin=function(a,b,g){void 0===g&&(g=a);g[0]=b[0];g[1]=b[1];g[2]=b[2];g!==
a&&(g[3]=a[3],g[4]=a[4],g[5]=a[5]);return g};b.setMax=function(a,b,g){void 0===g&&(g=a);g[3]=b[0];g[4]=b[1];g[5]=b[2];g!==a&&(g[0]=a[0],g[1]=a[1],g[2]=a[2]);return a};b.set=x;b.empty=function(a){return a?x(a,b.NEGATIVE_INFINITY):r(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=m.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[3]=b[2];a[4]=b[3];return a};b.is=l;b.isPoint=function(a){return 0===h(a)&&0===u(a)&&0===v(a)};b.equals=function(a,
b,g){if(null==a||null==b)return a===b;if(!l(a)||!l(b))return!1;if(g)for(var c=0;c<a.length;c++){if(!g(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0]})},"esri/views/3d/support/dito":function(){define(["require","exports","../lib/glMatrix"],function(a,b,k){function m(a,b,c,d,e,f){if(!(1E-6>
k.vec3d.length2(b)))for(k.vec3d.cross(c,b,z),k.vec3d.cross(d,b,A),k.vec3d.cross(e,b,B),r(a,b,p),E[1]=p[0],D[1]=p[1],C[1]=D[1]-E[1],c=[c,d,e],d=[z,A,B],e=0;3>e;++e){r(a,c[e],p);E[0]=p[0];D[0]=p[1];r(a,d[e],p);E[2]=p[0];D[2]=p[1];C[0]=D[0]-E[0];C[2]=D[2]-E[2];var g=x(C);g<f.quality&&(k.vec3d.set(c[e],f.b0),k.vec3d.set(b,f.b1),k.vec3d.set(d[e],f.b2),f.quality=g)}}function r(a,b,c){var d=a.data,e=a.offsetIdx;a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;e<d.length;e+=a){var f=
d[e]*b[0]+d[e+1]*b[1]+d[e+2]*b[2];c[0]=Math.min(c[0],f);c[1]=Math.max(c[1],f)}}function h(a,b,c){k.vec3d.set(a,c.center);k.vec3d.scale(b,.5,c.halfSize);k.quat4.identity(c.quaternion)}function u(a,b,c,d,e,f){r(a,b,p);e[0]=p[0];f[0]=p[1];r(a,c,p);e[1]=p[0];f[1]=p[1];r(a,d,p);e[2]=p[0];f[2]=p[1]}function v(a,b,c,d,e,f,g){K[0]=a[0];K[3]=a[1];K[6]=a[2];K[1]=b[0];K[4]=b[1];K[7]=b[2];K[2]=c[0];K[5]=c[1];K[8]=c[2];k.quat4.fromRotationMatrix(K,g.quaternion);k.vec3d.add(d,e,W);k.vec3d.scale(W,.5);k.vec3d.scale(a,
W[0],g.center);k.vec3d.scale(b,W[1],L);k.vec3d.add(g.center,L);k.vec3d.scale(c,W[2],L);k.vec3d.add(g.center,L);k.vec3d.scale(f,.5,g.halfSize)}function x(a){return a[0]*a[1]+a[0]*a[2]+a[1]*a[2]}Object.defineProperty(b,"__esModule",{value:!0});var l=k.vec3d.create(),c=k.vec3d.create();b.computeOBB=function(a,b){var r=a.data.length/a.strideIdx;if(!(0>=r)){var z=new R(a);k.vec3d.add(z.minProj,z.maxProj,l);k.vec3d.scale(l,.5);k.vec3d.subtract(z.maxProj,z.minProj,c);var A=x(c),B=new Z;B.quality=A;14>r&&
(a={data:new Float64Array(z.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var C=k.vec3d.create(),H=k.vec3d.create(),D=k.vec3d.create(),r=k.vec3d.create(),Q=k.vec3d.create(),E=k.vec3d.create(),L=k.vec3d.create(),K;K=a;for(var W=k.vec3d.dist2(z.maxVert[0],z.minVert[0]),ca=0,ba=1;7>ba;++ba){var fa=k.vec3d.dist2(z.maxVert[ba],z.minVert[ba]);fa>W&&(W=fa,ca=ba)}k.vec3d.set(z.minVert[ca],C);k.vec3d.set(z.maxVert[ca],H);if(1E-6>k.vec3d.dist2(C,H))K=1;else{k.vec3d.subtract(C,H,r);k.vec3d.normalize(r);z=
K.data;W=K.strideIdx;ca=Number.NEGATIVE_INFINITY;ba=0;for(fa=K.offsetIdx;fa<z.length;fa+=W){k.vec3d.set3(z[fa]-C[0],z[fa+1]-C[1],z[fa+2]-C[2],f);var da=r[0]*f[0]+r[1]*f[1]+r[2]*f[2],ha=k.vec3d.length2(r),da=k.vec3d.length2(f)-da*da/ha;da>ca&&(ca=da,ba=fa)}k.vec3d.set3(z[ba],z[ba+1],z[ba+2],D);1E-6>ca?K=2:(k.vec3d.subtract(H,D,Q),k.vec3d.normalize(Q),k.vec3d.subtract(D,C,E),k.vec3d.normalize(E),k.vec3d.cross(Q,r,L),k.vec3d.normalize(L),m(K,L,r,Q,E,B),K=0)}switch(K){case 1:h(l,c,b);return;case 2:A=
a;k.vec3d.set(r,P);Math.abs(r[0])>Math.abs(r[1])&&Math.abs(r[0])>Math.abs(r[2])?P[0]=0:Math.abs(r[1])>Math.abs(r[2])?P[1]=0:P[2]=0;1E-6>k.vec3d.length2(P)&&(P[0]=P[1]=P[2]=1);k.vec3d.cross(r,P,T);k.vec3d.normalize(T);k.vec3d.cross(r,T,Y);k.vec3d.normalize(Y);u(A,r,T,Y,O,U);k.vec3d.subtract(U,O,V);v(r,T,Y,O,U,V,b);return}K=a;z=e;W=g;ca=p;ba=K.data;da=K.offsetIdx;fa=K.strideIdx;k.vec3d.set3(ba[da],ba[da+1],ba[da+2],W);k.vec3d.set(W,z);ca[0]=k.vec3d.dot(G,L);ca[1]=ca[0];for(da+=fa;da<ba.length;da+=fa)k.vec3d.set3(ba[da],
ba[da+1],ba[da+2],G),ha=k.vec3d.dot(G,L),ha<ca[0]&&(ca[0]=ha,k.vec3d.set(G,W)),ha>ca[1]&&(ca[1]=ha,k.vec3d.set(G,z));L=k.vec3.dot(C,L);p[1]-1E-6<=L&&(z[0]=void 0);p[0]+1E-6>=L&&(W[0]=void 0);void 0!==e[0]&&(k.vec3d.subtract(e,C,y),k.vec3d.normalize(y),k.vec3d.subtract(e,H,w),k.vec3d.normalize(w),k.vec3d.subtract(e,D,t),k.vec3d.normalize(t),k.vec3d.cross(w,r,q),k.vec3d.normalize(q),k.vec3d.cross(t,Q,n),k.vec3d.normalize(n),k.vec3d.cross(y,E,d),k.vec3d.normalize(d),m(K,q,r,w,y,B),m(K,n,Q,t,w,B),m(K,
d,E,y,t,B));void 0!==g[0]&&(k.vec3d.subtract(g,C,y),k.vec3d.normalize(y),k.vec3d.subtract(g,H,w),k.vec3d.normalize(w),k.vec3d.subtract(g,D,t),k.vec3d.normalize(t),k.vec3d.cross(w,r,q),k.vec3d.normalize(q),k.vec3d.cross(t,Q,n),k.vec3d.normalize(n),k.vec3d.cross(y,E,d),k.vec3d.normalize(d),m(K,q,r,w,y,B),m(K,n,Q,t,w,B),m(K,d,E,y,t,B));u(a,B.b0,B.b1,B.b2,O,U);a=k.vec3d.create();k.vec3d.subtract(U,O,a);B.quality=x(a);B.quality<A?v(B.b0,B.b1,B.b2,O,U,a,b):h(l,c,b)}};var e=k.vec3d.create(),g=k.vec3d.create(),
y=k.vec3d.create(),w=k.vec3d.create(),t=k.vec3d.create(),q=k.vec3d.create(),n=k.vec3d.create(),d=k.vec3d.create(),f=k.vec3d.create(),p=k.vec2d.create(),z=k.vec3d.create(),A=k.vec3d.create(),B=k.vec3d.create(),D=k.vec3d.create(),E=k.vec3d.create(),C=k.vec3d.create(),G=k.vec3d.create(),P=k.vec3d.create(),T=k.vec3d.create(),Y=k.vec3d.create(),O=k.vec3d.create(),U=k.vec3d.create(),V=k.vec3d.create(),L=k.vec3d.create(),K=k.mat3d.create(),W=k.vec3d.create(),R=function(){return function(a){this.minVert=
[];this.maxVert=[];this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(b+=56;7>this.minVert.length;)this.minVert.push(new Float64Array(this.buffer,b,3)),b+=24;for(;7>this.maxVert.length;)this.maxVert.push(new Float64Array(this.buffer,b,3)),b+=24;for(b=0;7>b;++b)this.minProj[b]=Number.POSITIVE_INFINITY,this.maxProj[b]=Number.NEGATIVE_INFINITY;for(var c=[],d=[],e=a.data,f=a.strideIdx,b=a.offsetIdx;b<e.length;b+=
f)a=e[b],a<this.minProj[0]&&(this.minProj[0]=a,c[0]=b),a>this.maxProj[0]&&(this.maxProj[0]=a,d[0]=b),a=e[b+1],a<this.minProj[1]&&(this.minProj[1]=a,c[1]=b),a>this.maxProj[1]&&(this.maxProj[1]=a,d[1]=b),a=e[b+2],a<this.minProj[2]&&(this.minProj[2]=a,c[2]=b),a>this.maxProj[2]&&(this.maxProj[2]=a,d[2]=b),a=e[b]+e[b+1]+e[b+2],a<this.minProj[3]&&(this.minProj[3]=a,c[3]=b),a>this.maxProj[3]&&(this.maxProj[3]=a,d[3]=b),a=e[b]+e[b+1]-e[b+2],a<this.minProj[4]&&(this.minProj[4]=a,c[4]=b),a>this.maxProj[4]&&
(this.maxProj[4]=a,d[4]=b),a=e[b]-e[b+1]+e[b+2],a<this.minProj[5]&&(this.minProj[5]=a,c[5]=b),a>this.maxProj[5]&&(this.maxProj[5]=a,d[5]=b),a=e[b]-e[b+1]-e[b+2],a<this.minProj[6]&&(this.minProj[6]=a,c[6]=b),a>this.maxProj[6]&&(this.maxProj[6]=a,d[6]=b);for(b=0;7>b;++b)a=c[b],k.vec3d.set3(e[a],e[a+1],e[a+2],this.minVert[b]),a=d[b],k.vec3d.set3(e[a],e[a+1],e[a+2],this.maxVert[b])}}(),Z=function(){return function(){this.b0=k.vec3d.createFrom(1,0,0);this.b1=k.vec3d.createFrom(0,1,0);this.b2=k.vec3d.createFrom(0,
0,1);this.quality=0}}()})},"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":function(){define(["require","exports","./ComponentUtils","./geometryDataUtils","../../../webgl/Util"],function(a,b,k,m,r){function h(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(b,
u,l,c,e){void 0===l&&(l=null);void 0===c&&(c=a.DefaultOffsets);void 0===e&&(e=a.DefaultIndices);this.preinterleaved=!0;this.primitiveType="triangle";this._positionData=null;var g=r.getStride(u)/4,g=b.length/g;(this._hasDefaultIndices=e===a.DefaultIndices)&&(e=m.generateDefaultIndexArray(g));for(var g={},v=0;v<u.length;v++){var w=u[v],t=new (h(w.type))(b.buffer),q=r.getBytesPerElement(w.type);g[w.name]={data:t,size:w.count,offsetIdx:w.offset/q,strideIdx:w.stride/q}}l&&(this._positionData=l,g.position=
{data:l.data,size:3,offsetIdx:0,strideIdx:3});this._id=m.getNewId();this._vertexData=b;this._vertexAttributes=g;this._layout=u;this._indexData=e;this._componentOffsets=k.createOffsets(c);this._gpuMemoryUsage=b.byteLength+(this._hasDefaultIndices?0:e.byteLength)}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0});a.prototype.toRenderData=function(){var a={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this._indexData.length,vertexData:this._vertexData,layout:this._layout};this._indexData=this._vertexData=null;this._vertexAttributes={position:this._vertexAttributes.position};return a};a.prototype.getIndices=function(a){return"position"===a&&this._positionData?
this._positionData.indices:this._indexData};a.prototype.getAttribute=function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage};Object.defineProperty(a.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0});a.DefaultOffsets=new Uint32Array(0);a.DefaultIndices=new Uint32Array(0);return a}()})},"esri/views/3d/webgl-engine/lib/ComponentUtils":function(){define(["require","exports","../../../../core/arrayUtils"],
function(a,b,k){function m(a,b){if(null!=a){var c=a.isVisibleBit,e=a.data,h=8*e.BYTES_PER_ELEMENT;return b<e.length*h?g(c,e,b,h):!a.isVisibleBit}return!0}function r(a){return null===a.component?-1:a.component}function h(a,b,c,e,g){m(b,e)&&u(a,b,c,c[e],c[e+1]-1,g)}function u(a,b,c,e,g,h){c=(b=0<a.length?a[a.length-1]:null)?b.range[1]:-1;var d=b?b.options:null;c>=e||(c+1===e&&d===h?b.range[1]=g:a.push({range:[e,g],options:h}))}function v(a){void 0===a&&(a=!0);return{isVisibleBit:!a,data:new Uint32Array(0)}}
function x(a,b){return c(a,b,!0)}function l(a,b){return c(a,b,!1)}function c(a,b,c){var d=!1;a=a||w;d=a.isVisibleBit;a=a.data;b=y(b);var e=8*a.BYTES_PER_ELEMENT,g=a.length*e;c=c===d;if(0===a.length||0===b)d=!c;else if(g<b&&!c)d=!0;else{for(var h=t[e],g=t[0],k=0;k<a.length-1;k++)if(d=!c&&a[k]!==h||c&&a[k]!==g)return d;d=a.length-1;b=t[(b-1)%e+1];d=!c&&(a[d]&b)!==b||c&&(a[d]&b)!==g}return d}function e(a){return 0<a.length}function g(a,b,c,e){var d=c/e|0;return 0!==(b[d]&1<<c-d*e)===a}function y(a){return Math.max(0,
a.length-1)}Object.defineProperty(b,"__esModule",{value:!0});b.updateVisibility=function(a,b,c,e){if(c<y(b)){null==a&&(a=v());var d=a.isVisibleBit,f=a.data,g=8*f.BYTES_PER_ELEMENT,h=c/g|0,k=c-g*h;b=(y(b)-1)/g|0;var l=f;e=e===d;c<l.length*g||!e||(c=Math.max(h+1,Math.ceil(1.5*l.length)),c=Math.min(c,b+1),f=new Uint32Array(c),f.set(l));h<f.length&&(f[h]=f[h]&~(1<<k)|(e?1:0)<<k);a.data=f}return a};b.getVisibility=m;b.hideAllComponents=function(a){if(null==a)a=v(!1);else{a.isVisibleBit=!0;for(var b=0;b<
a.data.length;b++)a.data[b]=0}return a};b.unhideAllComponents=function(a){var b;if(null!=a)for(b=a,b.isVisibleBit=!1,a=0;a<b.data.length;a++)b.data[a]=0;return b};b.generateVisibleIndexRanges=function(a,b){var c;if(a)if(e(b))if(0===a.data.length)c=[],b=[[b[0],b[b.length-1]-1]],c=a.isVisibleBit?c:b;else{c=[];for(var f=a.isVisibleBit,h=a.data,k=8*h.BYTES_PER_ELEMENT,l=h.length*k,n=y(b),m=!1,q=0;q<l&&q<n;q++){var t=g(f,h,q,k);if(t!==m){var r=b[q];t?c.push([r,0]):(m=c[c.length-1],m[1]=r-1);m=t}}a=!a.isVisibleBit;
n>l&&a&&!m?c.push([b[l],b[n]-1]):m&&(m=c[c.length-1],m[1]=b[a?n:Math.min(n,l)]-1)}else c=[],c=a.isVisibleBit?c:null;else c=null;return c};b.addHighlight=function(a,b,c,e){a=a||[];b={component:b,options:c,id:e};a.push(b);c=r(b);for(e=a.length-1;0<e&&c<r(a[e-1]);)b=[a[e],a[e-1]],a[e-1]=b[0],a[e]=b[1],--e;return a};b.removeHighlight=function(a,b){return a?(a=a.filter(function(a){return a.id!==b}),0===a.length?null:a):a};b.generateHighlightedIndexRanges=function(a,b,c){if(b){if(e(c)){for(var d=c[0],g=
c[c.length-1]-1,k=[],n=!l(a,c),m=0;m<b.length;++m){var q=b[m].options,t=b[m].component;if(null!==t)h(k,a,c,t,q);else if(n)u(k,a,c,d,g,q);else for(t=0;t<y(c);++t)h(k,a,c,t,q)}return 0<k.length?k:null}var n=!a||!a.isVisibleBit;return n?b.map(function(a){return{range:null,options:a.options}}):null}return null};b.defaultVisibilities=v;b.isAllVisible=function(a,b){return!l(a,b)};b.isAllHidden=function(a,b){return!x(a,b)};b.hasVisible=x;b.hasHidden=l;var w=v();b.createOffsets=function(a){return Array.isArray(a)?
new Uint32Array(a):a};b.hasComponent=function(a,b){return b<y(a)};b.hasComponents=e;var t=[];for(a=0;65>a;a++)t.push(Math.pow(2,a)-1);b.componentCount=y;b.componentFind=function(a,b){a=k.binaryIndexOf(a,b,!0);return 0<=a?a:null}})},"esri/core/arrayUtils":function(){define(["require","exports"],function(a,b){function k(a,b,g){for(var c=a.length,e=0;e<c;e++)if(b.call(g,a[e],e,a))return e;return-1}function m(a,b,g,h){void 0===g&&(g=a.length);h=h||l;for(var c=Math.max(0,h.last-10),e=-1,k=c;k<g;++k)if(a[k]===
b){e=k;break}if(-1===e){for(k=0;k<c;++k)if(a[k]===b){e=k;break}if(-1===e)return}a[e]=a[g-1];a.pop();h.last=e;return b}function r(a,b,g,h){void 0===g&&(g=a.length);var c=[];b.forEach(function(b){void 0!==m(a,b,g,h)&&(c.push(b),--g)});return c}function h(a,b){return-1===a.indexOf(b)}function u(a,b,g){return!a.some(b.bind(null,g))}function v(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.findIndex=k;b.find=function(a,b,g){for(var c=a.length,e=0;e<c;e++){var h=a[e];if(b.call(g,h,e,a))return h}};
b.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};b.equals=function(a,b,g){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(g)for(var c=0;c<a.length;c++){if(!g(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.difference=function(a,b,g){var c;g?(c=b.filter(u.bind(null,a,g)),a=a.filter(u.bind(null,b,g))):(c=b.filter(h.bind(null,a)),a=a.filter(h.bind(null,b)));return{added:c,removed:a}};b.intersect=function(a,b,g){return a&&
b?g?a.filter(function(a){return-1<k(b,function(b){return g(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};b.constant=function(a,b){for(var c=Array(a),e=0;e<a;e++)c[e]=b;return c};b.range=function(a,b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),e=a;e<b;e++)c[e-a]=e;return c};b.binaryIndexOf=function(a,b,g){for(var c=a.length,e=0,h=c-1;e<h;){var k=e+Math.floor((h-e)/2);b>a[k]?e=k+1:h=k}h=a[e];return g?b>=a[c-1]?-1:h===b?e:e-1:h===b?e:-1};var x=function(){return function(){this.last=0}}();
b.RemoveHint=x;var l=new x;a=function(){return function(a){var b=this;this._array=a;this._hint=new x;this.remove=function(a){return m(b._array,a,b._array.length,b._hint)};this.removeMany=function(a){return r(b._array,a,b._array.length,b._hint)}}}();b.UnorderedRemover=a;b.removeUnordered=m;b.removeUnorderedMany=r;b.keysOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b};b.keysOfSet=function(a,b){void 0===b&&(b=v);var c=[];a.forEach(function(a){return c.push(b(a))});return c}})},
"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var k=1,m=null;b.generateDefaultIndexArray=function(a){if(a>k||null==m){for(;a>k;)k*=2;m=new Uint32Array(k);for(var b=0;b<k;b++)m[b]=b}return new Uint32Array(m.buffer,0,a)};var r=0;b.getNewId=function(){return r++}})},"esri/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../core/Error"],function(a,
b,k,m){return function(){function a(){}a.vertexCount=function(b,k){return b.vertexBuffers[k].size/a.getStride(b.layout[k])};a.getStride=function(a){return a[0].stride};a.getBytesPerElement=function(a){switch(a){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");}};a.addDescriptor=function(b,k,m,r,l,c){var e=a.getBytesPerElement(r);if(0<b.length){var g=b[0].stride,h=g+e*m;b.forEach(function(a){return a.stride=
h});b.push({name:k,count:m,type:r,offset:g,stride:h,normalized:l,divisor:c})}else b.push({name:k,count:m,type:r,offset:0,stride:e*m,normalized:l,divisor:c})};a.assertCompatibleVertexAttributeLocations=function(a,b){(a=a.locations===b.locations)||console.error("VertexAttributeLocations are incompatible");return a};a.hasAttribute=function(a,b){for(var h=0;h<a.length;h++)if(a[h].name===b)return!0;return!1};a.findAttribute=function(a,b){for(var h=0;h<a.length;h++)if(a[h].name===b)return a[h];return null};
a.copyFramebufferToTexture=function(a,b,k,m,l){void 0===l&&(l=0);var c=a.getBoundFramebufferObject(),e=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(k,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,l,k.descriptor.pixelFormat,m[0],m[1],m[2],m[3],0);a.gl.flush();a.bindFramebuffer(c);a.bindTexture(e,0)};a.assert=function(a,b){if(!a)throw new m(b);};a.setBaseInstanceOffset=function(a,b){var h={},m;for(m in a)h[m]=a[m].map(function(a){return a.divisor?k({},a,{baseInstance:b}):a});return h};a.bindVertexBufferLayout=
function(a,b,k,m,l){var c=a.gl,e=a.capabilities.instancing;a.bindBuffer(k);m.forEach(function(a){var g=b[a.name],h=(l?l:0+a.baseInstance?a.baseInstance:0)*a.stride;void 0===g&&console.error("There is no location for vertex attribute '"+a.name+"' defined.");a.baseInstance&&!a.divisor&&console.error("Vertex attribute '"+a.name+"' uses baseInstanceOffset without divisor.");if(4>=a.count)c.vertexAttribPointer(g,a.count,a.type,a.normalized,a.stride,a.offset+h),c.enableVertexAttribArray(g),a.divisor&&0<
a.divisor&&e&&e.vertexAttribDivisor(g,a.divisor);else if(9===a.count)for(var k=0;3>k;k++)c.vertexAttribPointer(g+k,3,a.type,a.normalized,a.stride,a.offset+12*k+h),c.enableVertexAttribArray(g+k),a.divisor&&0<a.divisor&&e&&e.vertexAttribDivisor(g+k,a.divisor);else if(16===a.count)for(k=0;4>k;k++)c.vertexAttribPointer(g+k,4,a.type,a.normalized,a.stride,a.offset+16*k+h),c.enableVertexAttribArray(g+k),a.divisor&&0<a.divisor&&e&&e.vertexAttribDivisor(g+k,a.divisor);else console.error("Unsupported vertex attribute element count: "+
a.count)})};a.unbindVertexBufferLayout=function(a,b,k,m){var h=a.gl;a.bindBuffer(k);m.forEach(function(a){var c=b[a.name];if(4>=a.count)h.disableVertexAttribArray(c);else if(9===a.count)for(a=0;3>a;a++)h.disableVertexAttribArray(c+a);else if(16===a.count)for(a=0;4>a;a++)h.disableVertexAttribArray(c+a);else console.error("Unsupported vertex attribute element count: "+a.count)});a.unbindBuffer(34962)};return a}()})},"*noref":1}});
define("require exports ../../../core/promiseUtils ../../../geometry/SpatialReference ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ../lib/glMatrix ../support/meshProcessing ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/PreinterleavedGeometryData ../webgl-engine/lib/Util".split(" "),function(a,b,k,m,r,h,u,v,x,l,c,e){a=function(){function a(){}a.prototype.process=function(a){var b=[a.geometryBuffer];return k.resolve({result:this.transform(a,b),transferList:b})};a.prototype.transform=
function(a,b){var d=m.fromJSON(a.indexSR),f=m.fromJSON(a.vertexSR),k=m.fromJSON(a.renderSR),n=!1,q=0,t=[],w=a.obb?null:x.create([0,0,0],[-1,-1,-1],[0,0,0,1]);u.vec3d.set(a.center,g);g[2]+=a.elevationOffset;var y=u.mat4d.create();l.computeLinearTransformation(d,g,y,k);for(var C=0,G=a.geometryData;C<G.length;C++)for(var P=G[C],T=P.componentOffsets,Y=0,P=P.geometries;Y<P.length;Y++){var O=P[Y],U=a.layouts[q];++q;var V=r.interleaveGeometryBuffer(O,a.geometryBuffer,U,[{name:e.VertexAttrConstants.COLOR,
byteValue:255}],[e.VertexAttrConstants.NORMAL,e.VertexAttrConstants.NORMALCOMPRESSED,e.VertexAttrConstants.SYMBOLCOLOR,e.VertexAttrConstants.COMPONENTINDEX]),L=new c(new Float32Array(V),U),K=L.getAttribute(e.VertexAttrConstants.POSITION),W=h.reprojectPoints(K,a.center,a.elevationOffset,d,f,k);w&&this._updateObb(w,K,y);a.needNormals&&(K={normals:L.getAttribute(e.VertexAttrConstants.NORMALCOMPRESSED),positions:K,normalInd:L.getIndices(e.VertexAttrConstants.NORMALCOMPRESSED),positionInd:L.getIndices(e.VertexAttrConstants.POSITION)},
r.processAndInterleaveNormals(a.normalReferenceFrame,O,a.geometryBuffer,W.globalTrafo,K));(O=L.getAttribute(e.VertexAttrConstants.COMPONENTINDEX))&&this._createComponentNumbers(O,T);(L=L.getAttribute(e.VertexAttrConstants.COLOR))&&!n&&(n=this._hasColors(L));L=U[0].stride;L=v.deduplicate(V,L/4,1-.8*L/(L+4));null!=L?(V=65536>L.uniqueCount?new Uint16Array(L.indices):L.indices,O=r.extractPositionData(L.buffer,U,V),t.push({layout:U,interleavedVertexData:L.buffer,indices:V,corMatrices:W,hasColors:n,positionData:O}),
b&&(b.push(L.buffer),b.push(V.buffer),b.push(O.data.buffer),b.push(O.indices.buffer))):(O=r.extractPositionData(V,U),t.push({layout:U,interleavedVertexData:V,corMatrices:W,hasColors:n,positionData:O}),b&&(b.push(V),b.push(O.data.buffer),b.push(O.indices.buffer)))}w&&(u.mat4d.multiplyVec3(y,w.center,w.center),l.vectorToVector(w.center,k,w.center,f),w.center[2]-=a.elevationOffset);return{geometryBuffer:a.geometryBuffer,transformedGeometries:t,obb:w}};a.prototype._hasColors=function(a){var b=a.data,
c=a.size,e=a.strideIdx;for(a=a.offsetIdx;a<b.length;a+=e)for(var g=0;g<c;g++)if(255!==b[a+g])return!0;return!1};a.prototype._createComponentNumbers=function(a,b){var c=a.data,e=a.strideIdx,g=c.length/e,h=0;a=a.offsetIdx;for(var k=0;k<g;k++)k>=b[h+1]&&h++,c[a]=h,a+=e};a.prototype._updateObb=function(a,b,c){if(0<a.halfSize[0]){u.vec3.subtract(a.center,a.halfSize,g);u.vec3.add(a.center,a.halfSize,y);for(c=b.offsetIdx;c<b.data.length;c+=b.strideIdx)g[0]=Math.min(g[0],b.data[c]),g[1]=Math.min(g[1],b.data[c+
1]),g[2]=Math.min(g[2],b.data[c+2]),y[0]=Math.max(y[0],b.data[c]),y[1]=Math.max(y[1],b.data[c+1]),y[2]=Math.max(y[2],b.data[c+2]);u.vec3.subtract(y,g,a.halfSize);u.vec3d.scale(a.halfSize,.5);u.vec3d.add(g,y,a.center);u.vec3d.scale(a.center,.5)}else x.compute(b,a),b=2*Math.sqrt(1+c[0]+c[5]+c[10]),w[0]=(c[9]-c[6])/b,w[1]=(c[2]-c[8])/b,w[2]=(c[4]-c[1])/b,w[3]=.25*b,u.quat4.conjugate(w),u.quat4.multiply(w,a.quaternion,a.quaternion)};return a}();var g=u.vec3d.create(),y=u.vec3d.create(),w=u.quat4.create();
return a});