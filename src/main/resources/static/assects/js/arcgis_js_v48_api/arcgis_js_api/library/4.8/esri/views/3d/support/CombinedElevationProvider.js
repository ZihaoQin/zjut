// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators ./Evented".split(" "),function(q,r,m,k,n,g,p){return function(l){function b(h){var a=l.call(this)||this;a.providers={im:[],ground:[],scene:[]};a.handles=new Map;a.elevationChange=function(c){a.emit("elevation-change",c)};return a}m(b,l);b.prototype.getElevation=function(h,a){var c=-Infinity,d=!1;if("scene"===a)for(var f=0,b=this.providers.im;f<
b.length;f++){var e=b[f],e=e.getElevation(h,a);null!=e&&(c=Math.max(e,c),!d&&isFinite(c)&&(d=!0))}if(!d)for(d=0,f=this.providers.ground;d<f.length;d++)e=f[d],e=e.getElevation(h,a),null!=e&&(c=Math.max(e,c));if("scene"===a)for(d=0,f=this.providers.scene;d<f.length;d++)e=f[d],e=e.getElevation(h,a),null!=e&&(c=Math.max(e,c));return isFinite(c)?c:null};b.prototype.register=function(b,a){this.handles.set(a,a.on("elevation-change",this.elevationChange));this.providers[b].push(a)};b.prototype.unregister=
function(b){this.handles.has(b)&&(this.handles.get(b).remove(),this.handles.delete(b));for(var a=0,c=Object.keys(this.providers);a<c.length;a++){var d=c[a],f=this.providers[d].indexOf(b);-1<f&&this.providers[d].splice(f,1)}};k([g.property({constructOnly:!0})],b.prototype,"view",void 0);k([g.property({readOnly:!0,aliasOf:"view.basemapTerrain.spatialReference"})],b.prototype,"spatialReference",void 0);return b=k([g.subclass("esri.views.3d.support.CombinedElevationProvider")],b)}(g.declared(n,p.Evented))});