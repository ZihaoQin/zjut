// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/accessorSupport/originUtils":function(){define(["require","exports","../MultiOriginJSONSupport"],function(n,g,k){Object.defineProperty(g,"__esModule",{value:!0});g.updateOrigins=function(a){a&&a.writtenProperties&&a.writtenProperties.forEach(function(a){var b=a.target;a.newOrigin&&a.oldOrigin!==a.newOrigin&&b.isInstanceOf(k)&&b.updateOrigin(a.propName,a.newOrigin)})}})},"esri/support/webSceneUtils":function(){define(["require","exports","../core/Error"],function(n,g,k){Object.defineProperty(g,
"__esModule",{value:!0});g.createCopyError=function(){return new k("webscene:failed-to-copy-embedded-resources","Copying of embedded resources is currently not supported")};g.isCopyError=function(a){return a&&"webscene:failed-to-copy-embedded-resources"===a.name};g.createSchemaValidationError=function(a){return new k("webscene:schema-validation","Failed to save webscene due to schema validation errors. See 'details.errors' for more detailed information",{errors:a})};g.isSchemaValidationError=function(a){return a&&
"webscene:schema-validation"===a.name}})},"esri/webscene/ApplicationProperties":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./applicationProperties/Viewing".split(" "),function(n,g,k,a,d,b,e){return function(c){function m(a){a=c.call(this,a)||this;a.viewing=null;return a}k(m,c);h=m;m.prototype.clone=function(){return new h({viewing:this.viewing?this.viewing.clone():null})};var h;a([b.property({type:e,
json:{write:!0}})],m.prototype,"viewing",void 0);return m=h=a([b.subclass("esri.webscene.ApplicationProperties")],m)}(b.declared(d))})},"esri/webscene/applicationProperties/Viewing":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./Search".split(" "),function(n,g,k,a,d,b,e){return function(c){function m(a){a=c.call(this,a)||this;a.search=null;return a}k(m,c);h=m;m.prototype.clone=
function(){return new h({search:this.search?this.search.clone():null})};var h;a([b.property({type:e,json:{write:!0}})],m.prototype,"search",void 0);return m=h=a([b.subclass("esri.webscene.applicationProperties.Viewing")],m)}(b.declared(d))})},"esri/webscene/applicationProperties/Search":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators ./SearchLayer".split(" "),
function(n,g,k,a,d,b,e,c){var m=d.ofType(c);return function(b){function c(a){a=b.call(this,a)||this;a.enabled=!1;a.hintText=null;a.layers=new m;return a}k(c,b);h=c;c.prototype.clone=function(){return new h({enabled:this.enabled,hintText:this.hintText,layers:this.layers?this.layers.clone():null})};var h;a([e.property({type:Boolean,json:{write:!0}})],c.prototype,"enabled",void 0);a([e.property({type:String,json:{write:!0}})],c.prototype,"hintText",void 0);a([e.property({type:m,json:{write:{enabled:!0,
isRequired:!0}}})],c.prototype,"layers",void 0);return c=h=a([e.subclass("esri.webscene.applicationProperties.Search")],c)}(e.declared(b))})},"esri/webscene/applicationProperties/SearchLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./SearchLayerField".split(" "),function(n,g,k,a,d,b,e,c){return function(m){function h(a){a=m.call(this,
a)||this;a.field=null;a.id=null;a.subLayer=null;return a}k(h,m);d=h;h.prototype.clone=function(){return new d({field:this.field?this.field.clone():null,id:this.id,subLayer:this.subLayer})};var d;a([b.property({type:c,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"field",void 0);a([b.property({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"id",void 0);a([b.property({type:e.Integer,json:{write:!0}})],h.prototype,"subLayer",void 0);return h=d=a([b.subclass("esri.webscene.applicationProperties.SearchLayer")],
h)}(b.declared(d))})},"esri/webscene/applicationProperties/SearchLayerField":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldType".split(" "),function(n,g,k,a,d,b,e){return function(c){function d(a){a=c.call(this,a)||this;a.exactMatch=!1;a.name=null;a.type=null;return a}k(d,c);h=d;d.prototype.clone=function(){return new h({exactMatch:this.exactMatch,
type:this.type,name:this.name})};var h;a([b.property({type:Boolean,json:{write:!0}})],d.prototype,"exactMatch",void 0);a([b.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);a([b.property({type:String,json:{read:e.kebabDict.read,write:e.kebabDict.write}})],d.prototype,"type",void 0);return d=h=a([b.subclass("esri.webscene.applicationProperties.SearchLayerField")],d)}(b.declared(d))})},"esri/webscene/Environment":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./Lighting ./background/utils".split(" "),
function(n,g,k,a,d,b,e,c,m){var h=function(a,b,c){return{enabled:!c||!c.isPresentation}};return function(d){function p(a){a=d.call(this,a)||this;a.lighting=new c;a.background=null;a.atmosphereEnabled=!0;a.starsEnabled=!0;return a}k(p,d);g=p;p.prototype.clone=function(){return new g({lighting:c.prototype.clone.call(this.lighting),background:b.clone(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled})};p.sanitizeJSON=function(a){return{lighting:a.lighting?c.sanitizeJSON(a.lighting):
(new c).toJSON(),background:a.background,atmosphereEnabled:a.atmosphereEnabled,starsEnabled:a.starsEnabled}};var g;a([e.property({type:c,json:{write:!0}})],p.prototype,"lighting",void 0);a([e.property(m.backgroundProperty)],p.prototype,"background",void 0);a([e.property({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:h}}})],p.prototype,"atmosphereEnabled",void 0);a([e.property({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:h}}})],p.prototype,"starsEnabled",void 0);return p=g=a([e.subclass("esri.webscene.Environment")],
p)}(e.declared(d))})},"esri/webscene/Lighting":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(n,g,k,a,d,b){return function(d){function c(a){a=d.call(this,a)||this;a.date=null;a.directShadowsEnabled=!1;a.displayUTCOffset=null;return a}k(c,d);e=c;c.prototype.readDate=function(a,b){return null!=b.datetime&&new Date(b.datetime)||null};c.prototype.writeDate=function(a,
b,c){b[c]=a.getTime()};c.prototype.readDirectShadowsEnabled=function(a,b){return!!b.directShadows};c.prototype.writedirectShadowsEnabled=function(a,b,c){a&&(b[c]=a)};c.prototype.writeDisplayUTCOffset=function(a,b){null!=a&&(b.displayUTCOffset=a)};c.prototype.clone=function(){return new e({date:null!=this.date?new Date(this.date.getTime()):null,directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:null!=this.displayUTCOffset?this.displayUTCOffset:null})};c.sanitizeJSON=function(a){var b=
{datetime:a.datetime};void 0!==a.directShadows&&(b.directShadows=!!a.directShadows);void 0!==a.displayUTCOffset&&(b.displayUTCOffset=a.displayUTCOffset);return b};var e;a([b.property({type:Date,json:{type:Number,write:{target:"datetime"}}})],c.prototype,"date",void 0);a([b.reader("date",["datetime"])],c.prototype,"readDate",null);a([b.writer("date")],c.prototype,"writeDate",null);a([b.property({type:Boolean,json:{write:{target:"directShadows"}}})],c.prototype,"directShadowsEnabled",void 0);a([b.reader("directShadowsEnabled",
["directShadows"])],c.prototype,"readDirectShadowsEnabled",null);a([b.writer("directShadowsEnabled")],c.prototype,"writedirectShadowsEnabled",null);a([b.property({type:Number,json:{write:!0}})],c.prototype,"displayUTCOffset",void 0);a([b.writer("displayUTCOffset")],c.prototype,"writeDisplayUTCOffset",null);return c=e=a([b.subclass("esri.webscene.Lighting")],c)}(b.declared(d))})},"esri/webscene/background/utils":function(){define(["require","exports","./Background","./ColorBackground"],function(n,
g,k,a){Object.defineProperty(g,"__esModule",{value:!0});n={base:k,key:"type",typeMap:{color:a}};g.backgroundProperty={types:n,json:{read:function(a){return function(b,d,c){if(!b)return b;for(var e in a.typeMap)if(b.type===e)return d=new a.typeMap[e],d.read(b,c),d}}(n),write:{overridePolicy:function(a,b,e){return{enabled:!e||!e.isPresentation}}}}}})},"esri/webscene/background/Background":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(n,g,k,a,d,b,e){return function(b){function c(a){return b.call(this)||this}k(c,b);c.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=d({},a),delete a.type);return a};c.prototype.clone=function(){};a([e.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=a([e.subclass("esri.webscene.background.Background")],c)}(e.declared(b))})},"esri/webscene/background/ColorBackground":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/accessorSupport/decorators ../../symbols/support/materialUtils ./Background".split(" "),
function(n,g,k,a,d,b,e,c,m){var h=d({},c.colorAndTransparencyProperty,{nonNullable:!0});return function(c){function d(a){a=c.call(this)||this;a.type="color";a.color=new b([0,0,0,1]);return a}k(d,c);m=d;d.prototype.clone=function(){return new m(this.cloneProperties())};d.prototype.cloneProperties=function(){return{color:this.color.clone()}};var m;a([e.property({type:String,readOnly:!0})],d.prototype,"type",void 0);a([e.property(h)],d.prototype,"color",void 0);return d=m=a([e.subclass("esri.webscene.background.ColorBackground")],
d)}(e.declared(m))})},"esri/webscene/InitialViewProperties":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Viewpoint ../core/Accessor ../core/accessorSupport/decorators ../geometry/SpatialReference ./Environment".split(" "),function(n,g,k,a,d,b,e,c,m){return function(b){function h(a){a=b.call(this,a)||this;a.environment=new m;a.spatialReference=null;a.viewpoint=null;return a}k(h,b);p=h;Object.defineProperty(h.prototype,"viewingMode",{set:function(a){"local"!==
a&&"global"!==a||this._set("viewingMode",a)},enumerable:!0,configurable:!0});h.prototype.clone=function(){return new p({environment:this.environment.clone(),spatialReference:this.spatialReference?this.spatialReference.clone():null,viewingMode:this.viewingMode,viewpoint:this.viewpoint?this.viewpoint.clone():null})};var p;a([e.property({type:m,json:{write:{isRequired:!0}}})],h.prototype,"environment",void 0);a([e.property({type:c})],h.prototype,"spatialReference",void 0);a([e.property()],h.prototype,
"viewingMode",null);a([e.property({type:d,json:{write:{isRequired:!0}}})],h.prototype,"viewpoint",void 0);return h=p=a([e.subclass("esri.webscene.InitialViewProperties")],h)}(e.declared(b))})},"esri/webscene/Presentation":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/JSONSupport ../core/accessorSupport/decorators ./Slide".split(" "),function(n,g,k,a,d,b,e,c,m){var h=d.ofType(m);return function(d){function e(a){a=
d.call(this,a)||this;a.slides=new h;return a}k(e,d);Object.defineProperty(e.prototype,"slides",{set:function(a){this._set("slides",b.referenceSetter(a,this._get("slides"),h))},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new this.constructor({slides:this.slides.clone()})};e.sanitizeJSON=function(a){return{slides:void 0!==a.slides&&Array.isArray(a.slides)?a.slides.filter(function(a){return a&&!!a.viewpoint}).map(function(a){return m.sanitizeJSON(a)}):[]}};a([c.property({type:h,
json:{write:!0}}),c.cast(b.castForReferenceSetter)],e.prototype,"slides",null);return e=a([c.subclass("esri.webscene.Presentation")],e)}(c.declared(e))})},"esri/webscene/Slide":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/promise/all ../Basemap ../Viewpoint ../core/Collection ../core/collectionUtils ../core/JSONSupport ../core/lang ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../support/basemapUtils ../views/3d/lib/glMatrix ../webdoc/support/Thumbnail ./Environment ./Lighting ./support/Description ./support/SlideGround ./support/Title".split(" "),
function(n,g,k,a,d,b,e,c,m,h,G,p,H,x,u,D,t,A,q,B,M,C,E,w){var N=0,I=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.id="";return a}a(c,b);z=c;c.prototype.clone=function(){return new z({id:this.id})};var z;d([u.property({type:String,json:{write:!0}})],c.prototype,"id",void 0);return c=z=d([u.subclass()],c)}(u.declared(G)),y=m.ofType(I),J=H.getLogger("esri.webscene.Slide");return function(g){function l(a){a=g.call(this,a)||this;a._currentAnimation=null;a.id=Date.now().toString(16)+
"-slide-"+N++;a.title=new w.default;a.description=new C.default;a.thumbnail=new q.default;a.viewpoint=null;a.basemap=null;a.ground=null;a.environment=new B;a.visibleLayers=new y;return a}a(l,g);l.prototype.castTitle=function(a){return"string"===typeof a?new w.default({text:a}):D.ensureType(w.default,a)};l.prototype.castDescription=function(a){return"string"===typeof a?new C.default({text:a}):D.ensureType(C.default,a)};l.prototype.castThumbnail=function(a){return"string"===typeof a?new q.default({url:a}):
D.ensureType(q.default,a)};l.prototype.castBasemap=function(a){return t.ensureType(a)};Object.defineProperty(l.prototype,"visibleLayers",{set:function(a){this._set("visibleLayers",h.referenceSetter(a,this._get("visibleLayers"),y))},enumerable:!0,configurable:!0});l.prototype.castVisibleLayers=function(a){return a&&"function"===typeof a.map?a.map(function(a){if("string"===typeof a)return{id:a};if(a.id)return{id:a.id};J.warn('Invalid visible layer, expected { id }, Layer or "id"');return a}):a};l.prototype.clone=
function(){return new this.constructor({id:this.id,title:this.title.clone(),thumbnail:this.thumbnail.clone(),description:this.description&&this.description.clone()||null,viewpoint:this.viewpoint&&this.viewpoint.clone()||null,basemap:this.basemap&&this.basemap.clone()||null,ground:this.ground&&this.ground.clone()||null,visibleLayers:this.visibleLayers.clone(),environment:this.environment&&this.environment.clone()||null})};l.prototype._whenLayerView=function(a,b){if(b.isRejected())return x.reject();
var c=a.allLayerViews.find(function(a){return a.layer===b});return c?c.when():a.whenLayerView(b)};l.prototype._updateVisibleLayersFrom=function(a){var b=this,c=[];return x.eachAlways(this._allLayers(a.map).map(function(d){return b._whenLayerView(a,d).then(function(a){a.visible&&c.push(new I({id:a.layer.id}))})}).toArray()).then(function(){b.visibleLayers.removeAll();b.visibleLayers.addMany(c)})};l.prototype.updateFrom=function(a,b){var c=this;b=k({screenshot:k({format:"jpeg",quality:80,width:120,
height:75},b&&b.screenshot)},b);return a.when(function(){c.viewpoint=a.viewpoint.clone();c.environment.lighting=M.prototype.clone.apply(a.environment.lighting);c.basemap=a.map.basemap&&a.map.basemap.clone()||null;c.ground=a.map.ground?E.default.fromGround(a.map.ground):null;return c._updateVisibleLayersFrom(a)}).then(function(){return a.takeScreenshot(b.screenshot)}).then(function(a){c.thumbnail=new q.default({url:a.dataURL});return c})};l.prototype.applyTo=function(a,c){var d=this,e=k({animate:!0},
c);return this._applyBasemap(a).then(function(){return b([d._applyViewpoint(a,e),d._applyLayerVisibility(a,e),d._applyGround(a)])}).then(function(){return d})};l.prototype._applyBasemap=function(a){var b=this;return this.basemap?this.basemap.load().always(function(){a.map.basemap=t.clonePreservingTiledLayers(b.basemap,a.map.basemap)}):x.resolve()};l.prototype._applyGround=function(a){this.ground&&(a.map.ground=this.ground.cloneAndApplyTo(a.map.ground));return x.resolve()};l.prototype._allLayers=function(a){var b=
new m;this._collectLayers(a,b);this._collectLayers(a.ground,b);return b};l.prototype._collectLayers=function(a,b){var c=this;a.layers.forEach(function(a){b.add(a);a.layers&&c._collectLayers(a,b)})};l.prototype._applyLayerVisibility=function(a,b){var c=this;if(this.visibleLayers){var d=this._allLayers(a.map);if(b.applyToLayerViews)return x.eachAlways(d.map(function(b){return c._whenLayerView(a,b).then(function(a){a.visible=c.visibleLayers.some(function(b){return b.id===a.layer.id})})}).toArray());
d.forEach(function(a){return a.visible=c.visibleLayers.some(function(b){return b.id===a.id})});return x.resolve()}};l.prototype._applyViewpoint=function(a,b){if(this.viewpoint){this.viewpoint.camera.fov=a.camera.fov;if(b.animate){if(this.get("environment.lighting.date"))return this._animateToLighting(a,b);a.environment.lighting=this.environment.lighting.clone();return a.goTo(this.viewpoint,b)}a.viewpoint=this.viewpoint;a.environment.lighting=this.environment.lighting.clone()}return x.resolve()};l.prototype._animateToLighting=
function(a,b){var c=this,d;"global"===a.viewingMode&&(d=this._animateLightingWithCamera(a));this._currentAnimation&&(this._currentAnimation.cancel(),this._currentAnimation=null);a.environment.lighting.cameraTrackingEnabled=!1;a.environment.lighting.directShadowsEnabled=this.environment.lighting.directShadowsEnabled;null!=this.environment.lighting.displayUTCOffset&&(a.environment.lighting.displayUTCOffset=this.environment.lighting.displayUTCOffset);var e=a.goTo(this.viewpoint,b);this._currentAnimation=
e;this._currentAnimation.always(function(){d&&d.remove();c._currentAnimation===e&&(a.environment.lighting.cameraTrackingEnabled=!0)});this._currentAnimation.then(function(){a.environment.lighting=c.environment.lighting.clone()});return this._currentAnimation};l.prototype._getTime=function(a){var b=a.getTime();a=3600*a.getUTCHours()+60*a.getUTCMinutes()+a.getUTCSeconds();return[b,a]};l.prototype._setTime=function(a,b,c){a.setTime(b);a.setUTCHours(c/3600);a.setUTCMinutes(c%3600/60);a.setUTCSeconds(c%
3600%60);return a};l.prototype._animateLightingWithCamera=function(a){var b=this,c=A.vec3d,d=this._getTime(new Date(a.environment.lighting.date.toString())),e=d[0],h=d[1],d=this._getTime(this.environment.lighting.date),m=d[0],f=d[1],r=a.renderCoordsHelper,v=[0,0,0];r.toRenderCoords(a.camera.position,v);var R=[0,0,0];r.toRenderCoords(this.viewpoint.camera.position,R);var g=[0,0,0],p=new Date;return a.watch("camera",function(d){r.toRenderCoords(d.position,g);d=c.dist2(v,g);var S=c.dist2(R,g),k=0;0!==
d+S&&(k=d/(d+S));a.environment.lighting.date=b._setTime(p,e+(m-e)*k,h+(f-h)*k)})};l.createFrom=function(a,b){return(new this).updateFrom(a,b)};l.sanitizeJSON=function(a){var b;b=void 0!==a.visibleLayers&&Array.isArray(a.visibleLayers)?p.clone(a.visibleLayers):[];b={id:a.id||"",title:a.title||{text:""},thumbnail:a.thumbnail||{url:""},viewpoint:a.viewpoint,baseMap:a.baseMap,visibleLayers:b};void 0!==a.description&&(b.description=a.description);void 0!==a.environment&&(b.environment=B.sanitizeJSON(a.environment));
void 0!==a.ground&&(b.ground=E.default.sanitizeJSON(a.ground));return b};d([u.property({type:String,json:{write:{isRequired:!0}}})],l.prototype,"id",void 0);d([u.property({type:w.default,json:{write:{isRequired:!0}}})],l.prototype,"title",void 0);d([u.cast("title")],l.prototype,"castTitle",null);d([u.property({type:C.default,json:{write:{overridePolicy:function(a){return{enabled:!(!a||!a.text)}}}}})],l.prototype,"description",void 0);d([u.cast("description")],l.prototype,"castDescription",null);d([u.property({type:q.default,
json:{write:{isRequired:!0}}})],l.prototype,"thumbnail",void 0);d([u.cast("thumbnail")],l.prototype,"castThumbnail",null);d([u.property({type:c,json:{write:{isRequired:!0}}})],l.prototype,"viewpoint",void 0);d([u.property({type:e,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],l.prototype,"basemap",void 0);d([u.cast("basemap")],l.prototype,"castBasemap",null);d([u.property({type:E.default,json:{write:!0}})],l.prototype,"ground",void 0);d([u.property({type:y,json:{write:{isRequired:!0}}})],
l.prototype,"visibleLayers",null);d([u.cast("visibleLayers")],l.prototype,"castVisibleLayers",null);d([u.property({type:B,json:{write:!0}})],l.prototype,"environment",void 0);return l=d([u.subclass("esri.webscene.Slide")],l)}(u.declared(G))})},"esri/webdoc/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(n,g,k,a,d,b){Object.defineProperty(g,
"__esModule",{value:!0});n=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.url="";return a}k(c,d);e=c;c.prototype.clone=function(){return new e({url:this.url})};var e;a([b.property({type:String,json:{write:{isRequired:!0}}})],c.prototype,"url",void 0);return c=e=a([b.subclass("esri.webdoc.support.Thumbnail")],c)}(b.declared(d));g.default=n})},"esri/webscene/support/Description":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(n,g,k,a,d,b){Object.defineProperty(g,"__esModule",{value:!0});n=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.text="";return a}k(c,d);e=c;c.prototype.clone=function(){return new e({text:this.text})};var e;a([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);return c=e=a([b.subclass("esri.webscene.support.Description")],c)}(b.declared(d));g.default=n})},"esri/webscene/support/SlideGround":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Ground ../../core/JSONSupport ../../core/accessorSupport/decorators ../../webdoc/support/opacityUtils".split(" "),
function(n,g,k,a,d,b,e,c){Object.defineProperty(g,"__esModule",{value:!0});n=function(b){function h(){var a=null!==b&&b.apply(this,arguments)||this;a.opacity=null;return a}k(h,b);g=h;h.prototype.clone=function(){return new g({opacity:this.opacity})};h.prototype.cloneAndApplyTo=function(a){if(null==this.opacity)return a;a=null!=a?a.clone():new d;a.opacity=this.opacity;return a};h.fromGround=function(a){return new g({opacity:a.opacity})};h.sanitizeJSON=function(a){return{transparency:a.transparency}};
var g;a([e.property({type:Number,json:{read:{reader:c.transparencyToOpacity,source:"transparency"},write:{writer:function(a,b){b.transparency=c.opacityToTransparency(a)},target:"transparency"}}})],h.prototype,"opacity",void 0);return h=g=a([e.subclass("esri.webscene.support.SlideGround")],h)}(e.declared(b));g.default=n})},"esri/webscene/support/Title":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(n,g,k,a,d,b){Object.defineProperty(g,"__esModule",{value:!0});n=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.text="";return a}k(c,d);e=c;c.prototype.clone=function(){return new e({text:this.text})};var e;a([b.property({type:String,json:{write:{isRequired:!0}}})],c.prototype,"text",void 0);return c=e=a([b.subclass("esri.webscene.support.Title")],c)}(b.declared(d));g.default=n})},"esri/webscene/Version":function(){define(["require","exports","../core/tsSupport/extendsHelper",
"../core/Version"],function(n,g,k,a){Object.defineProperty(g,"__esModule",{value:!0});n=function(a){function b(b,c){return a.call(this,b,c,"webscene")||this}k(b,a);Object.defineProperty(b.prototype,"supportsGround",{get:function(){return this.since(1,8)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"supportsVisibleElevationLayersInSlides",{get:function(){return this.lessThan(1,8)},enumerable:!0,configurable:!0});return b}(a.Version);g.Version=n;g.default=n})},"esri/core/Version":function(){define(["require",
"exports","./Error"],function(n,g,k){Object.defineProperty(g,"__esModule",{value:!0});n=function(){function a(a,b,e){void 0===e&&(e="");this.major=a;this.minor=b;this._context=e}a.prototype.lessThan=function(a,b){return this.major<a||a===this.major&&this.minor<b};a.prototype.since=function(a,b){return!this.lessThan(a,b)};a.prototype.validate=function(a){if(this.major!==a.major)throw new k((this._context&&this._context+":")+"unsupported-version","Required major "+(this._context&&this._context+" ")+
"version is '"+this.major+"', but got '${version.major}.${version.minor}'",{version:a});};a.prototype.clone=function(){return new a(this.major,this.minor,this._context)};a.parse=function(d,b){void 0===b&&(b="");var e=d.split("."),c=e[0],e=e[1],g=/^\s*\d+\s*$/;if(!c||!c.match||!c.match(g))throw new k((b&&b+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:d});if(!e||!e.match||!e.match(g))throw new k((b&&b+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",
{version:d});d=parseInt(c,10);c=parseInt(e,10);return new a(d,c,b)};return a}();g.Version=n})},"*noref":1}});
define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/paramHelper ./core/tsSupport/assignHelper dojo/has ./kernel ./Map ./Viewpoint ./core/Collection ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/Logger ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators ./core/accessorSupport/originUtils ./core/accessorSupport/read ./geometry/Extent ./geometry/HeightModelInfo ./geometry/SpatialReference ./geometry/support/heightModelInfoUtils ./geometry/support/jsonUtils ./portal/Portal ./portal/PortalItem ./support/webSceneUtils ./webscene/ApplicationProperties ./webscene/Environment ./webscene/InitialViewProperties ./webscene/Presentation ./webscene/Version".split(" "),function(n,
g,k,a,d,b,e,c,m,h,G,p,H,x,u,D,t,A,q,B,M,C,E,w,N,I,y,J,O,l,z,P,Q,K){var F=D.getLogger("esri.WebScene"),L=new K.default(1,11);return function(e){function f(a){a=e.call(this)||this;a.applicationProperties=null;a.clippingArea=null;a.clippingEnabled=!1;a.heightModelInfo=null;a.sourceVersion=null;a.supportsHeightModelInfo=!0;a.presentation=null;a.initialViewProperties=null;a.portalItem=null;a.resourceInfo=null;a.authoringApp=null;a.authoringAppVersion=null;a._isAuthoringAppSetByUser=!1;a._isAuthoringAppVersionSetByUser=
!1;return a}k(f,e);f.prototype.initialize=function(){this.when().catch(function(a){F.error("#load()","Failed to load web scene",a)});if(this.resourceInfo){var a=void 0;try{a=this._validateJSON(this.resourceInfo)}catch(v){this.addResolvingPromise(t.reject(v));return}this.read(a);this.addResolvingPromise(this._validateSpatialReference());this.addResolvingPromise(this._validateHeightModelInfo())}};f.prototype.getDefaults=function(a){return b({},this.inherited(arguments),{presentation:{},initialViewProperties:{}})};
f.prototype.writeClippingArea=function(a,b){b.clippingArea||(b.clippingArea={});b.clippingArea.geometry=a.toJSON()};f.prototype.readClippingEnabled=function(a,b){return b.clippingArea?!!b.clippingArea.clip:!1};f.prototype.writeClippingEnabled=function(a,b){this.clippingArea&&(b.clippingArea||(b.clippingArea={}),b.clippingArea.clip=a)};f.prototype.writeLayers=function(a,c,d,e){var r=this,v=b({},e,{layerContainerType:"operational-layers"});a=a.filter(function(a){return r.verifyWriteLayer(a,v)}).map(function(a){return a.write(null,
v)}).filter(function(a){return!!a});c[d]=a.toArray()};f.prototype.verifyWriteLayer=function(a,b){return a.write?!0:(b&&b.messages&&b.messages.push(new p("layer:unsupported","Layers ("+a.title+", "+a.id+") of type '"+a.declaredClass+"' cannot be persisted in web scenes",{layer:a})),!1)};f.prototype.readSourceVersion=function(a,b){a=b.version.split(".");b=a[1];return new K.default(parseInt(a[0],10),parseInt(b,10))};f.prototype.writeSourceVersion=function(a,b,c){b[c]=L.major+"."+L.minor};Object.defineProperty(f.prototype,
"authoringApp",{set:function(a){this._isAuthoringAppSetByUser=!0;this._set("authoringApp",a)},enumerable:!0,configurable:!0});f.prototype.writeAuthoringApp=function(a,b){b.authoringApp=a&&this._isAuthoringAppSetByUser?a:"ArcGIS API for JavaScript"};Object.defineProperty(f.prototype,"authoringAppVersion",{set:function(a){this._isAuthoringAppVersionSetByUser=!0;this._set("authoringAppVersion",a)},enumerable:!0,configurable:!0});f.prototype.writeAuthoringAppVersion=function(a,b){b.authoringAppVersion=
a&&this._isAuthoringAppVersionSetByUser?a:c.version};f.prototype.writeGround=function(a,b,c,d){b[c]=a?a.write(null,d):{transparency:0,layers:[]}};f.prototype.readInitialViewProperties=function(a,b){a={};b.initialState&&b.initialState.environment&&(a.environment=z.fromJSON(b.initialState.environment));b.spatialReference&&(a.spatialReference=w.fromJSON(b.spatialReference));a.viewingMode=b.viewingMode||"global";b.initialState&&b.initialState.viewpoint&&(a.viewpoint=h.fromJSON(b.initialState.viewpoint));
return new P(a)};f.prototype.writeInitialViewProperties=function(a,b,c,d){a&&(c={},a.environment&&(c.environment=a.environment.write({},d)),a.viewpoint&&(c.viewpoint=a.viewpoint.write({},d)),0!==Object.keys(c).length&&(b.initialState=c),b.spatialReference=a.spatialReference?a.spatialReference.write({},d):w.WebMercator.toJSON(),b.viewingMode=null!=a.viewingMode?a.viewingMode:"global")};f.prototype.load=function(){this.addResolvingPromise(this._loadFromSource());return this.when()};f.prototype.read=
function(a,c){var d=this;c=b({},c,{origin:"web-scene"});var r=this._isAuthoringAppVersionSetByUser,e=this._isAuthoringAppSetByUser,v=arguments;M.readLoadable(this,a,function(b){return d.inherited(v,[a,b])},c);e||(this._isAuthoringAppSetByUser=!1);r||(this._isAuthoringAppVersionSetByUser=!1);if(a.baseMap&&Array.isArray(a.baseMap.elevationLayers)&&this.sourceVersion.supportsVisibleElevationLayersInSlides){var r=a.baseMap.elevationLayers.map(function(a){return{id:a.id}}),f=this.presentation.slides,g=
function(a,b){return a.visibleLayers.some(function(a){return a.id===b})},h=r.filter(function(a){return!f.some(function(b){return g(b,a.id)})});f.forEach(function(a){a.visibleLayers.addMany(h)})}return this};f.prototype._writeBasemapElevationLayers=function(a){var b=a.ground&&a.ground.layers;!a.baseMap&&b&&b.length&&(a.baseMap={title:"Basemap",baseMapLayers:[]});a.baseMap&&(a.baseMap.elevationLayers=x.clone(b))};f.prototype.write=function(a,c){if("loaded"!==this.loadStatus){var d=new p("webscene:not-loaded",
"Web scene must be loaded before it can be serialized");F.error("#toJSON()","Web scene must be loaded before it can be serialized",this.loadError||this.loadStatus);throw d;}c=b({},c,{origin:"web-scene"});d=this.inherited(arguments,[a,c]);this._writeBasemapElevationLayers(d);return d};f.prototype.save=function(a){var b=this;if(!this.portalItem)return F.error("save(): requires the .portalItem property to be set"),t.reject(new p("webscene:portal-item-not-set","Portal item to save to has not been set on the WebScene"));
if("Web Scene"!==this.portalItem.type)return t.reject(new p("webscene:portal-item-wrong-type",'Portal item needs to have type "Web Scene"'));var c,d;return this.load().then(function(){return b._loadObjectsWithLayers()}).then(function(){c=b._enableVerifyItemRelativeUrls({origin:"web-scene",url:b.portalItem.itemUrl&&A.urlToObject(b.portalItem.itemUrl),messages:[],portal:b.portalItem.portal||y.getDefault(),writtenProperties:[],blockedRelativeUrls:[]});d=b.write(null,c);return b._verifySave(d,c,a).then(function(){b._updateTypeKeywords(b.portalItem);
return b.portalItem.update({data:d})})}).then(function(){B.updateOrigins(c);return t.resolve(b.portalItem)})};f.prototype.saveAs=function(a,b){var c=this;if(!a)return F.error("saveAs(portalItem): requires a portal item parameter"),t.reject(new p("webscene:portal-item-required","saveAs requires a portal item to save to"));if(a.type&&"Web Scene"!==a.type||a.id)return t.reject(new p("webscene:portal-item-already-exists","WebScene can only saveAs to a new and empty portal item"));var d=a.portal||y.getDefault(),
r,e;return this.load().then(function(){return c._loadObjectsWithLayers()}).then(function(){r=c._enableVerifyItemRelativeUrls({origin:"web-scene",url:null,messages:[],portal:d,writtenProperties:[],blockedRelativeUrls:[]});e=c.write(null,r);return c._verifySaveAs(e,r,b).then(function(){return d._signIn()})}).then(function(){a.type="Web Scene";a.portal=d;c._updateTypeKeywords(a);return d.user.addItem({item:a,folder:b&&b.folder,data:e})}).then(function(){c.portalItem=a;H.prototype.read.call(c,{version:e.version,
authoringApp:e.authoringApp,authoringAppVersion:e.authoringAppVersion},{name:"web-scene",url:a.itemUrl&&A.urlToObject(a.itemUrl)});B.updateOrigins(r);return t.resolve(a)})};f.prototype._verifySave=function(a,b,c,d){void 0===d&&(d=!1);var r=b.messages.filter(function(a){return"error"===a.type}).map(function(a){return new p(a.name,a.message,a.details)});b.blockedRelativeUrls&&(r=r.concat(b.blockedRelativeUrls.map(function(a){return new p("url:unsupported","Relative url '"+a+"' is not supported in Web Scene")})));
c&&c.ignoreUnsupported&&(r=r.filter(function(a){return"layer:unsupported"!==a.name&&"symbol:unsupported"!==a.name&&"symbol-layer:unsupported"!==a.name&&"property:unsupported"!==a.name}));c&&c.strictSchemaValidationEnabled||(r=r.filter(function(a){return"web-document-write:property-required"!==a.name}));var e=c&&c.strictSchemaValidationEnabled;return(e?t.create(function(a){return n(["./webscene/validator"],a)}).then(function(b){b=b.validate(a);if(0<b.length){var c="webscene did not validate:\n"+b.join("\n");
F.error((d?"saveAs":"save")+"(): "+c)}return b.map(function(a){return new p("webscene:schema-validation",a)})}).then(function(a){return e&&0<a.length?(a=O.createSchemaValidationError(a.concat(r)),t.reject(a)):r}):t.resolve(r)).then(function(a){if(0<a.length)return t.reject(new p("webscene:save","Failed to save webscene due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a}))})};f.prototype._verifySaveAs=function(a,b,c){return this.canSaveAs(b)?t.reject(O.createCopyError()):
this._verifySave(a,b,c,!0)};f.prototype.verifySaveAs=function(a){var b=this._enableVerifyItemRelativeUrls({origin:"web-scene",messages:[]}),c=this.write(null,b);return this._verifySaveAs(c,b,a)};f.prototype.canSaveAs=function(a){a||(a=this._enableVerifyItemRelativeUrls({origin:"web-scene",messages:[]}),this.write(null,a));return a.verifyItemRelativeUrls&&0<a.verifyItemRelativeUrls.writtenUrls.length};f.prototype.updateFrom=function(a,b){void 0===b&&(b={});b.environmentExcluded||(this.initialViewProperties.environment=
z.prototype.clone.apply(a.environment));b.viewpointExcluded||(this.initialViewProperties.viewpoint=a.viewpoint.clone());this.initialViewProperties.spatialReference=a.spatialReference.clone();this.initialViewProperties.viewingMode=a.viewingMode;a.clippingArea?a.clippingArea!==this.clippingArea&&(this.clippingArea=a.clippingArea.clone(),this.clippingEnabled=!0):this.clippingEnabled=!1;a.heightModelInfo&&(this.heightModelInfo=a.heightModelInfo.clone());a.map===this&&a.allLayerViews.forEach(function(a){a.layer.visible=
a.visible})};f.prototype._loadFromSource=function(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-scene"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):this._loadObjectsWithLayers()};f.prototype._readAndLoadFromJSON=function(a,b){a=this._validateJSON(a,b&&b.url&&b.url.path);this.read(a,b);return this._loadFromJSON(a,b)};f.prototype._extractOperationalLayers=function(a){var b=this,c=[];if(!this.sourceVersion.supportsGround&&a.baseMap&&Array.isArray(a.baseMap.elevationLayers))for(var d=
0,e=a.baseMap.elevationLayers;d<e.length;d++)c.push(e[d]);var r=[],f=function(a){a.layers&&(a.layers=a.layers.filter(f));return"ArcGISTiledElevationServiceLayer"===a.layerType?(b.sourceVersion.supportsGround||r.push(a),!1):!0};return{operationalLayers:a.operationalLayers?a.operationalLayers.filter(f):[],operationalElevationLayers:r,basemapElevationLayers:c}};f.prototype._loadFromJSON=function(a,c){var d=this,e=new G;return this._validateSpatialReference().then(function(){return d._validateHeightModelInfo()}).then(function(){return t.create(function(a){return n(["./portal/support/layersCreator"],
a)})}).then(function(r){var f=d._extractOperationalLayers(a),g=f.operationalLayers,h=f.operationalElevationLayers,f=f.basemapElevationLayers,k=[],v={context:b({},c,{layerContainerType:"operational-layers"})};d.portalItem&&(v.context.portal=d.portalItem.portal||y.getDefault());if(0<f.length){var l=b({},v,{context:b({},v.context,{layerContainerType:"ground"})});l.defaultLayerType="ArcGISTiledElevationServiceLayer";k.push.apply(k,r.populateOperationalLayers(d.ground.layers,f,l))}0<h.length&&(l=b({},
v,{context:b({},v.context,{layerContainerType:"ground"})}),l.defaultLayerType="ArcGISTiledElevationServiceLayer",k.push.apply(k,r.populateOperationalLayers(e,h,l)));g&&0<g.length&&k.push.apply(k,r.populateOperationalLayers(d.layers,g,v));return t.eachAlways(k).then(function(){})}).then(function(){return d._loadObjectsWithLayers()}).then(function(){d.ground.layers.addMany(e)})};f.prototype._loadObjectsWithLayers=function(){var a=[];this.ground&&a.push(this.ground.load());this.basemap&&a.push(this.basemap.load());
this.presentation.slides.forEach(function(b){b.basemap&&a.push(b.basemap.load())});return t.eachAlways(a).then(function(){})};f.prototype._loadFromItem=function(a){var b=this;return a.load().catch(function(a){throw new p("webscene:load-portal-item","Failed to load portal item",{error:a});}).then(function(){if("Web Scene"!==a.type)throw new p("webscene:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Scene'",{type:a.type});}).then(function(){return a.fetchData()}).then(function(c){b.resourceInfo=
c;return b._readAndLoadFromJSON(c,{origin:"web-scene",url:A.urlToObject(a.itemUrl),portal:a.portal||y.getDefault()})})};f.prototype._validateSpatialReference=function(){var a=this.initialViewProperties,b=this._sceneSpatialReference,c;if("local"!==a.viewingMode){if(!b.isWGS84&&!b.isWebMercator)return t.reject(new p("webscene:unsupported-spatial-reference","Unsupported spatial reference (${spatialReference.wkid}) in global mode, only Web Mercator or WGS84 GCS are supported",{spatialReference:b,viewingMode:a.viewingMode}));
c=function(a){return!a||a.isWGS84||a.isWebMercator}}else{if(b.isGeographic)return t.reject(new p("webscene:unsupported-spatial-reference","Unsupported spatial reference (${spatialReference.wkid}) in local mode, only projected coordinate systems are supported",{spatialReference:b,viewingMode:a.viewingMode}));c=function(a){return!a||a.equals(b)}}var d=function(a){return a&&(a.camera&&a.camera.position&&a.camera.position.spatialReference||a.targetGeometry&&a.targetGeometry.spatialReference)},e=d(a.viewpoint);
return e&&!c(e)?t.reject(new p("webscene:incompatible-camera-spatial-reference","Camera spatial reference (${cameraSpatialReference.wkid}) is incompatible with the scene spatial reference (${sceneSpatialReference.wkid})",{cameraSpatialReference:e,sceneSpatialReference:b,viewingMode:a.viewingMode})):(e=this.presentation.slides.find(function(a){return!c(d(a.viewpoint))}))?(e=d(e.viewpoint),t.reject(new p("webscene:incompatible-slide-spatial-reference","Slide spatial reference (${slideSpatialReference.wkid}) is incompatible with the scene spatial reference (${sceneSpatialReference.wkid})",
{slideSpatialReference:e,sceneSpatialReference:b,viewingMode:a.viewingMode}))):t.resolve()};f.prototype._validateHeightModelInfo=function(){var a=N.validateWebSceneError(this.heightModelInfo,this._sceneSpatialReference);return a?t.reject(a):t.resolve()};f.prototype._validateJSON=function(a,b){void 0===b&&(b=null);a=this._sanitizeJSON(a,b);b=K.default.parse(a.version,"webscene");L.validate(b);a.version=b.major+"."+b.minor;1===b.major&&2>=b.minor&&(a.spatialReference=w.WebMercator.toJSON());return a};
f.prototype._sanitizeJSON=function(a,b){void 0===b&&(b=null);return{version:a.version||"",baseMap:a.baseMap,ground:a.ground,operationalLayers:a.operationalLayers,authoringApp:a.authoringApp||"",authoringAppVersion:a.authoringAppVersion||"",viewingMode:a.viewingMode||"global",presentation:a.presentation&&Q.sanitizeJSON(a.presentation)||{},initialState:a.initialState,spatialReference:a.spatialReference||w.WebMercator.toJSON(),heightModelInfo:a.heightModelInfo||null,clippingArea:a.clippingArea,applicationProperties:a.applicationProperties}};
f.prototype._updateTypeKeywords=function(a){"local"===this.initialViewProperties.viewingMode?a.typeKeywords?-1===a.typeKeywords.indexOf("ViewingMode-Local")&&a.typeKeywords.push("ViewingMode-Local"):a.typeKeywords=["ViewingMode-Local"]:"global"===this.initialViewProperties.viewingMode&&a.typeKeywords&&(a.typeKeywords=a.typeKeywords.filter(function(a){return"ViewingMode-Local"!==a}));a.typeKeywords&&(a.typeKeywords=a.typeKeywords.filter(function(a,b,c){return c.indexOf(a)===b}))};Object.defineProperty(f.prototype,
"_sceneSpatialReference",{get:function(){return this.initialViewProperties.spatialReference||w.WebMercator},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"_verifyItemRelativeRootPath",{get:function(){return this.portalItem&&this.portalItem.itemUrl?A.urlToObject(this.portalItem.itemUrl).path:null},enumerable:!0,configurable:!0});f.prototype._enableVerifyItemRelativeUrls=function(a){var b=this._verifyItemRelativeRootPath;b&&(a.verifyItemRelativeUrls={rootPath:b,writtenUrls:[]});
return a};f.fromJSON=function(a){if(!a)throw new p("webscene:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:a})};f.VERSION=L;a([q.property({type:l,json:{write:!0}})],f.prototype,"applicationProperties",void 0);a([q.property({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],f.prototype,"basemap",void 0);a([q.property({type:C,json:{read:{source:"clippingArea.geometry",reader:I.fromJSON},write:{target:"clippingArea.geometry"}}})],f.prototype,"clippingArea",
void 0);a([q.writer("clippingArea")],f.prototype,"writeClippingArea",null);a([q.property({type:Boolean,json:{write:{target:"clippingArea.clip"}}})],f.prototype,"clippingEnabled",void 0);a([q.reader("clippingEnabled",["clippingArea"])],f.prototype,"readClippingEnabled",null);a([q.writer("clippingEnabled")],f.prototype,"writeClippingEnabled",null);a([q.property({type:E,json:{write:!0}})],f.prototype,"heightModelInfo",void 0);a([q.property({json:{write:{target:"operationalLayers"}}})],f.prototype,"layers",
void 0);a([q.writer("layers")],f.prototype,"writeLayers",null);a([q.property({readOnly:!0,type:K.default,json:{type:String,write:{allowNull:!0,target:"version",isRequired:!0}}})],f.prototype,"sourceVersion",void 0);a([q.reader("sourceVersion",["version"])],f.prototype,"readSourceVersion",null);a([q.writer("sourceVersion")],f.prototype,"writeSourceVersion",null);a([q.property({type:String,json:{write:{allowNull:!0}}})],f.prototype,"authoringApp",null);a([q.writer("authoringApp")],f.prototype,"writeAuthoringApp",
null);a([q.property({type:String,json:{write:{allowNull:!0}}})],f.prototype,"authoringAppVersion",null);a([q.writer("authoringAppVersion")],f.prototype,"writeAuthoringAppVersion",null);a([q.property({json:{write:{isRequired:!0,allowNull:!0,enabled:!0}}})],f.prototype,"ground",void 0);a([q.writer("ground")],f.prototype,"writeGround",null);a([q.property({type:Q,json:{write:function(a,c,d,e){a.slides&&0<a.slides.length&&(d=b({},e,{isPresentation:!0}),c.presentation=a.write(null,d))}}})],f.prototype,
"presentation",void 0);a([q.property({type:P})],f.prototype,"initialViewProperties",void 0);a([q.reader("initialViewProperties",["initialState.environment","spatialReference","viewingMode","initialState.viewpoint"])],f.prototype,"readInitialViewProperties",null);a([q.writer("initialViewProperties",{"initialState.environment":{type:z},spatialReference:{type:w},viewingMode:{type:String},"initialState.viewpoint":{type:h}})],f.prototype,"writeInitialViewProperties",null);a([q.property({type:J})],f.prototype,
"portalItem",void 0);a([q.property()],f.prototype,"resourceInfo",void 0);a([d(0,q.cast(J))],f.prototype,"saveAs",null);a([q.property()],f.prototype,"_sceneSpatialReference",null);a([q.property()],f.prototype,"_verifyItemRelativeRootPath",null);return f=a([q.subclass("esri.WebScene")],f)}(q.declared(m,u,H))});