//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib @dojo/shim/iterator @dojo/shim/Promise @dojo/shim/Symbol".split(" "),a)})(function(a,h){function k(f){var l=[];if(m.isArrayLike(f))for(var b=0;b<f.length;b++){var c=f[b];l.push(c instanceof n?c._promise:c)}else try{for(var b=p.__values(f),d=b.next();!d.done;d=b.next())c=d.value,l.push(c instanceof n?c._promise:
c)}catch(q){a={error:q}}finally{try{d&&!d.done&&(e=b.return)&&e.call(b)}finally{if(a)throw a.error;}}return l;var a,e}Object.defineProperty(h,"__esModule",{value:!0});var p=a("tslib"),m=a("@dojo/shim/iterator"),g=a("@dojo/shim/Promise");a("@dojo/shim/Symbol");h.unwrapPromises=k;var n=function(){function a(a){this._promise=new g.default(a)}a.reject=function(a){return new this(function(b,c){return c(a)})};a.resolve=function(a){return new this(function(b,c){return b(a)})};a.all=function(a){if(!m.isArrayLike(a)&&
!m.isIterable(a)){var b=Object.keys(a);return new this(function(c,d){g.default.all(b.map(function(b){return a[b]})).then(function(a){var d={};a.forEach(function(a,c){d[b[c]]=a});c(d)},d)})}return new this(function(b,d){g.default.all(k(a)).then(b,d)})};a.race=function(a){return new this(function(b,c){g.default.race(k(a)).then(b,c)})};a.prototype.catch=function(a){return this.then(void 0,a)};a.prototype.then=function(a,b){var c=this;return new this.constructor(function(d,f){function e(c,e){var g=c?
b:a;if("function"===typeof g)try{d(g(e))}catch(r){f(r)}else c?f(e):d(e)}c._promise.then(e.bind(null,!1),e.bind(null,!0))})};return a}();h.default=n});