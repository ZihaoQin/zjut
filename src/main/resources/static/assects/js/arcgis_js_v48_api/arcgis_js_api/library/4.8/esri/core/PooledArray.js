// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define(["require","exports","./arrayUtils","./HeapSort"],function(h,k,e,g){return function(){function b(a){var d=this;this.data=[];this._length=0;this._deallocator=this._allocator=null;this._shrink=function(){};this._hint=new e.RemoveHint;if(a){a.initialSize&&(this.data=Array(a.initialSize));if(a.allocator){if(this._allocator=a.allocator,a.deallocator&&(this._deallocator=a.deallocator),a.initialSize)for(var c=0;c<a.initialSize;++c)this.data[c]=this._allocator(c)}else this._deallocator=function(a,
c){return d.data[c]=void 0};a.shrink&&(this._shrink=function(){d.data.length>2*d.length&&(d.data.length=d.length)})}}b.prototype.toArray=function(){return this.data.slice(0,this.length)};Object.defineProperty(b.prototype,"length",{get:function(){return this._length},set:function(a){if(this._allocator)for(;this.data.length<a;)this.data.push(this._allocator(this.data.length));if(this._deallocator)for(var d=a;d<this._length;++d)this._deallocator(this.data[d],d);this._length=a;this._shrink()},enumerable:!0,
configurable:!0});b.prototype.clear=function(){this.length=0};b.prototype.equal=function(a){return e.equals(this.data,a.data)};b.prototype.push=function(a){this.data.length===this.length&&this._grow(2*(this.length+1));return this.data[this.length++]=a};b.prototype.pushArray=function(a){var d=this.length+a.length;d>=this.data.length&&this._grow(Math.max(2*this.length,d));for(d=0;d<a.length;d++)this.data[this._length++]=a[d];return this.back()};b.prototype.pushNew=function(){this.data.length===this.length&&
this._grow(2*(this.length+1));++this._length;return this.back()};b.prototype.pushAny=function(a){return void 0===a?this.pushNew():Array.isArray(a)?this.pushArray(a):this.push(a)};b.prototype.pop=function(){if(0!==this.length){var a=this.data[this.length-1];--this.length;this._shrink();return a}};b.prototype.removeMany=function(a){var d=this,c=[];this.data=this.data.filter(function(b,e){if(e>=d.length)return!1;if(0>a.indexOf(b))return!0;c.push(b);return!1});this._length=this.data.length;return c};
b.prototype.removeUnordered=function(a){a=e.removeUnordered(this.data,a,this.length,this._hint);void 0!==a&&--this.length;return a};b.prototype.removeUnorderedMany=function(a){a=e.removeUnorderedMany(this.data,a,this.length,this._hint);this.length-=a.length;return a};b.prototype.front=function(){if(0!==this.length)return this.data[0]};b.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};b.prototype.swapElements=function(a,d){var c;a>=this.length||d>=this.length||(c=[this.data[d],
this.data[a]],this.data[a]=c[0],this.data[d]=c[1])};b.prototype.sort=function(a){g.sort(this.data,0,this.length,a)};b.prototype.some=function(a,d){for(var c=0;c<this.length;++c)if(a.call(d,this.data[c],c,this.data))return!0;return!1};b.prototype.find=function(a,d){for(var c=0;c<this.length;++c){var b=this.data[c];if(a.call(d,b,c,this.data))return b}};b.prototype.filter=function(a,d,c){c=c||new b;for(var f=0;f<this.length;++f)a.call(d,this.data[f],f,this.data)&&c.push(this.data[f]);return c};b.prototype.forEach=
function(a,d){for(var c=0;c<this.length;++c)a.call(d,this.data[c],c,this.data)};b.prototype.map=function(a,d){for(var c=Array(this.length),b=0;b<this.length;++b)c[b]=a.call(d,this.data[b],b,this.data);return c};b.prototype._grow=function(a){if(this._allocator)for(;this.data.length<a;)this.data.push(this._allocator(this.data.length))};return b}()});