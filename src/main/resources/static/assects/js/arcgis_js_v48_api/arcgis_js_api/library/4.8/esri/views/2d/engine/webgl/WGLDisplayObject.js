// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/libs/gl-matrix/vec2 ./WGLDisplayRecord ./collisions/Metric ./util/serializationUtils".split(" "),function(l,m,h,k,g,f){return function(){function c(a){this.yOverflow=this.xOverflow=this.yBucket=this.xBucket=-1;this.id=a;this.displayRecords=[];this.metrics=[];this.anchor=null}c.prototype.copy=function(){var a=new c(this.id);a.set(this);return a};c.prototype.set=function(a){this.id=a.id;this.displayRecords=a.displayRecords;this.metrics=a.metrics;this.anchor=
a.anchor;this.xBucket=a.xBucket;this.yBucket=a.yBucket;this.xOverflow=a.xOverflow;this.yOverflow=a.yOverflow};c.prototype.addMetric=function(a,b,c,d){this.metrics.push(new g.default(a,{from:b,count:c},d))};c.prototype.serialize=function(a){a.writeInt32(this.id);f.serializeList(a,this.metrics);f.serializeList(a,this.displayRecords);this.anchor?(a.writeF32(this.anchor[0]),a.writeF32(this.anchor[1]),a.writeInt32(this.xBucket),a.writeInt32(this.yBucket),a.writeInt32(this.xOverflow),a.writeInt32(this.yOverflow)):
(a.writeF32(0),a.writeF32(0));return a};c.deserialize=function(a,b){var e=b.store,d=a.readInt32();b=new c(d);e={id:d,store:e};d=f.deserializeList(a,g.default);d.length&&(b.metrics=d);b.displayRecords=f.deserializeList(a,k,e);e=a.readF32();d=a.readF32();if(e||d)b.anchor=h.fromValues(e,d),b.xBucket=a.readInt32(),b.yBucket=a.readInt32(),b.xOverflow=a.readInt32(),b.yOverflow=a.readInt32();return b};return c}()});