// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../../core/tsSupport/extendsHelper ../../../../../../core/tsSupport/decorateHelper ../../../../../../core/ObjectFactory ../../../../../../core/ObjectPool ../../../../../../renderers/support/heatmapUtils ../../../../engine/BitmapSource".split(" "),function(e,f,g,n,h,k,m,l){Object.defineProperty(f,"__esModule",{value:!0});var d=new h.default(function(){var c=document.createElement("canvas");c.width=c.height=512;return c},function(c){c.width=c.height=512});e=function(c){function a(){var b=
c.call(this,d.acquire())||this;b._invalidated=!0;b._gradient=null;return b}g(a,c);Object.defineProperty(a.prototype,"gradient",{get:function(){return this._gradient},set:function(b){this._gradient=b;this.invalidate()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"intensities",{get:function(){return this._intensities},set:function(b){this._intensities=b;this.invalidate()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"minPixelIntensity",{get:function(){return this._minPixelIntensity},
set:function(b){this._minPixelIntensity=b;this.invalidate()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"maxPixelIntensity",{get:function(){return this._maxPixelIntensity},set:function(b){this._maxPixelIntensity=b;this.invalidate()},enumerable:!0,configurable:!0});a.prototype.acquire=function(){this.data=d.acquire()};a.prototype.release=function(){d.release(this.data);this.gradient=this.intensities=this.data=null};a.prototype.draw=function(b,a,d,e,f,g,h,k,l){if(this._invalidated){this._invalidated=
!1;if(!this._gradient||!this._intensities)return;m.drawHeatmap(this.data,512,this._intensities,this._gradient,this._minPixelIntensity,this._maxPixelIntensity)}c.prototype.draw.call(this,b,a,d,e,f,g,h,k,l)};a.prototype.invalidate=function(){this._invalidated=!0;this.emit("update",this)};a.pool=new k(a,!0);return a}(l.default);f.default=e});