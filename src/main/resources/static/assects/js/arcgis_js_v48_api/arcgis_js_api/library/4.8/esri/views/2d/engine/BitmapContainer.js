// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../ViewState ../viewStateUtils ./Container".split(" "),function(p,q,k,r,l,m,n){var h=[0,0];return function(e){function b(){var a=null!==e&&e.apply(this,arguments)||this;a._childrenCanvas=null;a._childrenRenderParameters={context:null,pixelRatio:1,state:new l,stationary:!0};return a}k(b,e);b.prototype.attach=function(a){this._childrenCanvas||(this._childrenCanvas=document.createElement("canvas"),this._childrenRenderParameters.context=
this._childrenCanvas.getContext("2d"));return e.prototype.attach.call(this,a)};b.prototype.detach=function(a){e.prototype.detach.call(this,a);this._childrenCanvas=null;this._childrenRenderParameters.context=null};b.prototype.doRender=function(a){this.visible&&e.prototype.doRender.call(this,a)};b.prototype.prepareChildrenRenderParameters=function(a){var g=this._childrenCanvas,d=this._childrenRenderParameters,c=a.state,b=c.pixelRatio,e=d.state;e.copy(c);var f=m.getOuterSize(h,c),c=f[0],f=f[1],c=c*b,
f=f*b;e.size=h;e.viewpoint.rotation=0;g.width!==c||g.height!==f?(g.width=c,g.height=f):d.context.clearRect(0,0,c,f);d.pixelRatio=a.pixelRatio;return d};b.prototype.beforeRenderChildren=function(a,b){this.sortChildren(function(a,c){return c.resolution-a.resolution})};b.prototype.afterRenderChildren=function(a,b){var d=a.context;a=a.state;var c=b.context;b=b.state;0===a.rotation?d.drawImage(c.canvas,0,0):(d.save(),d.translate(.5*a.width,.5*a.height),d.rotate(a.rotation*Math.PI/180),d.translate(.5*-a.width,
.5*-a.height),d.drawImage(c.canvas,.5*(a.width-b.width),.5*(a.height-b.height)),d.restore())};return b}(n)});