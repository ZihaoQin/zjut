//>>built
(function(g){"object"===typeof module&&"object"===typeof module.exports?(g=g(require,exports),void 0!==g&&(module.exports=g)):"function"===typeof define&&define.amd&&define("require exports tslib @dojo/shim/object @dojo/shim/object @dojo/shim/Set".split(" "),g)})(function(g,q){function z(a,b,d,c){a=u.assign(t(null),{type:a,name:b});d&&(a.descriptor=d);c&&(a.valueRecords=c);return a}function D(a,b,d){a=u.assign(t(null),{type:"splice",start:a,deleteCount:b});d&&d.length&&(a.add=d);return a}function E(a,
b,d,c){void 0===b&&(b=!0);void 0===d&&(d=!0);void 0===c&&(c=!0);return u.assign(t(null),{value:a,writable:b,enumerable:d,configurable:c})}function Q(a,b,d){function c(){(v||f.length)&&h.push(D(x,x+v>m?m-x:v,f))}function p(a,b,d){a>g+1&&(c(),x=a,v=0,f.length&&(f=[]));b&&f.push(d);v++;g=a}var l=d.allowFunctionValues,e=void 0===l?!1:l,l=a.length,k=n(b)?b:[],m=k.length,h=[];if(!l&&m)return h.push(D(0,m)),h;var f=[],x=0,v=0,g=-1;a.forEach(function(a,b){var c=k[b];if(!(b in k&&(a===c||e&&"function"===typeof a&&
"function"===typeof c))){var f=n(a),h=r(a);if(f||h)c=f?n(c)?c:[]:r(c)?c:Object.create(null),w(a,c,d).length&&p(b,!0,w(a,c,d));else if(F(a))p(b,!0,a);else if(e&&"function"===typeof a)p(b,!0,a);else throw new TypeError('Value of array element "'+b+'" from first argument is not a primative, plain Object, or Array.');}});if(m>l)for(a=l;a<m;a++)p(a,!1);c();return h}function R(a,b,d){var c=d.allowFunctionValues,p=void 0===c?!1:c,c=d.ignorePropertyValues,l=void 0===c?[]:c,c=[],e=G(a,b,d),k=e.comparableA,
m=e.comparableB;y.keys(k).reduce(function(c,f){var h=a[f],e=b[f],k=A.call(m,f);if(k&&(h===e||p&&"function"===typeof h&&"function"===typeof e))return c;var k=k?"update":"add",g=n(h),q=r(h);if(g||q)e=g&&n(e)||q&&r(e)?e:g?[]:t(null),w(h,e,d).length&&c.push(z(k,f,E(e),w(h,e,d)));else if(B(h)&&!B(e))(f=h.diff(e,f,b))&&c.push(f);else if(B(e))(f=e.diff(h,f,a))&&c.push(f);else if(F(h)||p&&"function"===typeof h||H(f,a,b,l))c.push(z(k,f,E(h)));else throw new TypeError('Value of property named "'+f+'" from first argument is not a primative, plain Object, or Array.');
return c},c);y.keys(m).reduce(function(a,b){A.call(k,b)||a.push(z("delete",b));return a},c);return c}function G(a,b,d){var c=d.ignoreProperties,p=void 0===c?[]:c;d=d.ignorePropertyValues;var l=void 0===d?[]:d,e=new I.default,k=new I.default,m=Array.isArray(p)?function(a){return p.some(function(b){return"string"===typeof b?a===b:b.test(a)})}:function(d){return p(d,a,b)};d=y.keys(a).reduce(function(d,c){if(m(c)||A.call(b,c)&&H(c,a,b,l))return e.add(c),d;k.add(c);d[c]=a[c];return d},{});c=y.keys(b).reduce(function(a,
d){if(e.has(d)||!k.has(d)&&m(d))return a;a[d]=b[d];return a},{});return{comparableA:d,comparableB:c,ignore:e}}function J(a){return!!(a&&"object"===typeof a&&null!==a&&a.Ctor&&a.name)}function H(a,b,d,c){return Array.isArray(c)?c.some(function(b){return"string"===typeof b?a===b:b.test(a)}):c(a,b,d)}function r(a){return!(!a||"object"!==typeof a||a.constructor!==Object&&void 0!==a.constructor)}function F(a){var b=typeof a;return null===a||"undefined"===b||"string"===b||"number"===b||"boolean"===b}function B(a){return"object"===
typeof a&&a instanceof K}function L(a){return a&&"splice"===a.type&&"start"in a&&"deleteCount"in a}function S(a,b){var d=b.add,c=b.deleteCount;b=b.start;if(d&&d.length){var g=c?a.slice(b,b+c):[],d=d.map(function(a,b){b=g[b];var d;d=!!(n(a)&&a.length&&L(a[0]));var c;if(!(c=d)){if(c=n(a)&&a.length)c=a[0],c=!!(c&&c.type&&c.name);c=!!c}return c?C(d?n(b)?b:[]:r(b)?b:t(null),a):a});a.splice.apply(a,M.__spread([b,c],d))}else a.splice(b,c);return a}function N(a,b){var d=b.name;if("delete"===b.type)return delete a[d],
a;var c=b.descriptor;(b=b.valueRecords)&&b.length&&(c.value=C(c.value,b));O(a,d,c);return a}function P(a,b){var d=b.descriptor,d=void 0===d?T:d,c=b.Ctor,g=b.name,l=b.propertyRecords,e=new (c.bind.apply(c,M.__spread([void 0],b.args||[])));l&&l.forEach(function(a){return J(a)?P(e,a):N(e,a)});O(a,g,u.assign({value:e},d));return a}function w(a,b,d){void 0===d&&(d={});if("object"!==typeof a||"object"!==typeof b)throw new TypeError("Arguments are not of type object.");if(n(a))return Q(a,b,d);n(b)&&(b=t(null));
if(!r(a)||!r(b))throw new TypeError("Arguments are not plain Objects or Arrays.");return R(a,b,d)}function C(a,b){if(!n(a)&&!r(a))throw new TypeError("A target for a patch must be either an array or a plain object.");if(U(a)||V(a))throw new TypeError("Cannot patch sealed or frozen objects.");b.forEach(function(b){a=L(b)?S(n(a)?a:[],b):J(b)?P(a,b):N(r(a)?a:{},b)});return a}Object.defineProperty(q,"__esModule",{value:!0});var M=g("tslib"),u=g("@dojo/shim/object"),y=g("@dojo/shim/object"),I=g("@dojo/shim/Set"),
t=Object.create,A=Object.prototype.hasOwnProperty,O=Object.defineProperty,n=Array.isArray,U=Object.isFrozen,V=Object.isSealed;q.createConstructRecord=function(a,b,d){a=u.assign(t(null),{Ctor:a});b&&(a.args=b);d&&(a.descriptor=d);return a};var K=function(){function a(a){this._differ=a}a.prototype.diff=function(a,d,c){if((a=this._differ(a,d,c))&&"string"===typeof d)return u.assign(a,{name:d})};return a}();q.CustomDiff=K;q.getComparableObjects=G;var T={configurable:!0,enumerable:!0,writable:!0};q.diff=
w;q.patch=C});